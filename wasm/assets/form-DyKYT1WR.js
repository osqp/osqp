import{s as ae}from"./chunk-DZLz74EQ.js";import{t as yr}from"./react-BcIddLXZ.js";import{mt as wr}from"./cells-Dd1FatlG.js";import{_ as Te,c as Nr,d as Se,f as Re,g as Cr,h as _e,l as kr,m as Sr,o as Rr,p as oe,s as _r,t as Oe,u as ze,y as Ae}from"./zod-BEi78Y5d.js";import{n as xe,t as Or}from"./jsx-runtime-DvsdsEjx.js";import{n as Ar,t as Vr}from"./Logger-BkkOJyg0.js";import{a as Er}from"./hotkeys-CBY41Jr2.js";import{a as Ve}from"./dist-CLazWf1X.js";import{t as I}from"./cn-Dr9kMPPj.js";import{t as Pr}from"./events-BGfCi1Xy.js";import{t as Be}from"./button-Bxk0BtBn.js";import{t as Lr}from"./check-C5PVLNkJ.js";import{_ as $r,c as Ir,i as Je,l as qr,m as Fr,n as Dr,r as Gr,s as Mr,t as Tr}from"./select-DKRTzlUU.js";import{t as zr}from"./circle-x-BsVcxKkV.js";import{M as Br,N as Ke,P as Jr,j as Kr}from"./dropdown-menu-CJDB1PNI.js";import{t as Ur}from"./plus-d2HNOuZI.js";import{t as Zr}from"./refresh-ccw-CCJeTTJO.js";import{n as Hr,t as Ee}from"./input-C1RzjWSK.js";import{a as _,c as V,d as Wr,f as Xr,g as Qr,n as E,o as P,r as A,s as S}from"./form-BGZvwlog.js";import{t as Yr}from"./trash-2-3UJSaMKF.js";import{t as et}from"./badge-DJuT6BaT.js";import{S as Pe,b as Le,g as je,v as rt,w as Ue,y as tt}from"./namespace-CnoeT75h.js";import{t as at}from"./tooltip-ULHbIsj9.js";import{u as nt}from"./menu-items-Bo6Dyd_Q.js";import{t as Ze}from"./strings-DYBy5ejj.js";import{t as st}from"./label-BEUjZsdo.js";import{i as lt,r as ot,t as it}from"./popover-DW0D4l0O.js";import{a as ct,o as dt,r as ut,s as pt,t as mt}from"./command-BZVf1cJP.js";import{t as ft}from"./toggle-BpFqu8FB.js";import{r as He}from"./textarea-B-_OthMe.js";var We=ae(xe()),w=ae(yr()),t=ae(Or());const Xe=(0,w.createContext)({isSelected:()=>!1,onSelect:Ar.NOOP}),$e=a=>{let e=(0,We.c)(94),r,l,s,o,i,d,m,n,c,u,f,h,p,j,x,g,v,y,N,C,O;e[0]===a?(r=e[1],l=e[2],s=e[3],o=e[4],i=e[5],d=e[6],m=e[7],n=e[8],c=e[9],u=e[10],f=e[11],h=e[12],p=e[13],j=e[14],x=e[15],g=e[16],v=e[17],y=e[18],N=e[19],C=e[20],O=e[21]):({children:r,displayValue:d,className:s,placeholder:p,value:O,defaultValue:i,onValueChange:f,multiple:g,shouldFilter:v,filterFn:m,open:h,defaultOpen:o,onOpenChange:c,inputPlaceholder:y,search:x,onSearchChange:u,emptyState:N,chips:C,chipsClassName:l,keepPopoverOpenOnSelect:n,...j}=a,e[0]=a,e[1]=r,e[2]=l,e[3]=s,e[4]=o,e[5]=i,e[6]=d,e[7]=m,e[8]=n,e[9]=c,e[10]=u,e[11]=f,e[12]=h,e[13]=p,e[14]=j,e[15]=x,e[16]=g,e[17]=v,e[18]=y,e[19]=N,e[20]=C,e[21]=O);let k=g===void 0?!1:g,q=v===void 0?!0:v,F=y===void 0?"Search...":y,le=N===void 0?"Nothing found.":N,$=C===void 0?!1:C,we=o??!1,ie;e[22]!==c||e[23]!==h||e[24]!==we?(ie={prop:h,defaultProp:we,onChange:c},e[22]=c,e[23]=h,e[24]=we,e[25]=ie):ie=e[25];let[Ge,M]=Le(ie),T=Ge===void 0?!1:Ge,z;e[26]===f?z=e[27]:(z=R=>{f==null||f(R)},e[26]=f,e[27]=z);let ce;e[28]!==i||e[29]!==z||e[30]!==O?(ce={prop:O,defaultProp:i,onChange:z},e[28]=i,e[29]=z,e[30]=O,e[31]=ce):ce=e[31];let[b,Ne]=Le(ce),de;e[32]===b?de=e[33]:(de=R=>Array.isArray(b)?b.includes(R):b===R,e[32]=b,e[33]=de);let Ce=de,ue;e[34]!==n||e[35]!==k||e[36]!==M||e[37]!==Ne||e[38]!==b?(ue=R=>{let D=R;if(k)if(Array.isArray(b))if(b.includes(D)){let Me=b.filter(br=>br!==R);D=Me.length>0?Me:[]}else D=[...b,D];else D=[D];else b===R&&(D=null);Ne(D),(n??k)||M(!1)},e[34]=n,e[35]=k,e[36]=M,e[37]=Ne,e[38]=b,e[39]=ue):ue=e[39];let B=ue,pe;e[40]!==$||e[41]!==d||e[42]!==k||e[43]!==p||e[44]!==b?(pe=()=>k&&$&&p?p:b==null?p??"--":Array.isArray(b)?b.length===0?p??"--":b.length===1&&d!==void 0?d(b[0]):`${b.length} selected`:d===void 0?p??"--":d(b),e[40]=$,e[41]=d,e[42]=k,e[43]=p,e[44]=b,e[45]=pe):pe=e[45];let ke=pe,me;e[46]===Symbol.for("react.memo_cache_sentinel")?(me=I("relative"),e[46]=me):me=e[46];let J;e[47]===s?J=e[48]:(J=I("flex h-6 w-fit mb-1 shadow-xs-solid items-center justify-between rounded-sm border border-input bg-transparent px-2 text-sm font-prose ring-offset-background placeholder:text-muted-foreground hover:shadow-sm-solid focus:outline-hidden focus:ring-1 focus:ring-ring focus:border-primary focus:shadow-md-solid disabled:cursor-not-allowed disabled:opacity-50",s),e[47]=s,e[48]=J);let K;e[49]===ke?K=e[50]:(K=ke(),e[49]=ke,e[50]=K);let U;e[51]===K?U=e[52]:(U=(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:K}),e[51]=K,e[52]=U);let fe;e[53]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,t.jsx)($r,{className:"ml-3 w-4 h-4 opacity-50 shrink-0"}),e[53]=fe):fe=e[53];let Z;e[54]!==T||e[55]!==J||e[56]!==U?(Z=(0,t.jsx)(lt,{asChild:!0,children:(0,t.jsxs)("div",{className:J,"aria-expanded":T,children:[U,fe]})}),e[54]=T,e[55]=J,e[56]=U,e[57]=Z):Z=e[57];let H;e[58]!==F||e[59]!==u||e[60]!==x?(H=(0,t.jsx)(ct,{placeholder:F,rootClassName:"px-1 h-8",autoFocus:!0,value:x,onValueChange:u}),e[58]=F,e[59]=u,e[60]=x,e[61]=H):H=e[61];let W;e[62]===le?W=e[63]:(W=(0,t.jsx)(ut,{children:le}),e[62]=le,e[63]=W);let X;e[64]!==B||e[65]!==Ce?(X={isSelected:Ce,onSelect:B},e[64]=B,e[65]=Ce,e[66]=X):X=e[66];let Q;e[67]!==r||e[68]!==X?(Q=(0,t.jsx)(Xe,{value:X,children:r}),e[67]=r,e[68]=X,e[69]=Q):Q=e[69];let Y;e[70]!==W||e[71]!==Q?(Y=(0,t.jsxs)(pt,{className:"max-h-60 py-.5",children:[W,Q]}),e[70]=W,e[71]=Q,e[72]=Y):Y=e[72];let ee;e[73]!==m||e[74]!==q||e[75]!==H||e[76]!==Y?(ee=(0,t.jsx)(ot,{className:"w-full min-w-(--radix-popover-trigger-width) p-0",align:"start",children:(0,t.jsxs)(mt,{filter:m,shouldFilter:q,children:[H,Y]})}),e[73]=m,e[74]=q,e[75]=H,e[76]=Y,e[77]=ee):ee=e[77];let re;e[78]!==T||e[79]!==M||e[80]!==Z||e[81]!==ee?(re=(0,t.jsxs)(it,{open:T,onOpenChange:M,children:[Z,ee]}),e[78]=T,e[79]=M,e[80]=Z,e[81]=ee,e[82]=re):re=e[82];let te;e[83]!==$||e[84]!==l||e[85]!==d||e[86]!==B||e[87]!==k||e[88]!==b?(te=k&&$&&(0,t.jsx)("div",{className:I("flex flex-col gap-1 items-start",l),children:Array.isArray(b)&&b.map(R=>R==null?null:(0,t.jsxs)(et,{variant:"secondary",children:[(d==null?void 0:d(R))??String(R),(0,t.jsx)(zr,{onClick:()=>{B(R)},className:"w-3 h-3 opacity-50 hover:opacity-100 ml-1 cursor-pointer"})]},String(R)))}),e[83]=$,e[84]=l,e[85]=d,e[86]=B,e[87]=k,e[88]=b,e[89]=te):te=e[89];let he;return e[90]!==j||e[91]!==re||e[92]!==te?(he=(0,t.jsxs)("div",{className:me,...j,children:[re,te]}),e[90]=j,e[91]=re,e[92]=te,e[93]=he):he=e[93],he},ve=w.forwardRef((a,e)=>{let r=(0,We.c)(17),{children:l,className:s,value:o,onSelect:i,disabled:d}=a,m=typeof o=="object"&&"value"in o?o.value:String(o),n=w.use(Xe),c;r[0]===s?c=r[1]:(c=I("pl-6 m-1 py-1",s),r[0]=s,r[1]=c);let u;r[2]!==n||r[3]!==i||r[4]!==o?(u=()=>{n.onSelect(o),i==null||i(o)},r[2]=n,r[3]=i,r[4]=o,r[5]=u):u=r[5];let f;r[6]!==n||r[7]!==o?(f=n.isSelected(o)&&(0,t.jsx)(Lr,{className:"absolute left-1 h-4 w-4"}),r[6]=n,r[7]=o,r[8]=f):f=r[8];let h;return r[9]!==l||r[10]!==d||r[11]!==e||r[12]!==c||r[13]!==u||r[14]!==f||r[15]!==m?(h=(0,t.jsxs)(dt,{ref:e,className:c,role:"option",value:m,disabled:d,onSelect:u,children:[f,l]}),r[9]=l,r[10]=d,r[11]=e,r[12]=c,r[13]=u,r[14]=f,r[15]=m,r[16]=h):h=r[16],h});ve.displayName="ComboboxItem";const G={of(a){return JSON.stringify(a)},parse(a){if(!a)return{};try{return JSON.parse(a)}catch{return{label:a}}}};function Qe(){return Math.floor(Math.random()*1e5)}var Ie="Radio",[ht,Ye]=Ue(Ie),[xt,jt]=ht(Ie),er=w.forwardRef((a,e)=>{let{__scopeRadio:r,name:l,checked:s=!1,required:o,disabled:i,value:d="on",onCheck:m,form:n,...c}=a,[u,f]=w.useState(null),h=Ve(e,x=>f(x)),p=w.useRef(!1),j=u?n||!!u.closest("form"):!0;return(0,t.jsxs)(xt,{scope:r,checked:s,disabled:i,children:[(0,t.jsx)(je.button,{type:"button",role:"radio","aria-checked":s,"data-state":nr(s),"data-disabled":i?"":void 0,disabled:i,value:d,...c,ref:h,onClick:Pe(a.onClick,x=>{s||(m==null||m()),j&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})}),j&&(0,t.jsx)(ar,{control:u,bubbles:!p.current,name:l,value:d,checked:s,required:o,disabled:i,form:n,style:{transform:"translateX(-100%)"}})]})});er.displayName=Ie;var rr="RadioIndicator",tr=w.forwardRef((a,e)=>{let{__scopeRadio:r,forceMount:l,...s}=a,o=jt(rr,r);return(0,t.jsx)(rt,{present:l||o.checked,children:(0,t.jsx)(je.span,{"data-state":nr(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});tr.displayName=rr;var vt="RadioBubbleInput",ar=w.forwardRef(({__scopeRadio:a,control:e,checked:r,bubbles:l=!0,...s},o)=>{let i=w.useRef(null),d=Ve(i,o),m=Fr(r),n=tt(e);return w.useEffect(()=>{let c=i.current;if(!c)return;let u=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(u,"checked").set;if(m!==r&&f){let h=new Event("click",{bubbles:l});f.call(c,r),c.dispatchEvent(h)}},[m,r,l]),(0,t.jsx)(je.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:d,style:{...s.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ar.displayName=vt;function nr(a){return a?"checked":"unchecked"}var gt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ge="RadioGroup",[bt,ha]=Ue(ge,[Ke,Ye]),sr=Ke(),lr=Ye(),[yt,wt]=bt(ge),or=w.forwardRef((a,e)=>{let{__scopeRadioGroup:r,name:l,defaultValue:s,value:o,required:i=!1,disabled:d=!1,orientation:m,dir:n,loop:c=!0,onValueChange:u,...f}=a,h=sr(r),p=nt(n),[j,x]=Le({prop:o,defaultProp:s??null,onChange:u,caller:ge});return(0,t.jsx)(yt,{scope:r,name:l,required:i,disabled:d,value:j,onValueChange:x,children:(0,t.jsx)(Br,{asChild:!0,...h,orientation:m,dir:p,loop:c,children:(0,t.jsx)(je.div,{role:"radiogroup","aria-required":i,"aria-orientation":m,"data-disabled":d?"":void 0,dir:p,...f,ref:e})})})});or.displayName=ge;var ir="RadioGroupItem",cr=w.forwardRef((a,e)=>{let{__scopeRadioGroup:r,disabled:l,...s}=a,o=wt(ir,r),i=o.disabled||l,d=sr(r),m=lr(r),n=w.useRef(null),c=Ve(e,n),u=o.value===s.value,f=w.useRef(!1);return w.useEffect(()=>{let h=j=>{gt.includes(j.key)&&(f.current=!0)},p=()=>f.current=!1;return document.addEventListener("keydown",h),document.addEventListener("keyup",p),()=>{document.removeEventListener("keydown",h),document.removeEventListener("keyup",p)}},[]),(0,t.jsx)(Kr,{asChild:!0,...d,focusable:!i,active:u,children:(0,t.jsx)(er,{disabled:i,required:o.required,checked:u,...m,...s,name:o.name,ref:c,onCheck:()=>o.onValueChange(s.value),onKeyDown:Pe(h=>{h.key==="Enter"&&h.preventDefault()}),onFocus:Pe(s.onFocus,()=>{var h;f.current&&((h=n.current)==null||h.click())})})})});cr.displayName=ir;var Nt="RadioGroupIndicator",dr=w.forwardRef((a,e)=>{let{__scopeRadioGroup:r,...l}=a,s=lr(r);return(0,t.jsx)(tr,{...s,...l,ref:e})});dr.displayName=Nt;var ur=or,pr=cr,Ct=dr,mr=ae(xe()),qe=w.forwardRef((a,e)=>{let r=(0,mr.c)(9),l,s;r[0]===a?(l=r[1],s=r[2]):({className:l,...s}=a,r[0]=a,r[1]=l,r[2]=s);let o;r[3]===l?o=r[4]:(o=I("grid gap-2",l),r[3]=l,r[4]=o);let i;return r[5]!==s||r[6]!==e||r[7]!==o?(i=(0,t.jsx)(ur,{className:o,...s,ref:e}),r[5]=s,r[6]=e,r[7]=o,r[8]=i):i=r[8],i});qe.displayName=ur.displayName;var Fe=w.forwardRef((a,e)=>{let r=(0,mr.c)(10),l,s;if(r[0]!==a){let{className:m,children:n,...c}=a;l=m,s=c,r[0]=a,r[1]=l,r[2]=s}else l=r[1],s=r[2];let o;r[3]===l?o=r[4]:(o=I("h-[16px] w-[16px] transition-shadow data-[state=unchecked]:shadow-xs-solid rounded-full border border-input text-primary ring-offset-background focus:outline-hidden focus:shadow-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:border-primary data-[state=checked]:shadow-none",l),r[3]=l,r[4]=o);let i;r[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(Ct,{className:"flex items-center justify-center",children:(0,t.jsx)(Jr,{className:"h-[10px] w-[10px] fill-primary text-current"})}),r[5]=i):i=r[5];let d;return r[6]!==s||r[7]!==e||r[8]!==o?(d=(0,t.jsx)(pr,{ref:e,className:o,...s,children:i}),r[6]=s,r[7]=e,r[8]=o,r[9]=d):d=r[9],d});Fe.displayName=pr.displayName;function kt(a){return a instanceof Oe.ZodArray}function fr(a){return a instanceof Oe.ZodPipe}function St(a){return a instanceof Oe.ZodTuple}function hr(a){return"unwrap"in a?a.unwrap():a}function be(a){let e=r=>{if(r instanceof oe){let l=[...r.values];return r.values.size===1?l[0]:l}if(r instanceof ze){let l=r.def.defaultValue;return typeof l=="function"?l():l}if(fr(r))return e(r.in);if(St(r))return r.def.items.map(l=>e(l));if("unwrap"in r)return e(hr(r))};return a instanceof Ae||a instanceof Se?e(a.options[0]):kt(a)?Rt(a)?[be(a.element)]:[]:a instanceof Te?"":a instanceof Re?a.options[0]:a instanceof _e?Object.fromEntries(Object.entries(a.shape).map(([r,l])=>[r,e(l)])):e(a)}function ne(a){if(a instanceof oe)return a;if(a instanceof _e){let e=a.shape.type;if(e instanceof oe)return e;throw Error("Invalid schema")}if(a instanceof Ae||a instanceof Se)return ne(a.options[0]);throw Vr.warn(a),Error("Invalid schema")}function Rt(a){return!a.safeParse([]).success}var xr=ae(xe()),jr=`
`;const vr=a=>{let e=(0,xr.c)(24),{value:r,options:l,onChange:s,className:o,placeholder:i,textAreaClassName:d,comboBoxClassName:m}=a,[n,c]=(0,w.useState)(!1),u;e[0]===r?u=e[1]:(u=ye(r),e[0]=r,e[1]=u);let f=u,h;e[2]!==m||e[3]!==s||e[4]!==l||e[5]!==i||e[6]!==n||e[7]!==d||e[8]!==f?(h=()=>n?(0,t.jsx)(De,{value:f,className:d,onChange:s,placeholder:i?`${i}: one per line`:"One value per line"}):(0,t.jsx)($e,{placeholder:i,displayValue:_t,className:I("w-full max-w-[400px]",m),multiple:!0,value:f,onValueChange:s,keepPopoverOpenOnSelect:!0,chips:!0,chipsClassName:"flex-row flex-wrap min-w-[210px]",children:l.map(Ot)}),e[2]=m,e[3]=s,e[4]=l,e[5]=i,e[6]=n,e[7]=d,e[8]=f,e[9]=h):h=e[9];let p=h,j;e[10]===o?j=e[11]:(j=I("flex gap-1",o),e[10]=o,e[11]=j);let x;e[12]===p?x=e[13]:(x=p(),e[12]=p,e[13]=x);let g=n?"Switch to multi-select":"Switch to textarea",v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)(Qr,{className:"w-3 h-3"}),e[14]=v):v=e[14];let y;e[15]===n?y=e[16]:(y=(0,t.jsx)(ft,{size:"xs",onPressedChange:c,pressed:n,children:v}),e[15]=n,e[16]=y);let N;e[17]!==g||e[18]!==y?(N=(0,t.jsx)(at,{content:g,children:y}),e[17]=g,e[18]=y,e[19]=N):N=e[19];let C;return e[20]!==j||e[21]!==x||e[22]!==N?(C=(0,t.jsxs)("div",{className:j,children:[x,N]}),e[20]=j,e[21]=x,e[22]=N,e[23]=C):C=e[23],C},De=a=>{let e=(0,xr.c)(11),{className:r,value:l,onChange:s,placeholder:o}=a,i,d;if(e[0]!==l){let u=ye(l);i=He,d=u.join(jr),e[0]=l,e[1]=i,e[2]=d}else i=e[1],d=e[2];let m;e[3]===s?m=e[4]:(m=u=>{if(u.target.value===""){s([]);return}s(u.target.value.split(jr))},e[3]=s,e[4]=m);let n=o?`${o}: one per line`:"One value per line",c;return e[5]!==i||e[6]!==r||e[7]!==d||e[8]!==m||e[9]!==n?(c=(0,t.jsx)(i,{value:d,className:r,rows:4,onChange:m,placeholder:n}),e[5]=i,e[6]=r,e[7]=d,e[8]=m,e[9]=n,e[10]=c):c=e[10],c};function ye(a){return a==null?[]:Array.isArray(a)?a:[a].filter(e=>e!=null||e!=="")}function _t(a){return a}function Ot(a){return(0,t.jsx)(ve,{value:a,children:a},a)}var se=ae(xe());const At=a=>{let e=(0,se.c)(11),{schema:r,form:l,path:s,renderers:o,children:i}=a,d=s===void 0?"":s,m;e[0]===o?m=e[1]:(m=o===void 0?[]:o,e[0]=o,e[1]=m);let n=m,c;e[2]!==l||e[3]!==d||e[4]!==n||e[5]!==r?(c=L(r,l,d,n),e[2]=l,e[3]=d,e[4]=n,e[5]=r,e[6]=c):c=e[6];let u;return e[7]!==i||e[8]!==l||e[9]!==c?(u=(0,t.jsxs)(Wr,{...l,children:[i,c]}),e[7]=i,e[8]=l,e[9]=c,e[10]=u):u=e[10],u};function L(a,e,r,l){for(let n of l){let{isMatch:c,Component:u}=n;if(c(a))return(0,t.jsx)(u,{schema:a,form:e,path:r})}let{label:s,description:o,special:i,direction:d="column",minLength:m}=G.parse(a.description||"");if(a instanceof ze){let n=a.unwrap();return n=!n.description&&a.description?n.describe(a.description):n,L(n,e,r,l)}if(a instanceof Cr){let n=a.unwrap();return n=!n.description&&a.description?n.describe(a.description):n,L(n,e,r,l)}if(a instanceof _e)return(0,t.jsxs)("div",{className:I("flex",d==="row"?"flex-row gap-6 items-start":d==="two-columns"?"grid grid-cols-2 gap-y-6":"flex-col gap-6"),children:[(0,t.jsx)(S,{children:s}),Er.entries(a.shape).map(([n,c])=>{let u=c instanceof oe,f=L(c,e,$t(r,n),l);return u?(0,t.jsx)(w.Fragment,{children:f},n):(0,t.jsx)("div",{className:"flex flex-row align-start",children:f},n)})]});if(a instanceof Te)return i==="time"?(0,t.jsx)(_,{control:e.control,name:r,render:({field:n})=>(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:s}),(0,t.jsx)(A,{children:o}),(0,t.jsx)(E,{children:(0,t.jsx)(Ee,{...n,onValueChange:n.onChange,type:"time",className:"my-0"})}),(0,t.jsx)(V,{})]})}):(0,t.jsx)(gr,{schema:a,form:e,path:r});if(a instanceof Nr)return(0,t.jsx)(_,{control:e.control,name:r,render:({field:n})=>(0,t.jsxs)(P,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-start space-x-2",children:[(0,t.jsx)(S,{children:s}),(0,t.jsx)(A,{children:o}),(0,t.jsx)(E,{children:(0,t.jsx)(wr,{"data-testid":"marimo-plugin-data-frames-boolean-checkbox",checked:n.value,onCheckedChange:n.onChange})})]}),(0,t.jsx)(V,{})]})});if(a instanceof Sr)return i==="random_number_button"?(0,t.jsx)(_,{control:e.control,name:r,render:({field:n})=>(0,t.jsxs)(Be,{size:"xs","data-testid":"marimo-plugin-data-frames-random-number-button",variant:"secondary",onClick:()=>{n.onChange(Qe())},children:[(0,t.jsx)(Zr,{className:"w-3.5 h-3.5 mr-1"}),s]})}):(0,t.jsx)(_,{control:e.control,name:r,render:({field:n})=>(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:s}),(0,t.jsx)(A,{children:o}),(0,t.jsx)(E,{children:(0,t.jsx)(Hr,{...n,className:"my-0",onValueChange:n.onChange})}),(0,t.jsx)(V,{})]})});if(a instanceof kr){let n=i==="datetime"?"datetime-local":i==="time"?"time":"date";return(0,t.jsx)(_,{control:e.control,name:r,render:({field:c})=>(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:s}),(0,t.jsx)(A,{children:o}),(0,t.jsx)(E,{children:(0,t.jsx)(Ee,{...c,onValueChange:c.onChange,type:n,className:"my-0"})}),(0,t.jsx)(V,{})]})})}if(a instanceof Rr)return(0,t.jsx)(gr,{schema:a,form:e,path:r});if(a instanceof Re){let n=a.options.map(c=>c.toString());return(0,t.jsx)(Pt,{schema:a,form:e,path:r,options:n})}if(a instanceof _r){if(i==="text_area_multiline")return(0,t.jsx)(Et,{schema:a,form:e,path:r});let n=a.element;if(n instanceof Re){let c=n.options.map(u=>u.toString());return(0,t.jsx)(Lt,{schema:a,form:e,path:r,itemLabel:s,options:c})}return(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)(st,{children:s}),(0,t.jsx)(Vt,{schema:a.element,form:e,path:r,minLength:m,renderers:l},r)]})}if(a instanceof Se){let n=a.def,c=n.options,u=n.discriminator,f=h=>c.find(p=>ne(p).value===h);return(0,t.jsx)(_,{control:e.control,name:r,render:({field:h})=>{let p=h.value,j=c.map(v=>ne(v).value),x=p&&typeof p=="object"&&u in p?p[u]:j[0],g=f(x);return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(S,{children:s}),(0,t.jsx)("div",{className:"flex border-b mb-4 -mt-2",children:j.map(v=>(0,t.jsx)("button",{type:"button",className:`px-4 py-2 ${x===v?"border-b-2 border-primary font-medium":"text-muted-foreground"}`,onClick:()=>{let y=f(v);y?h.onChange(be(y)):h.onChange({[u]:v})},children:v},v))}),(0,t.jsx)("div",{className:"flex flex-col",children:g&&L(g,e,r,l)},x)]})}})}return a instanceof Ae?(0,t.jsx)(_,{control:e.control,name:r,render:({field:n})=>{let c=a.options,u=n.value,f=c.map(p=>ne(p).value);u||(u=f[0]);let h=c.find(p=>ne(p).value===u);return(0,t.jsxs)("div",{className:"flex flex-col mb-4 gap-1",children:[(0,t.jsx)(S,{children:s}),(0,t.jsx)(qr,{"data-testid":"marimo-plugin-data-frames-union-select",...n,children:f.map(p=>(0,t.jsx)("option",{value:p,children:p},p))}),h&&L(h,e,r,l)]})}}):a instanceof oe?(0,t.jsx)(_,{control:e.control,name:r,render:({field:n})=>(0,t.jsx)("input",{...n,type:"hidden",value:String([...a.values][0]??"")})}):"unwrap"in a?L(hr(a),e,r,l):fr(a)?L(a.in,e,r,l):(0,t.jsxs)("div",{children:["Unknown schema type"," ",a==null?r:JSON.stringify(a.type??a)]})}var Vt=a=>{let e=(0,se.c)(39),{schema:r,form:l,path:s,minLength:o,renderers:i}=a,d;e[0]===r.description?d=e[1]:(d=G.parse(r.description||""),e[0]=r.description,e[1]=d);let{label:m,description:n}=d,c=l.control,u;e[2]!==c||e[3]!==s?(u={control:c,name:s},e[2]=c,e[3]=s,e[4]=u):u=e[4];let{fields:f,append:h,remove:p}=Xr(u),j=o!=null&&f.length<o,x=o==null||f.length>o,g;e[5]===m?g=e[6]:(g=(0,t.jsx)(S,{children:m}),e[5]=m,e[6]=g);let v;e[7]===n?v=e[8]:(v=(0,t.jsx)(A,{children:n}),e[7]=n,e[8]=v);let y;if(e[9]!==x||e[10]!==f||e[11]!==l||e[12]!==s||e[13]!==p||e[14]!==i||e[15]!==r){let F;e[17]!==x||e[18]!==l||e[19]!==s||e[20]!==p||e[21]!==i||e[22]!==r?(F=(le,$)=>(0,t.jsxs)("div",{className:"flex flex-row pl-2 ml-2 border-l-2 border-disabled hover-actions-parent relative pr-5 pt-1 items-center w-fit",onKeyDown:Pr.onEnter(It),children:[L(r,l,`${s}[${$}]`,i),x&&(0,t.jsx)(Yr,{className:"w-4 h-4 ml-2 my-1 text-muted-foreground hover:text-destructive cursor-pointer absolute right-0 top-5",onClick:()=>{p($)}})]},le.id),e[17]=x,e[18]=l,e[19]=s,e[20]=p,e[21]=i,e[22]=r,e[23]=F):F=e[23],y=f.map(F),e[9]=x,e[10]=f,e[11]=l,e[12]=s,e[13]=p,e[14]=i,e[15]=r,e[16]=y}else y=e[16];let N;e[24]!==j||e[25]!==o?(N=j&&(0,t.jsx)("div",{className:"text-destructive text-xs font-semibold",children:(0,t.jsxs)("div",{children:["At least ",o," required."]})}),e[24]=j,e[25]=o,e[26]=N):N=e[26];let C;e[27]!==h||e[28]!==r?(C=()=>{h(be(r))},e[27]=h,e[28]=r,e[29]=C):C=e[29];let O;e[30]===Symbol.for("react.memo_cache_sentinel")?(O=(0,t.jsx)(Ur,{className:"w-3.5 h-3.5 mr-1"}),e[30]=O):O=e[30];let k;e[31]===C?k=e[32]:(k=(0,t.jsx)("div",{children:(0,t.jsxs)(Be,{size:"xs","data-testid":"marimo-plugin-data-frames-add-array-item",variant:"text",className:"hover:text-accent-foreground",onClick:C,children:[O,"Add"]})}),e[31]=C,e[32]=k);let q;return e[33]!==g||e[34]!==v||e[35]!==y||e[36]!==N||e[37]!==k?(q=(0,t.jsxs)("div",{className:"flex flex-col gap-2 min-w-[220px]",children:[g,v,y,N,k]}),e[33]=g,e[34]=v,e[35]=y,e[36]=N,e[37]=k,e[38]=q):q=e[38],q},gr=a=>{let e=(0,se.c)(21),{schema:r,form:l,path:s}=a,o;e[0]===r.description?o=e[1]:(o=G.parse(r.description),e[0]=r.description,e[1]=o);let{label:i,description:d,placeholder:m,disabled:n,inputType:c}=o;if(c==="textarea"){let h;e[2]!==d||e[3]!==n||e[4]!==i||e[5]!==m?(h=j=>{let{field:x}=j;return(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:i}),(0,t.jsx)(A,{children:d}),(0,t.jsx)(E,{children:(0,t.jsx)(He,{...x,value:x.value,onChange:x.onChange,className:"my-0",placeholder:m,disabled:n})}),(0,t.jsx)(V,{})]})},e[2]=d,e[3]=n,e[4]=i,e[5]=m,e[6]=h):h=e[6];let p;return e[7]!==l.control||e[8]!==s||e[9]!==h?(p=(0,t.jsx)(_,{control:l.control,name:s,render:h}),e[7]=l.control,e[8]=s,e[9]=h,e[10]=p):p=e[10],p}let u;e[11]!==d||e[12]!==n||e[13]!==c||e[14]!==i||e[15]!==m?(u=h=>{let{field:p}=h;return(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:i}),(0,t.jsx)(A,{children:d}),(0,t.jsx)(E,{children:(0,t.jsx)(Ee,{...p,type:c,value:p.value,onValueChange:p.onChange,className:"my-0",placeholder:m,disabled:n})}),(0,t.jsx)(V,{})]})},e[11]=d,e[12]=n,e[13]=c,e[14]=i,e[15]=m,e[16]=u):u=e[16];let f;return e[17]!==l.control||e[18]!==s||e[19]!==u?(f=(0,t.jsx)(_,{control:l.control,name:s,render:u}),e[17]=l.control,e[18]=s,e[19]=u,e[20]=f):f=e[20],f},Et=a=>{let e=(0,se.c)(10),{schema:r,form:l,path:s}=a,o;e[0]===r.description?o=e[1]:(o=G.parse(r.description),e[0]=r.description,e[1]=o);let{label:i,description:d,placeholder:m}=o,n;e[2]!==d||e[3]!==i||e[4]!==m?(n=u=>{let{field:f}=u;return(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:i}),(0,t.jsx)(A,{children:d}),(0,t.jsx)(E,{children:(0,t.jsx)(De,{...f,placeholder:m})}),(0,t.jsx)(V,{})]})},e[2]=d,e[3]=i,e[4]=m,e[5]=n):n=e[5];let c;return e[6]!==l.control||e[7]!==s||e[8]!==n?(c=(0,t.jsx)(_,{control:l.control,name:s,render:n}),e[6]=l.control,e[7]=s,e[8]=n,e[9]=c):c=e[9],c},Pt=a=>{let e=(0,se.c)(22),{schema:r,form:l,path:s,options:o,textTransform:i}=a,d;e[0]===r.description?d=e[1]:(d=G.parse(r.description),e[0]=r.description,e[1]=d);let{label:m,description:n,disabled:c,special:u}=d;if(u==="radio_group"){let p;e[2]!==n||e[3]!==m||e[4]!==o||e[5]!==s?(p=x=>{let{field:g}=x;return(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{children:m}),(0,t.jsx)(A,{children:n}),(0,t.jsx)(E,{children:(0,t.jsx)(qe,{className:"flex flex-row gap-2 pt-1 items-center",value:g.value,onValueChange:g.onChange,children:o.map(v=>(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(Fe,{value:v,id:`${s}-${v}`},v),(0,t.jsx)(S,{className:"whitespace-pre",htmlFor:`${s}-${v}`,children:Ze.startCase(v)})]},v))})}),(0,t.jsx)(V,{})]})},e[2]=n,e[3]=m,e[4]=o,e[5]=s,e[6]=p):p=e[6];let j;return e[7]!==c||e[8]!==l.control||e[9]!==s||e[10]!==p?(j=(0,t.jsx)(_,{control:l.control,name:s,disabled:c,render:p}),e[7]=c,e[8]=l.control,e[9]=s,e[10]=p,e[11]=j):j=e[11],j}let f;e[12]!==n||e[13]!==m||e[14]!==o||e[15]!==i?(f=p=>{let{field:j}=p;return(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{className:"whitespace-pre",children:m}),(0,t.jsx)(A,{children:n}),(0,t.jsx)(E,{children:(0,t.jsxs)(Tr,{"data-testid":"marimo-plugin-data-frames-select",value:j.value,onValueChange:j.onChange,children:[(0,t.jsx)(Mr,{className:"min-w-[180px]",children:(0,t.jsx)(Ir,{placeholder:"--"})}),(0,t.jsx)(Dr,{children:(0,t.jsxs)(Gr,{children:[o.map(x=>(0,t.jsx)(Je,{value:x,children:(i==null?void 0:i(x))??x},x)),o.length===0&&(0,t.jsx)(Je,{disabled:!0,value:"--",children:"No options"})]})})]})}),(0,t.jsx)(V,{})]})},e[12]=n,e[13]=m,e[14]=o,e[15]=i,e[16]=f):f=e[16];let h;return e[17]!==c||e[18]!==l.control||e[19]!==s||e[20]!==f?(h=(0,t.jsx)(_,{control:l.control,name:s,disabled:c,render:f}),e[17]=c,e[18]=l.control,e[19]=s,e[20]=f,e[21]=h):h=e[21],h},Lt=a=>{let e=(0,se.c)(15),{schema:r,form:l,path:s,options:o,itemLabel:i,showSwitchable:d}=a,m;e[0]===r.description?m=e[1]:(m=G.parse(r.description),e[0]=r.description,e[1]=m);let{label:n,description:c,placeholder:u}=m,f;e[2]!==i||e[3]!==u?(f=u??(i?`Select ${i==null?void 0:i.toLowerCase()}`:void 0),e[2]=i,e[3]=u,e[4]=f):f=e[4];let h=f,p;e[5]!==c||e[6]!==n||e[7]!==o||e[8]!==h||e[9]!==d?(p=x=>{let{field:g}=x,v=ye(g.value);return(0,t.jsxs)(P,{children:[(0,t.jsx)(S,{className:"whitespace-pre",children:n}),(0,t.jsx)(A,{children:c}),(0,t.jsx)(E,{children:d?(0,t.jsx)(vr,{...g,value:v,options:o,placeholder:h}):(0,t.jsx)($e,{className:"min-w-[180px]",placeholder:h,displayValue:qt,multiple:!0,chips:!0,keepPopoverOpenOnSelect:!0,value:v,onValueChange:g.onChange,children:o.map(Ft)})}),(0,t.jsx)(V,{})]})},e[5]=c,e[6]=n,e[7]=o,e[8]=h,e[9]=d,e[10]=p):p=e[10];let j;return e[11]!==l.control||e[12]!==s||e[13]!==p?(j=(0,t.jsx)(_,{control:l.control,name:s,render:p}),e[11]=l.control,e[12]=s,e[13]=p,e[14]=j):j=e[14],j};function $t(...a){return a.filter(e=>e!=="").join(".")}function It(a){return a.preventDefault()}function qt(a){return Ze.startCase(a)}function Ft(a){return(0,t.jsx)(ve,{value:a,children:a},a)}export{ye as a,qe as c,Qe as d,$e as f,De as i,Fe as l,L as n,be as o,ve as p,vr as r,ne as s,At as t,G as u};
