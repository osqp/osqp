const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./terminal-NtPz9Wz1.js","./renderShortcut-DJmsjON-.js","./dropdown-menu-uN_XMhZm.js","./Combination-BjaZc6gK.js","./useEventListener-D1FLsfmf.js","./compiler-runtime-Cr9loedd.js","./react-BcIddLXZ.js","./chunk-DZLz74EQ.js","./jsx-runtime-mwDPpfh_.js","./react-dom-D6bRRS5R.js","./menu-items-DwOFR2Zi.js","./cn-ZXtYmczU.js","./clsx-BlAkgCmw.js","./dist-o-4-WxUj.js","./createLucideIcon-CNVopWor.js","./check-CuBLr6Cm.js","./chevron-right-BV0VfNbL.js","./kbd-DbVT085u.js","./tooltip-BHnVWzH0.js","./utils-DEDX0RLo.js","./hotkeys-ClCtr3_I.js","./jotai-BTnrNcC1.js","./_baseIsEqual-CVFfFJm2.js","./_getTag-CVRrQL_Q.js","./_Uint8Array-D5Z9rM2X.js","./invariant-D5a0EE05.js","./merge-Dvc5opZF.js","./isArrayLikeObject-DKyJYtr8.js","./zod-U2NFpcFA.js","./state-Cm3cZhI-.js","./createReducer-CeLhipaI.js","./uuid-D0hUC3Qw.js","./constants-CEISdYm1.js","./config-C6qInAhC.js","./Deferred-NfAvvkGM.js","./connection-Bs4SQ_vu.js","./useDebounce-DzG_89QJ.js","./debounce-BUM2losY.js","./toNumber-CTOPJrpu.js","./isSymbol-xTSywenE.js","./now-BXqTLlmI.js","./useEvent-CRDKqG3C.js","./copy-LsxoSTiV.js","./clipboard-paste-BLsIEx19.js","./copy-Dy_tLkL8.js","./trash-2-BPux4_UF.js","./terminal-ByuMlBP_.css","./chat-panel-CjjOlUPZ.js","./preload-helper-BnutJmlU.js","./ai-model-dropdown-CvhbTHha.js","./multi-map-D9JaQ_m6.js","./select-5fcaZwou.js","./button-ZC2axIBq.js","./requests-BACZP_uj.js","./once-C5bmD4W5.js","./toDate-C3oOx2yr.js","./capitalize-CBqvgOfA.js","./upperFirst-CBQfDRod.js","./_baseSlice-BWZ0PeaJ.js","./toString-CBnct2wx.js","./_arrayMap-DQI2GUNb.js","./_hasUnicode-3DIK_jNi.js","./state-BfH78XJJ.js","./cells-A69p56PE.js","./badge-Jfhpc30N.js","./use-toast-midBZAtS.js","./key-Cx1qY8eM.js","./useLifecycle-DogGOXPh.js","./useNonce-VIoWEX5z.js","./capabilities-srilPYuF.js","./dist-8_YHxBVW.js","./dist-MHIqsPCF.js","./dist-CbvGwhr0.js","./dist-C14Sk-Bd.js","./dist-DJV2CjUA.js","./dist-CPUmJw_F.js","./dist-DcDuMWp5.js","./dist-vBG1bGij.js","./dist-Oad1venD.js","./stex-xveX5l_T.js","./cjs-Ck8KMDI1.js","./_baseProperty-c4IQJQis.js","./toInteger-Bor4StOs.js","./type-o43RKOcp.js","./marked.esm-BV7g2d65.js","./main-ChjX94eX.js","./cells-BvrC6Bsv.css","./spinner-CuquyDWA.js","./dialog-BfhgTWm1.js","./alert-dialog-8EwWlboa.js","./form-CaSJmn0I.js","./label-Dcu3RhQ4.js","./input-BNb8K99m.js","./numbers-CTSqyVyD.js","./useNumberFormatter-F8R3LBxf.js","./context-CcLKJeA2.js","./SSRProvider-B8x7qo1c.js","./usePress-BO20vkQb.js","./links-CMl0qG9J.js","./popover-F0Sfc1dn.js","./switch-4s4187gV.js","./table-DU76OrPF.js","./tabs-l9npw3ob.js","./textarea-DeG5mMSH.js","./client-CtbBEHVn.js","./useHotkey-NDxGNWnW.js","./api-YJHlT7KM.js","./strings-DHsDEFo-.js","./startCase-RfubwhHM.js","./_arrayReduce-DV4IVFuG.js","./useAsyncData-CngUoIwV.js","./error-banner-DoSAS3iD.js","./useTheme-Biy2QI0v.js","./VisuallyHidden-DqOWapbP.js","./get-BUGWIXZE.js","./_toKey-16owuO_q.js","./memoize-DhF8x4Aa.js","./plug-BTyO2pk-.js","./circle-x-Dm9uA-wT.js","./plus-CRGccegF.js","./refresh-cw-Duwwh0cP.js","./shim-Cc3VMan6.js","./useDeleteCell-CEsjHDdl.js","./lazy-oPCv0nK8.js","./tooltip-BFMRXuzR.js","./vega-loader.browser-D2m26-DP.js","./precisionRound-Qxa8hC2h.js","./defaultLocale-YmL2k7Vp.js","./defaultLocale-zQltfbSS.js","./chat-components-C2ryFVKe.js","./add-missing-import-Bc1Nj8aC.js","./focus-BaSDCTOl.js","./LazyAnyLanguageCodeMirror-BovGLUi6.js","./dist-__vbIzp1.js","./katex-CkJcqOLL.js","./download-ptuQ0M1w.js","./dist-CUNt1nyj.css","./between-horizontal-start-CC0exyFi.js","./file-text-CFgIi1A4.js","./file-Cz8xVTWu.js","./image-DW_EcY4T.js","./chat-components-DdDKmWlR.css","./add-cell-with-ai-Bf3hYYIu.js","./Output-DWmT-7NV.js","./ErrorBoundary-_uEOjNWh.js","./MarimoErrorOutput-BATnwNYX.js","./cell-link-D75IV6D1.js","./ImperativeModal-C4fZHLKz.js","./alert-BqjCH_7t.js","./state-JZFfOGr9.js","./command-Dlk4i3l7.js","./RenderHTML-DTLkV9Uh.js","./useRunCells-BLpH_l8E.js","./copy-icon-CE7wmMnS.js","./mode-Bq6LjPC-.js","./purify.es-CPMOFAIu.js","./useIframeCapabilities-DXQ78nsN.js","./formats-BN93kMCb.js","./maps-B1z3jt-a.js","./en-US-D2gH55FJ.js","./isValid-BJSfXqfd.js","./download-ByFIcaoi.js","./extends-dwNt6GDg.js","./emotion-is-prop-valid.esm-OoyWz_0l.js","./useDateFormatter-CPDTrKqK.js","./range-ZclXTdAh.js","./table-C2gUjtJV.js","./Output-j3zW187k.css","./ConsoleOutput-BJP_UIwR.js","./name-cell-input-DND1MD7b.js","./esm-B3nKz9z-.js","./objectWithoutPropertiesLoose-COpOcp6W.js","./esm-DtCFmQ1n.js","./dist-GE2AwHvG.js","./dist-CMHCymvx.js","./dist-ta4iJSan.js","./dist-BcppZLnk.js","./dist-DRTi9ht4.js","./dist-BjGT2Oog.js","./dist-CXL8T4lt.js","./dist-B0B_Xnwd.js","./dist-BcgNLefj.js","./dist-j2I9I0a7.js","./dist-DM2w8f7r.js","./dist-nhBdVy6b.js","./dist-D-JTXier.js","./apl-BGS-6pM9.js","./asciiarmor-CbQH35y7.js","./asn1-P7HrFGaM.js","./brainfuck-CSxeyQc4.js","./clike-Bg9duJDo.js","./clojure-B94DOmFw.js","./cmake-DQEKyMNG.js","./cobol-CY4gVoPW.js","./coffeescript-BwWb96Ts.js","./commonlisp-Cq_n1sF6.js","./crystal-BLTq7Sqq.js","./css-CmDcdojQ.js","./cypher-ByytCYVx.js","./d-xLFRg71F.js","./diff-VF6GbDch.js","./dtd-D8qb8bJW.js","./dylan-CIkom9X4.js","./ecl-8wcmTiom.js","./eiffel-D2ZBcT03.js","./elm-Cpg3TnMc.js","./erlang-B4A2pXCG.js","./factor-DhbRkYZ5.js","./simple-mode-BrL6eoj-.js","./forth-C5F1F4pC.js","./fortran-D7Gl3Tli.js","./gas-BS2f8qHc.js","./gherkin-CVZcskwU.js","./groovy-BhQsBMwW.js","./haskell-BPbxlKgK.js","./haxe-TKSAmiMf.js","./idl-DFgQu5Ek.js","./javascript-dAA8UGkz.js","./jinja2-BIbcpWyF.js","./julia-CfdFJG3K.js","./livescript-FcXY3DYa.js","./lua-Co6rjiMf.js","./mathematica-yb42KhnJ.js","./mbox-Kdy3h0JS.js","./mirc-DIfBuSAc.js","./mllike-ClozcVVR.js","./modelica-DfSVZeoi.js","./mscgen-BCcB4vmY.js","./mumps-Zs7zFruB.js","./nsis-znELVT3h.js","./ntriples-BZ-Gx5MV.js","./octave-DbhnFGQl.js","./oz-C8cfEyhB.js","./pascal-DjQLfZxE.js","./perl-BbHwsgL1.js","./pig-siFNrhhJ.js","./powershell-DtGrdgtc.js","./properties-ThqBcpfC.js","./protobuf-RiYv9VfD.js","./pug-DUVdXXqU.js","./puppet-U5CQLRYv.js","./python-Bwt6zAaD.js","./q-DIhdXtBp.js","./r-CWawXx6U.js","./rpm-CNr8ALvx.js","./ruby-DskfS84U.js","./sas-C2b2tSOH.js","./scheme-Cmmcrp64.js","./shell-Dyv1aCg9.js","./sieve-B_dGzCIS.js","./smalltalk-intFzbz6.js","./sparql-BX1c9HJU.js","./stylus-X6xt1FMB.js","./swift-BYNJXGdg.js","./tcl-BaybuQuE.js","./textile-77KFAyfi.js","./toml-D6E8t1IG.js","./troff-BfktZMhT.js","./ttcn-cfg-CstA0KVC.js","./ttcn-DOlRqUFL.js","./turtle-Cx-tHjh2.js","./vb-DerFRxqu.js","./vbscript-BPEY3B7J.js","./velocity-B-lFP8Gk.js","./verilog-C9TzcLDl.js","./vhdl-v8a_uH2H.js","./webidl-DmZw40AA.js","./xquery-BrIWpdRx.js","./yacas-ofPECLUx.js","./z80-DrGVKC-O.js","./trash-CRcefzxk.js","./ConsoleOutput-BFFTcC5Y.css","./icons-DaFojEUL.js","./blob-ISoY06EG.js","./empty-state-DTECRwMh.js","./isEmpty-B-9PYDiJ.js","./square-CYRwTwZO.js","./send-CTRovYct.js","./settings-p8vTgdrN.js","./prop-types-Dr_68tMt.js","./agent-panel-CPGu8Erd.js","./dist-CZtlXGHc.js","./file-video-camera-DJUITpag.js","./square-terminal-CpNRLkoY.js","./agent-panel-uD4NfS9H.css","./dependency-graph-panel-CoeP9rzE.js","./useCellActionButton-BIG30Gtv.js","./useSplitCell-xUizPIKw.js","./multi-icon-Dgzg2G90.js","./multi-icon-DGEaRcEm.css","./circle-plus-a4tnn8hI.js","./eye-off-_Bp7Ir5E.js","./link-BFkQTs0I.js","./TinyCode-GLDQZf34.js","./TinyCode-ujOhus_y.css","./cell-actions-DDza1yZz.js","./common-CoBkdbNK.js","./timer-CTpu0Fa6.js","./src-BwH0YUPh.js","./ellipsis-vertical-D4kjq0HQ.js","./square-function-sjebOKTF.js","./workflow-D14sQBPI.js","./dependency-graph-panel-DZccg5W0.css","./datasources-panel-CQJ_xth2.js","./column-preview-WPlkULp9.js","./useInstallPackage-I3kefbOO.js","./useAddCell-CREgcbTt.js","./write-secret-modal-8_TgMfIA.js","./field-CaHPDBhq.js","./add-database-form-D9ltJYvM.js","./form-DaO98mWt.js","./toggle-DlfY8wql.js","./refresh-ccw-Dg4gNnPm.js","./request-registry-k13VJQbm.js","./_createAggregator-CP8XSJVt.js","./_baseEach-CMG9RfnR.js","./hasIn-BgJKauE7.js","./_baseFlatten-ViL-mfkw.js","./_baseMap-Cw6xPrGQ.js","./sortBy-B2UQBZri.js","./documentation-panel-D-JV0cpO.js","./text-search-IpK7VCPx.js","./error-panel-DV7lr4JL.js","./file-explorer-panel-CPQDFtpj.js","./icon-32x32-YsJOs0Ms.js","./types-Bh2kSb2q.js","./Inputs-237ZzRAb.js","./Inputs-De9ocXZ0.css","./links-uXibXl2j.js","./es-vLBD1nBl.js","./tree-CN8xDCJX.js","./arrow-left-C_-paiHG.js","./file-plus-2-SQa07cq2.js","./save-M3l4CifW.js","./bundle.esm-BEDtDq85.js","./logs-panel-DsJnG9V6.js","./clear-button-B9Kao2Ra.js","./outline-panel-C9yH5I9w.js","./floating-outline-1_-JOoBX.js","./outline-panel-DiqosgsD.css","./packages-panel-BPiwOYBi.js","./constants-ClC7lqCE.js","./scratchpad-panel-C_xpdU9y.js","./loro_wasm_bg-CfNzVF4q.js","./cell-editor-4oTwitxm.js","./readonly-python-code-B4MS39iL.js","./layout-sf56kneH.js","./ellipsis-BgenFu2j.js","./layout-BMz7tbdg.css","./globals-Dp5TPAWC.js","./useInterval-D5tVoshg.js","./circle-check-BjYuTjAK.js","./ws-DBqs0vJU.js","./cell-editor-CJeTtuDg.css","./kiosk-mode-Cw6z28XS.js","./secrets-panel-Bzd6Mi0U.js","./snippets-panel-BNdYY1W6.js","./snippets-panel-BbRzKrpQ.css","./tracing-panel-DBh_LItF.js","./variable-panel-91Oy0ioR.js","./cache-panel-ClGFjnuH.js","./requests-BZ9D3oC1.js","./database-zap-CCB1mGaP.js","./command-palette-4W9o2iPI.js","./useNotebookActions-BqA-N7b_.js","./types-CmDbpUqg.js","./share-8z32Sr0F.js","./activity-DdWPIGQX.js","./youtube-CYW7gZLB.js","./globe-mi3m-i9B.js"])))=>i.map(i=>d[i]);
var x0=Object.defineProperty;var g0=(Ge,Xe,xt)=>Xe in Ge?x0(Ge,Xe,{enumerable:!0,configurable:!0,writable:!0,value:xt}):Ge[Xe]=xt;var Wa=(Ge,Xe,xt)=>g0(Ge,typeof Xe!="symbol"?Xe+"":Xe,xt);import{s as W}from"./chunk-DZLz74EQ.js";import{a as v0,c as Z,d as ur,l as Nt,n as dt,r as b0,s as mr,u as Va}from"./jotai-BTnrNcC1.js";import{t as y0}from"./react-BcIddLXZ.js";import{At as Ba,C as j0,Fn as w0,Gn as hr,Ir as _0,It as N0,K as C0,Kn as sn,M as Ft,N as k0,Nt as on,O as S0,P as I0,S as R0,Sn as Ha,T as Wt,U as cn,Un as E0,W as qa,X as $a,Yn as z0,Z as D0,_ as M0,a as Ua,an as Ka,b as O0,br as T0,d as Ga,er as A0,ht as pr,in as fr,k as dn,kt as P0,l as xr,m as L0,o as F0,or as W0,p as gr,pr as V0,q as B0,qn as H0,r as q0,s as $0,sn as qe,sr as Xa,t as U0,tr as K0,tt as G0,v as X0,w as We,y as un,zr as Y0,__tla as J0}from"./cells-A69p56PE.js";import{t as Q0}from"./react-dom-D6bRRS5R.js";import{F as Ya,H as Z0,L as e1,z as Ja}from"./zod-U2NFpcFA.js";import{t as H}from"./compiler-runtime-Cr9loedd.js";import"./_Uint8Array-D5Z9rM2X.js";import"./isSymbol-xTSywenE.js";import"./_arrayMap-DQI2GUNb.js";import"./toString-CBnct2wx.js";import"./toNumber-CTOPJrpu.js";import"./toInteger-Bor4StOs.js";import"./isArrayLikeObject-DKyJYtr8.js";import"./_getTag-CVRrQL_Q.js";import"./_baseIsEqual-CVFfFJm2.js";import"./_toKey-16owuO_q.js";import"./memoize-DhF8x4Aa.js";import"./get-BUGWIXZE.js";import"./merge-Dvc5opZF.js";import"./_baseSlice-BWZ0PeaJ.js";import"./upperFirst-CBQfDRod.js";import"./_hasUnicode-3DIK_jNi.js";import"./capitalize-CBqvgOfA.js";import"./_arrayReduce-DV4IVFuG.js";import{t as t1}from"./startCase-RfubwhHM.js";import"./_baseEach-CMG9RfnR.js";import"./hasIn-BgJKauE7.js";import"./_baseProperty-c4IQJQis.js";import"./_createAggregator-CP8XSJVt.js";import"./now-BXqTLlmI.js";import{t as r1}from"./debounce-BUM2losY.js";import"./tooltip-BFMRXuzR.js";import"./_baseSet-L2qemYhz.js";import"./add-database-form-D9ltJYvM.js";import"./range-ZclXTdAh.js";import{A as Qa,C as Vt,D as n1,E as Za,O as vr,S as br,_ as l1,a as mn,b as Bt,c as es,d as a1,f as s1,g as ts,h as i1,i as o1,k as rs,l as yr,m as Ht,n as Ct,o as kt,p as hn,r as pn,s as Qe,t as jr,u as fn,v as lt,w as c1,x as wr,y as qt}from"./utilities.esm-Bjl8-mRM.js";import{a as d1,i as u1,r as m1,s as ns}from"./client-CtbBEHVn.js";import{d as St,u as Ve}from"./hotkeys-ClCtr3_I.js";import{t as $t}from"./invariant-D5a0EE05.js";import{E as h1,T as p1,_ as f1,b as x1,f as g1,g as v1,n as b1,r as ls,v as xn,x as y1}from"./utils-DEDX0RLo.js";import{n as j1,t as gn}from"./constants-CEISdYm1.js";import{a as w1,g as It,o as _1}from"./config-C6qInAhC.js";import"./api-YJHlT7KM.js";import{n as N1}from"./globals-Dp5TPAWC.js";import{t as as}from"./ErrorBoundary-_uEOjNWh.js";import{n as C1,t as k1}from"./useEventListener-D1FLsfmf.js";import{t as S1}from"./jsx-runtime-mwDPpfh_.js";import{n as _r}from"./clsx-BlAkgCmw.js";import{n as I1,t as V}from"./cn-ZXtYmczU.js";import{r as Nr,t as oe}from"./button-ZC2axIBq.js";import{Lt as vn,rt as R1}from"./dist-MHIqsPCF.js";import{o as E1}from"./dist-CbvGwhr0.js";import{G as bn,J as z1,X as D1,b as yn,t as jn}from"./Output-DWmT-7NV.js";import{r as M1,u as O1}from"./once-C5bmD4W5.js";import"./capabilities-srilPYuF.js";import"./cjs-Ck8KMDI1.js";import"./createReducer-CeLhipaI.js";import{r as Ze,t as T1}from"./requests-BACZP_uj.js";import{t as Ne}from"./preload-helper-BnutJmlU.js";import{c as A1,l as P1,o as L1}from"./dist-8_YHxBVW.js";import"./dist-C14Sk-Bd.js";import"./dist-DJV2CjUA.js";import"./dist-CPUmJw_F.js";import"./dist-DcDuMWp5.js";import"./dist-vBG1bGij.js";import"./stex-xveX5l_T.js";import"./Deferred-NfAvvkGM.js";import"./uuid-D0hUC3Qw.js";import"./key-Cx1qY8eM.js";import{t as Ut}from"./use-toast-midBZAtS.js";import"./main-ChjX94eX.js";import"./marked.esm-BV7g2d65.js";import{i as F1,n as W1,r as ss,s as at,t as Rt}from"./connection-Bs4SQ_vu.js";import"./dist-Oad1venD.js";import{i as is,t as os}from"./useLifecycle-DogGOXPh.js";import{n as V1}from"./useTheme-Biy2QI0v.js";import{t as Me}from"./createLucideIcon-CNVopWor.js";import"./activity-DdWPIGQX.js";import{c as B1,l as wn,__tla as H1}from"./layout-sf56kneH.js";import{t as q1}from"./arrow-left-C_-paiHG.js";import{r as $1,t as U1}from"./cell-actions-DDza1yZz.js";import{a as K1,b as cs,o as G1,r as X1,t as Y1,v as _n}from"./add-cell-with-ai-Bf3hYYIu.js";import{r as J1,t as Q1}from"./CellStatus-CJ5BnF-2.js";import{t as ds}from"./square-CYRwTwZO.js";import"./ai-model-dropdown-CvhbTHha.js";import{a as Et,f as Z1,l as eh,n as us,p as Nn}from"./state-BfH78XJJ.js";import"./type-o43RKOcp.js";import{i as th,r as rh,t as nh}from"./useBoolean-CpaqzlKu.js";import"./table-C2gUjtJV.js";import{t as lh}from"./check-CuBLr6Cm.js";import{_ as ut,g as Cn,h as $e,l as kn}from"./select-5fcaZwou.js";import{c as ah}from"./download-ByFIcaoi.js";import{t as Sn}from"./chevron-right-BV0VfNbL.js";import{d as sh,l as ih,p as oh}from"./maps-B1z3jt-a.js";import{a as ch,c as dh,i as Ue,n as uh,r as Ke,s as mh,t as hh}from"./useCellActionButton-BIG30Gtv.js";import"./plug-BTyO2pk-.js";import{t as ms}from"./circle-check-BjYuTjAK.js";import{a as hs,c as ph,d as fh,i as xh,l as gh,n as vh,o as bh,r as yh,s as jh,t as wh,u as _h}from"./useNotebookActions-BqA-N7b_.js";import"./circle-plus-a4tnn8hI.js";import{u as ps}from"./toDate-C3oOx2yr.js";import{t as Nh}from"./circle-x-Dm9uA-wT.js";import{A as fs,C as Ch,D as kh,E as Sh,O as Ih,P as Rh,S as Eh,T as zh,_ as Dh,a as Cr,b as Mh,c as mt,d as Oh,f as Th,g as Ah,h as Ph,k as Lh,m as Fh,n as xs,o as Wh,p as ht,r as pt,s as Vh,t as ft,u as Bh,v as Hh,w as qh,x as $h,y as Uh}from"./dropdown-menu-uN_XMhZm.js";import{t as Kh}from"./clipboard-paste-BLsIEx19.js";import{n as Gh,t as Xh}from"./eye-off-_Bp7Ir5E.js";import{t as Yh}from"./copy-Dy_tLkL8.js";import"./database-zap-CCB1mGaP.js";import"./download-ptuQ0M1w.js";import{t as In}from"./ellipsis-BgenFu2j.js";import"./types-Bh2kSb2q.js";import"./file-video-camera-DJUITpag.js";import{_ as Jh,a as Rn,c as Qh,d as Zh,f as gs,g as ep,h as tp,i as rp,l as np,m as Kt,n as vs,o as lp,p as ap,r as sp,s as bs,t as ys,u as ip,v as En,__tla as op}from"./cell-editor-4oTwitxm.js";import"./file-plus-2-SQa07cq2.js";import"./file-text-CFgIi1A4.js";import"./file-Cz8xVTWu.js";import"./youtube-CYW7gZLB.js";import"./globe-mi3m-i9B.js";import{a as cp,c as dp,d as js,f as up,i as ws,l as mp,m as hp,n as pp,o as fp,p as xp,r as gp,s as vp,t as bp,u as _s}from"./storage-DNJOpVBd.js";import{t as yp}from"./image-DW_EcY4T.js";import"./link-BFkQTs0I.js";import{n as jp,t as kr}from"./spinner-CuquyDWA.js";import{t as wp}from"./readonly-python-code-B4MS39iL.js";import"./MarimoErrorOutput-BATnwNYX.js";import{r as Gt}from"./name-cell-input-DND1MD7b.js";import{t as zn}from"./plus-CRGccegF.js";import{n as _p,r as Xt,t as Np}from"./app-config-button-B-Faif0q.js";import{t as Cp}from"./refresh-ccw-Dg4gNnPm.js";import"./refresh-cw-Duwwh0cP.js";import{n as kp,t as Sp}from"./square-terminal-CpNRLkoY.js";import"./save-M3l4CifW.js";import{J as Ip,ot as Ns,q as Rp,r as Dn,st as Ep}from"./input-BNb8K99m.js";import"./settings-p8vTgdrN.js";import{t as Cs}from"./ConsoleOutput-BJP_UIwR.js";import{a as Sr,n as ks}from"./state-JZFfOGr9.js";import{t as zp}from"./square-function-sjebOKTF.js";import{a as Dp,c as Mp,g as Op,n as Tp,o as Ap,p as Pp,t as Lp,u as Fp}from"./form-CaSJmn0I.js";import"./text-search-IpK7VCPx.js";import{t as Ss}from"./trash-2-BPux4_UF.js";import"./trash-CRcefzxk.js";import{i as Mn,o as Wp,v as On}from"./VisuallyHidden-DqOWapbP.js";import"./workflow-D14sQBPI.js";import"./badge-Jfhpc30N.js";import{C as Vp,c as Is,g as Bp,h as Hp,l as qp,o as $p,s as Up,x as Yt,y as Kp}from"./Combination-BjaZc6gK.js";import"./dist-o-4-WxUj.js";import{i as Rs,s as Ir,t as te}from"./tooltip-BHnVWzH0.js";import{c as Gp,i as Rr,l as Xp,o as Es,r as zs,s as Yp}from"./menu-items-DwOFR2Zi.js";import"./useNonce-VIoWEX5z.js";import"./en-US-D2gH55FJ.js";import"./isValid-BJSfXqfd.js";import{a as Jp,r as Qp}from"./mode-Bq6LjPC-.js";import"./alert-dialog-8EwWlboa.js";import{a as Zp,c as ef,n as tf,r as rf}from"./dialog-BfhgTWm1.js";import{I as nf,T as Ds}from"./usePress-BO20vkQb.js";import"./SSRProvider-B8x7qo1c.js";import"./useDateFormatter-CPDTrKqK.js";import{t as Ms}from"./context-CcLKJeA2.js";import{t as Er}from"./useNumberFormatter-F8R3LBxf.js";import"./shim-Cc3VMan6.js";import{t as Re}from"./useHotkey-NDxGNWnW.js";import"./numbers-CTSqyVyD.js";import{n as je,t as lf}from"./useEvent-CRDKqG3C.js";import"./useDebounce-DzG_89QJ.js";import{n as af}from"./ImperativeModal-C4fZHLKz.js";import"./share-8z32Sr0F.js";import"./strings-DHsDEFo-.js";import{t as zt}from"./error-banner-DoSAS3iD.js";import"./vega-loader.browser-D2m26-DP.js";import"./precisionRound-Qxa8hC2h.js";import"./defaultLocale-YmL2k7Vp.js";import"./defaultLocale-zQltfbSS.js";import{t as sf}from"./copy-LsxoSTiV.js";import"./copy-icon-CE7wmMnS.js";import{t as of}from"./RenderHTML-DTLkV9Uh.js";import"./purify.es-CPMOFAIu.js";import{a as Os,i as Tn,o as cf,r as df}from"./useRunCells-BLpH_l8E.js";import"./multi-map-D9JaQ_m6.js";import"./emotion-is-prop-valid.esm-OoyWz_0l.js";import"./extends-dwNt6GDg.js";import"./prop-types-Dr_68tMt.js";import"./objectWithoutPropertiesLoose-COpOcp6W.js";import"./alert-BqjCH_7t.js";import{n as An}from"./useAsyncData-CngUoIwV.js";import"./dist-DBrqGLzW.js";import{t as uf}from"./kbd-DbVT085u.js";import{a as et,i as mf,r as Pn,t as hf}from"./renderShortcut-DJmsjON-.js";import"./label-Dcu3RhQ4.js";import{i as pf,r as ff,t as xf}from"./popover-F0Sfc1dn.js";import{a as gf,i as vf,o as bf,t as yf}from"./cell-link-D75IV6D1.js";import"./dist-GE2AwHvG.js";import"./dist-CMHCymvx.js";import"./dist-ta4iJSan.js";import"./dist-BcppZLnk.js";import"./dist-DRTi9ht4.js";import"./dist-BjGT2Oog.js";import"./dist-CXL8T4lt.js";import"./dist-B0B_Xnwd.js";import"./dist-BcgNLefj.js";import"./dist-DM2w8f7r.js";import"./dist-nhBdVy6b.js";import"./dist-D-JTXier.js";import"./apl-BGS-6pM9.js";import"./asciiarmor-CbQH35y7.js";import"./asn1-P7HrFGaM.js";import"./brainfuck-CSxeyQc4.js";import"./cobol-CY4gVoPW.js";import"./clike-Bg9duJDo.js";import"./clojure-B94DOmFw.js";import"./css-CmDcdojQ.js";import"./cmake-DQEKyMNG.js";import"./coffeescript-BwWb96Ts.js";import"./commonlisp-Cq_n1sF6.js";import"./cypher-ByytCYVx.js";import"./python-Bwt6zAaD.js";import"./crystal-BLTq7Sqq.js";import"./d-xLFRg71F.js";import"./diff-VF6GbDch.js";import"./dtd-D8qb8bJW.js";import"./dylan-CIkom9X4.js";import"./ecl-8wcmTiom.js";import"./eiffel-D2ZBcT03.js";import"./elm-Cpg3TnMc.js";import"./erlang-B4A2pXCG.js";import"./simple-mode-BrL6eoj-.js";import"./factor-DhbRkYZ5.js";import"./forth-C5F1F4pC.js";import"./fortran-D7Gl3Tli.js";import"./mllike-ClozcVVR.js";import"./gas-BS2f8qHc.js";import"./gherkin-CVZcskwU.js";import"./groovy-BhQsBMwW.js";import"./haskell-BPbxlKgK.js";import"./haxe-TKSAmiMf.js";import"./idl-DFgQu5Ek.js";import"./javascript-dAA8UGkz.js";import"./jinja2-BIbcpWyF.js";import"./julia-CfdFJG3K.js";import"./livescript-FcXY3DYa.js";import"./lua-Co6rjiMf.js";import"./mirc-DIfBuSAc.js";import"./mathematica-yb42KhnJ.js";import"./modelica-DfSVZeoi.js";import"./mumps-Zs7zFruB.js";import"./mbox-Kdy3h0JS.js";import"./nsis-znELVT3h.js";import"./ntriples-BZ-Gx5MV.js";import"./octave-DbhnFGQl.js";import"./oz-C8cfEyhB.js";import"./pascal-DjQLfZxE.js";import"./perl-BbHwsgL1.js";import"./pig-siFNrhhJ.js";import"./powershell-DtGrdgtc.js";import"./properties-ThqBcpfC.js";import"./protobuf-RiYv9VfD.js";import"./pug-DUVdXXqU.js";import"./puppet-U5CQLRYv.js";import"./q-DIhdXtBp.js";import"./r-CWawXx6U.js";import"./rpm-CNr8ALvx.js";import"./ruby-DskfS84U.js";import"./sas-C2b2tSOH.js";import"./scheme-Cmmcrp64.js";import"./shell-Dyv1aCg9.js";import"./sieve-B_dGzCIS.js";import"./smalltalk-intFzbz6.js";import"./sparql-BX1c9HJU.js";import"./stylus-X6xt1FMB.js";import"./swift-BYNJXGdg.js";import"./verilog-C9TzcLDl.js";import"./tcl-BaybuQuE.js";import"./textile-77KFAyfi.js";import"./toml-D6E8t1IG.js";import"./troff-BfktZMhT.js";import"./ttcn-DOlRqUFL.js";import"./ttcn-cfg-CstA0KVC.js";import"./turtle-Cx-tHjh2.js";import"./webidl-DmZw40AA.js";import"./vb-DerFRxqu.js";import"./vbscript-BPEY3B7J.js";import"./velocity-B-lFP8Gk.js";import"./vhdl-v8a_uH2H.js";import"./xquery-BrIWpdRx.js";import"./yacas-ofPECLUx.js";import"./z80-DrGVKC-O.js";import"./mscgen-BCcB4vmY.js";import"./dist-j2I9I0a7.js";import"./esm-DtCFmQ1n.js";import"./esm-B3nKz9z-.js";import{t as jf}from"./links-CMl0qG9J.js";import"./useIframeCapabilities-DXQ78nsN.js";import{__tla as wf}from"./lazy-oPCv0nK8.js";import"./tabs-l9npw3ob.js";import"./command-Dlk4i3l7.js";import"./table-DU76OrPF.js";import"./formats-BN93kMCb.js";import"./blob-ISoY06EG.js";import{n as Ts,r as _f,t as As}from"./useDeleteCell-CEsjHDdl.js";import{n as zr}from"./add-missing-import-Bc1Nj8aC.js";import{n as Nf,t as Cf}from"./icons-DaFojEUL.js";import"./form-DaO98mWt.js";import{a as kf,t as Sf}from"./focus-BaSDCTOl.js";import"./useAddCell-CREgcbTt.js";import{t as Ln}from"./toggle-DlfY8wql.js";import"./field-CaHPDBhq.js";import"./textarea-DeG5mMSH.js";import{t as Ps}from"./switch-4s4187gV.js";import{t as If}from"./floating-outline-1_-JOoBX.js";import"./dist-CZtlXGHc.js";import"./requests-BZ9D3oC1.js";import"./request-registry-k13VJQbm.js";import"./write-secret-modal-8_TgMfIA.js";import"./TinyCode-GLDQZf34.js";import"./multi-icon-Dgzg2G90.js";import"./useSplitCell-xUizPIKw.js";import"./links-uXibXl2j.js";import{t as st}from"./Inputs-237ZzRAb.js";import"./constants-ClC7lqCE.js";import{__tla as Rf}from"./loro_wasm_bg-CfNzVF4q.js";import"./ws-DBqs0vJU.js";import{t as Ls}from"./useInterval-D5tVoshg.js";import{n as Ef,t as Fs}from"./kiosk-mode-Cw6z28XS.js";import"./types-CmDbpUqg.js";import"./runs-Cc1E9Ytb.js";let Ws,zf=Promise.all([(()=>{try{return J0}catch{}})(),(()=>{try{return H1}catch{}})(),(()=>{try{return op}catch{}})(),(()=>{try{return wf}catch{}})(),(()=>{try{return Rf}catch{}})()]).then(async()=>{var Ge=Me("cloud-download",[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]]),Xe=Me("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),xt=Me("hard-drive-download",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 18h.01",key:"h775k"}]]),Vs=Me("map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]),Bs=Me("memory-stick",[["path",{d:"M6 19v-3",key:"1nvgqn"}],["path",{d:"M10 19v-3",key:"iu8nkm"}],["path",{d:"M14 19v-3",key:"kcehxu"}],["path",{d:"M18 19v-3",key:"1vh91z"}],["path",{d:"M8 11V9",key:"63erz4"}],["path",{d:"M16 11V9",key:"fru6f3"}],["path",{d:"M12 11V9",key:"ha00sb"}],["path",{d:"M2 15h20",key:"16ne18"}],["path",{d:"M2 7a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v1.1a2 2 0 0 0 0 3.837V17a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-5.1a2 2 0 0 0 0-3.837Z",key:"lhddv3"}]]),Hs=Me("message-circle-question-mark",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),qs=Me("microchip",[["path",{d:"M18 12h2",key:"quuxs7"}],["path",{d:"M18 16h2",key:"zsn3lv"}],["path",{d:"M18 20h2",key:"9x5y9y"}],["path",{d:"M18 4h2",key:"1luxfb"}],["path",{d:"M18 8h2",key:"nxqzg"}],["path",{d:"M4 12h2",key:"1ltxp0"}],["path",{d:"M4 16h2",key:"8a5zha"}],["path",{d:"M4 20h2",key:"27dk57"}],["path",{d:"M4 4h2",key:"10groj"}],["path",{d:"M4 8h2",key:"18vq6w"}],["path",{d:"M8 2a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-1.5c-.276 0-.494.227-.562.495a2 2 0 0 1-3.876 0C9.994 2.227 9.776 2 9.5 2z",key:"1681fp"}]]),$s=Me("octagon-alert",[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M15.312 2a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586l-4.688-4.688A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2z",key:"1fd625"}]]),Us=Me("package-check",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),Fn=Me("package-x",[["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}],["path",{d:"m17 13 5 5m-5 0 5-5",key:"im3w4b"}]]),Ks=Me("regex",[["path",{d:"M17 3v10",key:"15fgeh"}],["path",{d:"m12.67 5.5 8.66 5",key:"1gpheq"}],["path",{d:"m12.67 10.5 8.66-5",key:"1dkfa6"}],["path",{d:"M9 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-2z",key:"swwfx4"}]]),Gs=Me("square-code",[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]]),Xs=Me("square-m",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 16V8l4 4 4-4v8",key:"141u4e"}]]),Ys=Me("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]),Js=Me("whole-word",[["circle",{cx:"7",cy:"12",r:"3",key:"12clwm"}],["path",{d:"M10 9v6",key:"17i7lo"}],["circle",{cx:"17",cy:"12",r:"3",key:"gl7c2s"}],["path",{d:"M14 7v8",key:"dl84cr"}],["path",{d:"M22 17v1c0 .5-.5 1-1 1H3c-.5 0-1-.5-1-1v-1",key:"lt2kga"}]]),v=W(y0(),1);function Qs(t,e){let{"aria-label":r,"aria-labelledby":n,orientation:a="horizontal"}=t,[s,i]=(0,v.useState)(!1);nf(()=>{var f;i(!!(e.current&&((f=e.current.parentElement)!=null&&f.closest('[role="toolbar"]'))))});let{direction:o}=Ms(),c=o==="rtl"&&a==="horizontal",d=Wp(e),u=f=>{if(f.currentTarget.contains(f.target)){if(a==="horizontal"&&f.key==="ArrowRight"||a==="vertical"&&f.key==="ArrowDown")c?d.focusPrevious():d.focusNext();else if(a==="horizontal"&&f.key==="ArrowLeft"||a==="vertical"&&f.key==="ArrowUp")c?d.focusNext():d.focusPrevious();else if(f.key==="Tab"){f.stopPropagation(),m.current=document.activeElement,f.shiftKey?d.focusFirst():d.focusLast();return}else return;f.stopPropagation(),f.preventDefault()}},m=(0,v.useRef)(null),h=f=>{!f.currentTarget.contains(f.relatedTarget)&&!m.current&&(m.current=f.target)},p=f=>{var x;if(m.current&&!f.currentTarget.contains(f.relatedTarget)&&((x=e.current)!=null&&x.contains(f.target))){var g;(g=m.current)==null||g.focus(),m.current=null}};return{toolbarProps:{...Ns(t,{labelable:!0}),role:s?"group":"toolbar","aria-orientation":a,"aria-label":r,"aria-labelledby":r==null?n:void 0,onKeyDownCapture:s?void 0:u,onFocusCapture:s?void 0:p,onBlurCapture:s?void 0:h}}}var Zs=(0,v.createContext)({}),ei=(0,v.forwardRef)(function(t,e){[t,e]=Rp(t,e,Zs);let{toolbarProps:r}=Qs(t,e),n=Ip({...t,values:{orientation:t.orientation||"horizontal"},defaultClassName:"react-aria-Toolbar"}),a=Ns(t,{global:!0});return delete a.id,v.createElement("div",{...Ds(a,n,r),ref:e,slot:t.slot||void 0,"data-orientation":t.orientation||"horizontal"},n.children)}),ti=W(H(),1),l=W(S1(),1);const ri=t=>{let e=(0,ti.c)(33),{disabled:r,tooltip:n}=t,a=r===void 0?!1:r,s=n===void 0?"Actions":n,i=wh(),{locale:o}=Ms(),c;e[0]===s?c=e[1]:(c=(0,l.jsx)("div",{children:s}),e[0]=s,e[1]=c);let d;e[2]===a?d=e[3]:(d=!a&&(0,l.jsxs)("div",{className:"text-xs text-muted-foreground font-medium pt-1 -mt-2 border-t border-border flex items-center gap-2",children:[(0,l.jsx)("span",{children:"Open command palette"}),et("global.commandPalette",!1)]}),e[2]=a,e[3]=d);let u;e[4]!==c||e[5]!==d?(u=(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[c,d]}),e[4]=c,e[5]=d,e[6]=u):u=e[6];let m=u,h=a?"disabled":"hint-green",p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(hp,{strokeWidth:1.8}),e[7]=p):p=e[7];let f;e[8]===m?f=e[9]:(f=(0,l.jsx)(te,{content:m,children:p}),e[8]=m,e[9]=f);let g;e[10]!==a||e[11]!==h||e[12]!==f?(g=(0,l.jsx)(st,{"aria-label":"Config",shape:"circle",size:"small",className:"h-[27px] w-[27px]","data-testid":"notebook-menu-dropdown",disabled:a,color:h,children:f}),e[10]=a,e[11]=h,e[12]=f,e[13]=g):g=e[13];let x=g,b=ni,y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=z=>{let E=(0,l.jsx)(Cr,{variant:z.variant,disabled:z.disabled,onSelect:O=>z.handle(O),"data-testid":`notebook-menu-dropdown-${z.label}`,children:b(z)},z.label);return z.tooltip?(0,l.jsx)(te,{content:z.tooltip,side:"left",delayDuration:100,children:(0,l.jsx)("span",{children:E})},z.label):E},e[14]=y):y=e[14];let j=y,w;e[15]!==x||e[16]!==a?(w=(0,l.jsx)(ht,{asChild:!0,disabled:a,children:x}),e[15]=x,e[16]=a,e[17]=w):w=e[17];let _;if(e[18]!==i){let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=E=>E.hidden?null:E.dropdown?(0,l.jsxs)(Bh,{children:[(0,l.jsx)(Th,{"data-testid":`notebook-menu-dropdown-${E.label}`,children:b(E)}),(0,l.jsx)(Vh,{children:(0,l.jsx)(Oh,{children:E.dropdown.map(O=>(0,l.jsxs)(v.Fragment,{children:[O.divider&&(0,l.jsx)(mt,{}),j(O)]},O.label))})})]},E.label):(0,l.jsxs)(v.Fragment,{children:[E.divider&&(0,l.jsx)(mt,{}),j(E)]},E.label),e[20]=z):z=e[20],_=i.map(z),e[18]=i,e[19]=_}else _=e[19];let N;e[21]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)(mt,{}),e[21]=N):N=e[21];let C;e[22]===o?C=e[23]:(C=(0,l.jsxs)("span",{children:["Locale: ",o]}),e[22]=o,e[23]=C);let I;e[24]===Symbol.for("react.memo_cache_sentinel")?(I=(0,l.jsxs)("span",{children:["Version: ",N1()]}),e[24]=I):I=e[24];let R;e[25]===C?R=e[26]:(R=(0,l.jsxs)("div",{className:"flex-1 px-2 text-xs text-muted-foreground flex flex-col gap-1",children:[C,I]}),e[25]=C,e[26]=R);let k;e[27]!==_||e[28]!==R?(k=(0,l.jsxs)(pt,{align:"end",className:"no-print w-[240px]",children:[_,N,R]}),e[27]=_,e[28]=R,e[29]=k):k=e[29];let S;return e[30]!==w||e[31]!==k?(S=(0,l.jsxs)(ft,{modal:!1,children:[w,k]}),e[30]=w,e[31]=k,e[32]=S):S=e[32],S};function ni(t){return(0,l.jsxs)(l.Fragment,{children:[t.icon&&(0,l.jsx)("span",{className:"flex-0 mr-2",children:t.icon}),(0,l.jsx)("span",{className:"flex-1",children:t.labelElement||t.label}),t.hotkey&&(0,l.jsx)(Pn,{shortcut:t.hotkey,className:"ml-4"}),t.rightElement]})}function Jt(t){return()=>{let e=dt.get(Kt),r=new E1({search:e.findText,caseSensitive:e.caseSensitive,regexp:e.regexp,replace:e.replaceText,wholeWord:e.wholeWord});return r.valid?t({query:ep(r).create(),search:r}):!1}}var Wn=t=>Jt(({query:e})=>{let r=xr(),n=dt.get(Kt).currentView||{view:r[0],range:{from:0,to:0}},a=n.range.to;t==="prev"&&(r.reverse(),a=n.range.from);let s=r.indexOf(n.view);s<0&&(s=0);let i=[...r,...r].slice(s);for(let o of i){let c=t==="next"?e.nextMatch(o.state,0,a??0):e.prevMatch(o.state,a??o.state.doc.length,o.state.doc.length);if(!c){a=null,o.dispatch({selection:vn.single(0)});continue}let d=vn.single(c.from,c.to);return o.dispatch({selection:d,effects:[R1.scrollIntoView(d.main,{y:"center"})],userEvent:"select.search"}),dt.set(Kt,{type:"setCurrentView",view:o,range:{from:c.from,to:c.to}}),c}return!1});const Dr=Wn("next"),Vn=Wn("prev"),li=Jt(({query:t})=>{var n;let e=xr(),r=[];for(let a of e){if(a.state.readOnly)continue;let s=(n=t.matchAll(a.state,1e9))==null?void 0:n.map(o=>{let{from:c,to:d}=o;return{from:c,to:d,insert:t.getReplacement(o)}});if(!s||s.length===0)continue;let i=a.state.doc.toString();r.push(()=>{V0(a,i,{userEvent:"input.replace.all"})}),a.dispatch({changes:s,userEvent:"input.replace.all"})}return()=>{for(let a of r)a()}}),ai=Jt(({query:t})=>{let e=xr(),r=dt.get(Kt).currentView||{view:e[0],range:{from:0,to:0}},n=r.range.from,a=e.indexOf(r.view);a<0&&(a=0);let s=[...e,...e].slice(a);for(let i of s){let o=t.nextMatch(i.state,0,n??0);if(!o){n=null,i.dispatch({selection:vn.single(0)});continue}let c=i.state.toText(t.getReplacement(o));return i.dispatch({changes:[{from:o.from,to:o.to,insert:c}],userEvent:"input.replace"}),Dr()}return!1}),si=Jt(({query:t})=>{let e=xr(),r=0,n=new Map;for(let a of e){let s=t.matchAll(a.state,1e9)||[];for(let i of s){let{from:o,to:c}=i,d=n.get(a)||new Map;d.set(`${o}:${c}`,r++),n.set(a,d)}}return{count:r,position:n}});var ii=W(H(),1);const oi=()=>{var re;let t=(0,ii.c)(102),[e,r]=(0,v.useState)(!1),[n,a]=mr(Kt),[s,i]=(0,v.useState)(),o=(0,v.useRef)(null),c=Z(g1),d;t[0]!==e||t[1]!==n.isOpen?(d=()=>e&&n.isOpen?!1:tp(),t[0]=e,t[1]=n.isOpen,t[2]=d):d=t[2],Re("cell.findAndReplace",d);let u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{let U=si();i(U===!1?void 0:U)},t[3]=u):u=t[3];let m=u,h,p;t[4]===n.isOpen?(h=t[5],p=t[6]):(h=()=>{n.isOpen&&o.current&&(o.current.focus(),o.current.select())},p=[n.isOpen],t[4]=n.isOpen,t[5]=h,t[6]=p),(0,v.useEffect)(h,p);let f;t[7]!==n.findText||t[8]!==n.isOpen?(f=()=>{if(!n.isOpen){gs();return}if(n.findText===""){i(void 0),gs();return}m(),ap()},t[7]=n.findText,t[8]=n.isOpen,t[9]=f):f=t[9];let g;if(t[10]!==n.caseSensitive||t[11]!==n.findText||t[12]!==n.isOpen||t[13]!==n.regexp||t[14]!==n.wholeWord?(g=[n.findText,n.isOpen,n.caseSensitive,n.regexp,n.wholeWord],t[10]=n.caseSensitive,t[11]=n.findText,t[12]=n.isOpen,t[13]=n.regexp,t[14]=n.wholeWord,t[15]=g):g=t[15],(0,v.useEffect)(f,g),!n.isOpen)return null;let x=n.currentView,b;t[16]!==s||t[17]!==x?(b=x&&s?(re=s.position.get(x.view))==null?void 0:re.get(`${x.range.from}:${x.range.to}`):void 0,t[16]=s,t[17]=x,t[18]=b):b=t[18];let y=b,j;t[19]===Symbol.for("react.memo_cache_sentinel")?(j=()=>r(!0),t[19]=j):j=t[19];let w;t[20]===Symbol.for("react.memo_cache_sentinel")?(w=()=>r(!1),t[20]=w):w=t[20];let _;t[21]===a?_=t[22]:(_=U=>{U.key==="Escape"&&a({type:"setIsOpen",isOpen:!1})},t[21]=a,t[22]=_);let N;t[23]===a?N=t[24]:(N=()=>a({type:"setIsOpen",isOpen:!1}),t[23]=a,t[24]=N);let C;t[25]===Symbol.for("react.memo_cache_sentinel")?(C=(0,l.jsx)($e,{className:"w-4 h-4"}),t[25]=C):C=t[25];let I;t[26]===N?I=t[27]:(I=(0,l.jsx)("div",{className:"absolute top-0 right-0",children:(0,l.jsx)(oe,{"data-testid":"close-find-replace-button",onClick:N,size:"xs",variant:"text",children:C})}),t[26]=N,t[27]=I);let R;t[28]===a?R=t[29]:(R=U=>{a({type:"setFind",find:U.target.value})},t[28]=a,t[29]=R);let k;t[30]!==n.findText||t[31]!==R?(k=(0,l.jsx)(Dn,{ref:o,"data-testid":"find-input",value:n.findText,autoFocus:!0,className:"mr-2 mb-0",placeholder:"Find",onKeyDown:di,onChange:R}),t[30]=n.findText,t[31]=R,t[32]=k):k=t[32];let S;t[33]===a?S=t[34]:(S=U=>{a({type:"setReplace",replace:U.target.value})},t[33]=a,t[34]=S);let z;t[35]!==n.replaceText||t[36]!==S?(z=(0,l.jsx)(Dn,{"data-testid":"replace-input",value:n.replaceText,placeholder:"Replace",onChange:S}),t[35]=n.replaceText,t[36]=S,t[37]=z):z=t[37];let E;t[38]!==k||t[39]!==z?(E=(0,l.jsxs)("div",{className:"flex flex-col flex-2 gap-2 w-[55%]",children:[k,z]}),t[38]=k,t[39]=z,t[40]=E):E=t[40];let O=n.caseSensitive?"on":"off",P;t[41]===a?P=t[42]:(P=U=>a({type:"setCaseSensitive",caseSensitive:U}),t[41]=a,t[42]=P);let D;t[43]===Symbol.for("react.memo_cache_sentinel")?(D=(0,l.jsx)(th,{className:"w-4 h-4"}),t[43]=D):D=t[43];let M;t[44]!==n.caseSensitive||t[45]!==O||t[46]!==P?(M=(0,l.jsx)(te,{content:"Case Sensitive",children:(0,l.jsx)(Ln,{size:"sm",pressed:n.caseSensitive,"data-state":O,onPressedChange:P,children:D})}),t[44]=n.caseSensitive,t[45]=O,t[46]=P,t[47]=M):M=t[47];let T=n.wholeWord?"on":"off",L;t[48]===a?L=t[49]:(L=U=>a({type:"setWholeWord",wholeWord:U}),t[48]=a,t[49]=L);let A;t[50]===Symbol.for("react.memo_cache_sentinel")?(A=(0,l.jsx)(Js,{className:"w-4 h-4"}),t[50]=A):A=t[50];let q;t[51]!==n.wholeWord||t[52]!==T||t[53]!==L?(q=(0,l.jsx)(te,{content:"Match Whole Word",children:(0,l.jsx)(Ln,{size:"sm",pressed:n.wholeWord,"data-state":T,onPressedChange:L,children:A})}),t[51]=n.wholeWord,t[52]=T,t[53]=L,t[54]=q):q=t[54];let X=n.regexp?"on":"off",K;t[55]===a?K=t[56]:(K=U=>a({type:"setRegex",regexp:U}),t[55]=a,t[56]=K);let $;t[57]===Symbol.for("react.memo_cache_sentinel")?($=(0,l.jsx)(Ks,{className:"w-4 h-4"}),t[57]=$):$=t[57];let Q;t[58]!==n.regexp||t[59]!==X||t[60]!==K?(Q=(0,l.jsx)(te,{content:"Use Regular Expression",children:(0,l.jsx)(Ln,{size:"sm",pressed:n.regexp,"data-state":X,onPressedChange:K,children:$})}),t[58]=n.regexp,t[59]=X,t[60]=K,t[61]=Q):Q=t[61];let B;t[62]!==M||t[63]!==q||t[64]!==Q?(B=(0,l.jsxs)("div",{className:"flex items-center gap-[2px]",children:[M,q,Q]}),t[62]=M,t[63]=q,t[64]=Q,t[65]=B):B=t[65];let le;t[66]===Symbol.for("react.memo_cache_sentinel")?(le=()=>{ai()&&m()},t[66]=le):le=t[66];let F=n.findText==="",G;t[67]===F?G=t[68]:(G=(0,l.jsx)(oe,{"data-testid":"replace-next-button",size:"xs",variant:"outline",className:"h-6 text-xs",onClick:le,disabled:F,children:"Replace Next"}),t[67]=F,t[68]=G);let Y;t[69]===Symbol.for("react.memo_cache_sentinel")?(Y=()=>{let U=li();if(!U)return;m();let{dismiss:Ye}=Ut({title:"Replaced all occurrences",action:(0,l.jsx)(_f,{"data-testid":"undo-replace-all-button",onClick:()=>{U(),Be()}})}),Be=Ye},t[69]=Y):Y=t[69];let J=n.findText==="",ee;t[70]===J?ee=t[71]:(ee=(0,l.jsx)(oe,{"data-testid":"replace-all-button",size:"xs",variant:"outline",className:"h-6 text-xs",onClick:Y,disabled:J,children:"Replace All"}),t[70]=J,t[71]=ee);let se;t[72]!==G||t[73]!==ee?(se=(0,l.jsxs)("div",{className:"flex items-center gap-[2px]",children:[G,ee]}),t[72]=G,t[73]=ee,t[74]=se):se=t[74];let ae;t[75]!==B||t[76]!==se?(ae=(0,l.jsxs)("div",{className:"flex flex-col gap-2",children:[B,se]}),t[75]=B,t[76]=se,t[77]=ae):ae=t[77];let de;t[78]!==E||t[79]!==ae?(de=(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[E,ae]}),t[78]=E,t[79]=ae,t[80]=de):de=t[80];let ce;t[81]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,l.jsx)(te,{content:"Find Previous",children:(0,l.jsx)(oe,{"data-testid":"find-prev-button",size:"xs",variant:"secondary",onClick:ui,children:(0,l.jsx)(q1,{className:"w-4 h-4"})})}),t[81]=ce):ce=t[81];let ve;t[82]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,l.jsx)(te,{content:"Find Next",children:(0,l.jsx)(oe,{"data-testid":"find-next-button",size:"xs",variant:"secondary",onClick:mi,children:(0,l.jsx)($1,{className:"w-4 h-4"})})}),t[82]=ve):ve=t[82];let me;t[83]!==y||t[84]!==s?(me=s!=null&&y==null&&(0,l.jsxs)("span",{className:"text-sm",children:[s.count," matches"]}),t[83]=y,t[84]=s,t[85]=me):me=t[85];let pe;t[86]!==y||t[87]!==s?(pe=s!=null&&y!=null&&(0,l.jsxs)("span",{className:"text-sm",children:[y+1," of ",s.count]}),t[86]=y,t[87]=s,t[88]=pe):pe=t[88];let ie;t[89]!==me||t[90]!==pe?(ie=(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[ce,ve,me,pe]}),t[89]=me,t[90]=pe,t[91]=ie):ie=t[91];let ue;t[92]===c?ue=t[93]:(ue=c.getHotkey("cell.findAndReplace"),t[92]=c,t[93]=ue);let he;t[94]===ue.key?he=t[95]:(he=(0,l.jsxs)("div",{className:"text-xs text-muted-foreground flex gap-1 mt-2",children:["Press"," ",(0,l.jsx)(hf,{shortcut:ue.key})," ","again to open the native browser search."]}),t[94]=ue.key,t[95]=he);let ye;return t[96]!==I||t[97]!==de||t[98]!==ie||t[99]!==he||t[100]!==_?(ye=(0,l.jsx)(Mn,{restoreFocus:!0,autoFocus:!0,children:(0,l.jsxs)("div",{onFocus:j,onClick:ci,onBlur:w,className:"fixed top-0 right-0 w-[500px] flex flex-col bg-(--sage-1) p-4 z-50 mt-2 mr-3 rounded-md shadow-lg border gap-2 print:hidden",onKeyDown:_,children:[I,de,ie,he]})}),t[96]=I,t[97]=de,t[98]=ie,t[99]=he,t[100]=_,t[101]=ye):ye=t[101],ye};function ci(t){t.stopPropagation(),t.preventDefault()}function di(t){t.key==="Enter"&&(t.shiftKey?Vn():Dr())}function ui(){return Vn()}function mi(){return Dr()}var hi=W(H(),1),pi=200;function Bn(t){let e=(0,hi.c)(3),[r,n]=(0,v.useState)(!1),a,s;return e[0]===t?(a=e[1],s=e[2]):(a=()=>{if(!t)return;n(!1);let i=setTimeout(()=>{n(!0)},pi);return()=>clearTimeout(i)},s=[t],e[0]=t,e[1]=a,e[2]=s),(0,v.useEffect)(a,s),t&&r}var fi=W(H(),1);const xi=()=>{let t=(0,fi.c)(6),e=Nt(xh),r;t[0]===e?r=t[1]:(r=()=>e(gi),t[0]=e,t[1]=r);let n=r,a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=et("global.commandPalette"),t[2]=a):a=t[2];let s;t[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)(_h,{strokeWidth:1.5,size:18}),t[3]=s):s=t[3];let i;return t[4]===n?i=t[5]:(i=(0,l.jsx)(te,{content:a,children:(0,l.jsx)(st,{"data-testid":"command-palette-button",onClick:n,shape:"rectangle",color:"hint-green",children:s})}),t[4]=n,t[5]=i),i};function gi(t){return!t}var Mr=W(H(),1);const vi=t=>{let e=(0,Mr.c)(47),{presenting:r,onTogglePresenting:n,onInterrupt:a,onRun:s,connectionState:i,running:o,appConfig:c}=t,d=c.width,u=Z(U0),m=Z(X0),{undoDeleteCell:h}=We(),p=i===at.CLOSED,f=null;if(!p&&u){let L;e[0]===Symbol.for("react.memo_cache_sentinel")?(L=(0,l.jsx)(jh,{size:16,strokeWidth:1.5}),e[0]=L):L=e[0];let A;e[1]===h?A=e[2]:(A=(0,l.jsx)(te,{content:"Undo cell deletion",children:(0,l.jsx)(st,{"data-testid":"undo-delete-cell",size:"medium",color:"hint-green",shape:"circle",onClick:h,children:L})}),e[1]=h,e[2]=A),f=A}let g;e[3]===i?g=e[4]:(g=qe(i),e[3]=i,e[4]=g);let x=g,b;e[5]!==i||e[6]!==x?(b=x?fr(i):void 0,e[5]=i,e[6]=x,e[7]=b):b=e[7];let y=b,j;e[8]===r?j=e[9]:(j=!r&&(0,l.jsx)(oi,{}),e[8]=r,e[9]=j);let w;e[10]!==p||e[11]!==y||e[12]!==x||e[13]!==r?(w=!p&&(0,l.jsxs)("div",{className:ji,children:[r&&(0,l.jsx)(yh,{}),(0,l.jsx)(ri,{disabled:x,tooltip:y}),(0,l.jsx)(Np,{disabled:x,tooltip:y}),(0,l.jsx)(_p,{description:"This will terminate the Python kernel. You'll lose all data that's in memory.",disabled:x,tooltip:y})]}),e[10]=p,e[11]=y,e[12]=x,e[13]=r,e[14]=w):w=e[14];let _=d==="compact"&&"xl:flex-row items-end",N;e[15]===_?N=e[16]:(N=V(wi,_),e[15]=_,e[16]=N);let C;e[17]===Symbol.for("react.memo_cache_sentinel")?(C=(0,l.jsx)(Fs,{children:(0,l.jsx)(Qh,{kioskMode:!1})}),e[17]=C):C=e[17];let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=et("global.hideCode"),e[18]=I):I=e[18];let R;e[19]===r?R=e[20]:(R=r?(0,l.jsx)(Op,{strokeWidth:1.5,size:18}):(0,l.jsx)(ph,{strokeWidth:1.5,size:18}),e[19]=r,e[20]=R);let k;e[21]!==n||e[22]!==R?(k=(0,l.jsx)(te,{content:I,children:(0,l.jsx)(st,{"data-testid":"hide-code-button",id:"preview-button",shape:"rectangle",color:"hint-green",onClick:n,children:R})}),e[21]=n,e[22]=R,e[23]=k):k=e[23];let S,z,E;e[24]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)(xi,{}),z=(0,l.jsx)(eh,{}),E=(0,l.jsx)("div",{}),e[24]=S,e[25]=z,e[26]=E):(S=e[24],z=e[25],E=e[26]);let O;e[27]!==p||e[28]!==a||e[29]!==o?(O=!p&&(0,l.jsx)(yi,{running:o,onInterrupt:a}),e[27]=p,e[28]=a,e[29]=o,e[30]=O):O=e[30];let P;e[31]!==p||e[32]!==m||e[33]!==s?(P=!p&&(0,l.jsx)(bi,{needsRun:m,onRun:s}),e[31]=p,e[32]=m,e[33]=s,e[34]=P):P=e[34];let D;e[35]!==O||e[36]!==P||e[37]!==f?(D=(0,l.jsx)(Fs,{children:(0,l.jsxs)("div",{className:"flex flex-col gap-2 items-center",children:[f,O,P]})}),e[35]=O,e[36]=P,e[37]=f,e[38]=D):D=e[38];let M;e[39]!==k||e[40]!==D||e[41]!==N?(M=(0,l.jsxs)("div",{className:N,children:[C,k,S,z,E,D]}),e[39]=k,e[40]=D,e[41]=N,e[42]=M):M=e[42];let T;return e[43]!==M||e[44]!==j||e[45]!==w?(T=(0,l.jsxs)(l.Fragment,{children:[j,w,M]}),e[43]=M,e[44]=j,e[45]=w,e[46]=T):T=e[46],T};var bi=t=>{let e=(0,Mr.c)(8),{needsRun:r,onRun:n}=t,a=Z(ss);if(r){let c;e[0]===Symbol.for("react.memo_cache_sentinel")?(c=et("global.runStale"),e[0]=c):c=e[0];let d=a?n:void 0,u=!a,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(Gt,{strokeWidth:1.5,size:16}),e[1]=m):m=e[1];let h;return e[2]!==d||e[3]!==u?(h=(0,l.jsx)(te,{content:c,children:(0,l.jsx)(st,{"data-testid":"run-button",size:"medium",color:"yellow",shape:"circle",onClick:d,disabled:u,children:m})}),e[2]=d,e[3]=u,e[4]=h):h=e[4],h}let s=!a,i;e[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(Gt,{strokeWidth:1.5,size:16}),e[5]=i):i=e[5];let o;return e[6]===s?o=e[7]:(o=(0,l.jsx)(te,{content:"Nothing to run",children:(0,l.jsx)(st,{"data-testid":"run-button",className:"inactive-button",color:"disabled",size:"medium",shape:"circle",disabled:s,children:i})}),e[6]=s,e[7]=o),o},yi=t=>{let e=(0,Mr.c)(8),{running:r,onInterrupt:n}=t,a=Bn(r),s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=et("global.interrupt"),e[0]=s):s=e[0];let i=!a&&"inactive-button active:shadow-xs-solid",o;e[1]===i?o=e[2]:(o=V(i),e[1]=i,e[2]=o);let c=a?"yellow":"disabled",d=a?n:St.NOOP,u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(ds,{strokeWidth:1.5,size:16}),e[3]=u):u=e[3];let m;return e[4]!==o||e[5]!==c||e[6]!==d?(m=(0,l.jsx)(te,{content:s,children:(0,l.jsx)(st,{className:o,"data-testid":"interrupt-button",size:"medium",color:c,shape:"circle",onClick:d,children:u})}),e[4]=o,e[5]=c,e[6]=d,e[7]=m):m=e[7],m},ji="absolute top-3 right-5 m-0 flex items-center gap-2 min-h-[28px] no-print pointer-events-auto z-30 print:hidden",wi="absolute bottom-5 right-5 flex flex-col gap-2 items-center no-print pointer-events-auto z-30 print:hidden",_i=W(H(),1);const Ni=t=>{let e=(0,_i.c)(7),{filename:r}=t,n=bf(),a;e[0]===r?a=e[1]:(a=r?Ha.basename(r):"untitled marimo notebook",e[0]=r,e[1]=a);let s=r===null?"missing-filename":"filename",i;return e[2]!==r||e[3]!==n||e[4]!==a||e[5]!==s?(i=(0,l.jsx)(ip,{placeholderText:a,initialValue:r,onNameChange:n,flexibleWidth:!0,resetOnBlur:!0,"data-testid":"filename-input",className:s}),e[2]=r,e[3]=n,e[4]=a,e[5]=s,e[6]=i):i=e[6],i};var gt=W(H(),1),Ci=t=>{let e=(0,gt.c)(14),{actions:r,cellIds:n,disabled:a}=t,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)(In,{size:13,strokeWidth:1.5}),e[0]=s):s=e[0];let i;e[1]===a?i=e[2]:(i=(0,l.jsx)(ht,{asChild:!0,children:(0,l.jsx)(oe,{variant:"ghost",size:"sm",className:"h-8 px-2 gap-1",title:"More actions",disabled:a,children:s})}),e[1]=a,e[2]=i);let o;if(e[3]!==r||e[4]!==n){let u;e[6]!==r.length||e[7]!==n?(u=(m,h)=>{let p=m.map(f=>(0,l.jsx)(Cr,{onSelect:()=>f.handle(n),className:"flex items-center gap-2",children:(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[f.icon&&(0,l.jsx)("div",{className:"mr-2 w-5 text-muted-foreground",children:f.icon}),(0,l.jsx)("div",{className:"flex-1",children:f.label}),f.hotkey&&(0,l.jsx)(Pn,{shortcut:f.hotkey,className:"ml-4"})]})},f.label));return(0,l.jsxs)(v.Fragment,{children:[p,h<r.length-1&&(0,l.jsx)(mt,{})]},h)},e[6]=r.length,e[7]=n,e[8]=u):u=e[8],o=r.flatMap(u),e[3]=r,e[4]=n,e[5]=o}else o=e[5];let c;e[9]===o?c=e[10]:(c=(0,l.jsx)(pt,{align:"start","data-keep-cell-selection":!0,children:o}),e[9]=o,e[10]=c);let d;return e[11]!==i||e[12]!==c?(d=(0,l.jsxs)(ft,{children:[i,c]}),e[11]=i,e[12]=c,e[13]=d):d=e[13],d};function ki(t){let e=(0,gt.c)(31),{updateCellConfig:r,moveCell:n,clearCellOutput:a,sendToTop:s,sendToBottom:i}=We(),o=Ts(),c=Z(M0),d=Rn(),u=Os(),m=En(),h=Z(y1),{saveCellConfig:p}=Ze(),f=t.length,g=!c||f<t.length,x;e[0]!==o||e[1]!==m||e[2]!==d||e[3]!==h?(x=D=>{if(m.idle&&h.keymap.destructive_delete){m.submit(D);return}o({cellIds:D}),m.clear(),d.clear()},e[0]=o,e[1]=m,e[2]=d,e[3]=h,e[4]=x):x=e[4];let b=je(x),y;e[5]===n?y=e[6]:(y=(D,M)=>{if(M==="down"){let T=D[D.length-1];if(dt.get(un).cellIds.findWithId(T).last()===T)return}if(M==="up"){let T=D[0];if(dt.get(un).cellIds.findWithId(T).first()===T)return}(M==="up"?D:[...D].reverse()).forEach(T=>{n({cellId:T,before:M==="up"})})},e[5]=n,e[6]=y);let j=je(y),w;e[7]===s?w=e[8]:(w=D=>{[...D].reverse().forEach(M=>{s({cellId:M})})},e[7]=s,e[8]=w);let _=je(w),N;e[9]===i?N=e[10]:(N=D=>{D.forEach(M=>{i({cellId:M})})},e[9]=i,e[10]=N);let C=je(N),I=je(Mi),R;e[11]===a?R=e[12]:(R=D=>{D.forEach(M=>{a({cellId:M})})},e[11]=a,e[12]=R);let k=je(R),S;e[13]!==p||e[14]!==r?(S=async(D,M,T)=>{let L={};D.forEach(A=>{L[A]={[M]:T}}),await p({configs:L}),D.forEach(A=>{r({cellId:A,config:L[A]})})},e[13]=p,e[14]=r,e[15]=S):S=e[15];let z=je(S),E;e[16]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)(Gt,{size:13,strokeWidth:1.5}),e[16]=E):E=e[16];let O;e[17]===u?O=e[18]:(O=D=>u(D),e[17]=u,e[18]=O);let P;if(e[19]!==g||e[20]!==k||e[21]!==b||e[22]!==I||e[23]!==j||e[24]!==C||e[25]!==_||e[26]!==O||e[27]!==z){let D=[[{icon:E,label:"Run cells",handle:O,hotkey:"cell.run"}],[{icon:(0,l.jsx)(Cn,{size:13,strokeWidth:1.5}),label:"Move up",handle:A=>j(A,"up"),hotkey:"cell.moveUp"},{icon:(0,l.jsx)(ut,{size:13,strokeWidth:1.5}),label:"Move down",handle:A=>j(A,"down"),hotkey:"cell.moveDown"}],[{icon:(0,l.jsx)(Ss,{size:13,strokeWidth:1.5}),label:"Delete cells",variant:"danger",hidden:!g,handle:b}]],M=[[{icon:(0,l.jsx)(Gh,{size:13,strokeWidth:1.5}),label:"Format cells",handle:I,hotkey:"cell.format"},{icon:(0,l.jsx)(Nh,{size:13,strokeWidth:1.5}),label:"Clear outputs",handle:k}],[{icon:(0,l.jsx)(Xh,{size:13,strokeWidth:1.5}),label:"Hide code",handle:A=>z(A,"hide_code",!0),hotkey:"cell.hideCode"},{icon:(0,l.jsx)(P0,{size:13,strokeWidth:1.5}),label:"Show code",handle:A=>z(A,"hide_code",!1),hotkey:"cell.hideCode"}],[{icon:(0,l.jsx)(Cn,{size:13,strokeWidth:1.5}),label:"Move up",handle:A=>j(A,"up"),hotkey:"cell.moveUp"},{icon:(0,l.jsx)(ut,{size:13,strokeWidth:1.5}),label:"Move down",handle:A=>j(A,"down"),hotkey:"cell.moveDown"},{icon:(0,l.jsx)(mh,{size:13,strokeWidth:1.5}),label:"Send to top",handle:_,hotkey:"cell.sendToTop"},{icon:(0,l.jsx)(dh,{size:13,strokeWidth:1.5}),label:"Send to bottom",handle:C,hotkey:"cell.sendToBottom"}],[{icon:(0,l.jsx)(Ue,{size:13,strokeWidth:1.5}),label:"Disable cells",handle:A=>z(A,"disabled",!0)},{icon:(0,l.jsx)(Ke,{size:13,strokeWidth:1.5}),label:"Enable cells",handle:A=>z(A,"disabled",!1)}]],T=D.map(zi),L;e[29]===T?L=e[30]:(L=T.filter(Ei),e[29]=T,e[30]=L),P={actions:L,moreActions:M.map(Ii).filter(Si)},e[19]=g,e[20]=k,e[21]=b,e[22]=I,e[23]=j,e[24]=C,e[25]=_,e[26]=O,e[27]=z,e[28]=P}else P=e[28];return P}function Si(t){return t.length>0}function Ii(t){return t.filter(Ri)}function Ri(t){return!t.hidden}function Ei(t){return t.length>0}function zi(t){return t.filter(Di)}function Di(t){return!t.hidden}function Mi(t){let e={};t.forEach(r=>{let n=Ga(r);n&&(e[r]=n)}),K0(e)}const Oi=()=>{let t=(0,gt.c)(4),e=lp(),r;t[0]===e.selected?r=t[1]:(r=[...e.selected],t[0]=e.selected,t[1]=r);let n=r;if(n.length<2)return null;let a;return t[2]===n?a=t[3]:(a=(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Ai,{cellIds:n}),(0,l.jsx)(Ti,{cellIds:n})]}),t[2]=n,t[3]=a),a};var Or=()=>{let t=(0,gt.c)(1),e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"h-4 w-px bg-border mx-1"}),t[0]=e):e=t[0],e},Ti=t=>{let e=(0,gt.c)(12),{cellIds:r}=t,n=En(),a=Ts(),s=Rn();if(!n.shouldConfirmDelete)return null;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(On,{className:"w-4 h-4 text-(--amber-11) mt-0.5 shrink-0"}),e[0]=i):i=e[0];let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsxs)("div",{className:"font-code text-sm text-[0.84375rem]",children:[(0,l.jsx)("p",{className:"text-(--amber-11) font-medium",children:"Some cells in selection may contain expensive operations."}),(0,l.jsx)("p",{className:"text-(--amber-11) mt-1",children:"Are you sure you want to delete?"})]}),e[1]=o):o=e[1];let c;e[2]===n?c=e[3]:(c=(0,l.jsx)(oe,{size:"xs",variant:"ghost",onClick:()=>n.clear(),className:"text-(--amber-11) hover:bg-(--amber-4) hover:text-(--amber-11)",children:"Cancel"}),e[2]=n,e[3]=c);let d;e[4]!==r||e[5]!==a||e[6]!==n||e[7]!==s?(d=(0,l.jsx)(oe,{size:"xs",variant:"secondary",onClick:()=>{a({cellIds:r}),n.clear(),s.clear()},className:"bg-(--amber-11) hover:bg-(--amber-12) text-white border-(--amber-11)",children:"Delete"}),e[4]=r,e[5]=a,e[6]=n,e[7]=s,e[8]=d):d=e[8];let u;return e[9]!==c||e[10]!==d?(u=(0,l.jsx)("div",{className:"absolute top-12 justify-center flex w-full left-0 right-0 z-50","data-keep-cell-selection":!0,children:(0,l.jsx)("div",{className:"mx-20",children:(0,l.jsx)("div",{className:"bg-(--amber-2) border border-(--amber-6) rounded-lg shadow-lg mt-14 px-4 py-3 animate-in slide-in-from-top-2 duration-200",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[i,(0,l.jsxs)("div",{className:"flex-1",children:[o,(0,l.jsx)(Mn,{restoreFocus:!0,autoFocus:!0,children:(0,l.jsxs)("div",{className:"flex items-center gap-2 mt-3",onKeyDown:Pi,children:[c,d]})})]})]})})})}),e[9]=c,e[10]=d,e[11]=u):u=e[11],u},Ai=t=>{let e=(0,gt.c)(23),{cellIds:r}=t,n=Rn(),a=En(),{actions:s,moreActions:i}=ki(r),o=r.length,c;e[0]!==a||e[1]!==n?(c=x=>{(x.target instanceof HTMLElement||x.target instanceof SVGElement)&&x.target.closest("[data-keep-cell-selection]")!==null||x.target instanceof HTMLHtmlElement||(a.clear(),n.clear())},e[0]=a,e[1]=n,e[2]=c):c=e[2],k1(window,"mousedown",c);let d=!a.idle,u;e[3]===o?u=e[4]:(u=(0,l.jsxs)("span",{className:"text-sm font-medium text-muted-foreground px-2 shrink-0",children:[o," cells selected"]}),e[3]=o,e[4]=u);let m;e[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(Or,{}),e[5]=m):m=e[5];let h;if(e[6]!==s||e[7]!==r||e[8]!==d){let x;e[10]!==s.length||e[11]!==r||e[12]!==d?(x=(b,y)=>(0,l.jsxs)("div",{className:"flex items-center gap-2 shrink-0",children:[b.map(j=>(0,l.jsxs)(oe,{variant:j.variant==="danger"?"linkDestructive":"ghost",size:"sm",onClick:()=>j.handle(r),className:"h-8 px-2 gap-1 shrink-0 flex items-center",title:j.label,disabled:d&&j.label!=="Delete cells",children:[j.icon,(0,l.jsx)("span",{className:"text-xs",children:j.label}),j.hotkey&&(0,l.jsx)("div",{className:"ml-1 border bg-muted rounded-md px-1",children:(0,l.jsx)(Pn,{shortcut:j.hotkey})})]},j.label)),y<s.length-1&&(0,l.jsx)(Or,{})]},y),e[10]=s.length,e[11]=r,e[12]=d,e[13]=x):x=e[13],h=s.map(x),e[6]=s,e[7]=r,e[8]=d,e[9]=h}else h=e[9];let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(Or,{}),e[14]=p):p=e[14];let f;e[15]!==r||e[16]!==d||e[17]!==i?(f=(0,l.jsx)(Ci,{actions:i,cellIds:r,disabled:d}),e[15]=r,e[16]=d,e[17]=i,e[18]=f):f=e[18];let g;return e[19]!==u||e[20]!==h||e[21]!==f?(g=(0,l.jsx)("div",{className:"absolute top-12 justify-center flex w-full left-0 right-0 z-50","data-keep-cell-selection":!0,children:(0,l.jsx)("div",{className:"bg-background/95 backdrop-blur-sm supports-backdrop-filter:bg-background/60 border border-(--slate-7) rounded-lg shadow-lg p-2 overflow-x-auto overflow-y-hidden mx-20 scrollbar-thin",children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[u,m,h,p,f]})})}),e[19]=u,e[20]=h,e[21]=f,e[22]=g):g=e[22],g};function Pi(t){t.stopPropagation()}var Dt=W(Q0()),Li={display:"none"};function Fi(t){let{id:e,value:r}=t;return v.createElement("div",{id:e,style:Li},r)}function Wi(t){let{id:e,announcement:r,ariaLiveType:n="assertive"}=t;return v.createElement("div",{id:e,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":n,"aria-atomic":!0},r)}function Vi(){let[t,e]=(0,v.useState)("");return{announce:(0,v.useCallback)(r=>{r!=null&&e(r)},[]),announcement:t}}var Hn=(0,v.createContext)(null);function Bi(t){let e=(0,v.useContext)(Hn);(0,v.useEffect)(()=>{if(!e)throw Error("useDndMonitor must be used within a children of <DndContext>");return e(t)},[t,e])}function Hi(){let[t]=(0,v.useState)(()=>new Set),e=(0,v.useCallback)(r=>(t.add(r),()=>t.delete(r)),[t]);return[(0,v.useCallback)(r=>{let{type:n,event:a}=r;t.forEach(s=>{var i;return(i=s[n])==null?void 0:i.call(s,a)})},[t]),e]}var qi={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},$i={onDragStart(t){let{active:e}=t;return"Picked up draggable item "+e.id+"."},onDragOver(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was moved over droppable area "+r.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(t){let{active:e,over:r}=t;return r?"Draggable item "+e.id+" was dropped over droppable area "+r.id:"Draggable item "+e.id+" was dropped."},onDragCancel(t){let{active:e}=t;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function Ui(t){let{announcements:e=$i,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=qi}=t,{announce:s,announcement:i}=Vi(),o=Vt("DndLiveRegion"),[c,d]=(0,v.useState)(!1);if((0,v.useEffect)(()=>{d(!0)},[]),Bi((0,v.useMemo)(()=>({onDragStart(m){let{active:h}=m;s(e.onDragStart({active:h}))},onDragMove(m){let{active:h,over:p}=m;e.onDragMove&&s(e.onDragMove({active:h,over:p}))},onDragOver(m){let{active:h,over:p}=m;s(e.onDragOver({active:h,over:p}))},onDragEnd(m){let{active:h,over:p}=m;s(e.onDragEnd({active:h,over:p}))},onDragCancel(m){let{active:h,over:p}=m;s(e.onDragCancel({active:h,over:p}))}}),[s,e])),!c)return null;let u=v.createElement(v.Fragment,null,v.createElement(Fi,{id:n,value:a.draggable}),v.createElement(Wi,{id:o,announcement:i}));return r?(0,Dt.createPortal)(u,r):u}var we;(function(t){t.DragStart="dragStart",t.DragMove="dragMove",t.DragEnd="dragEnd",t.DragCancel="dragCancel",t.DragOver="dragOver",t.RegisterDroppable="registerDroppable",t.SetDroppableDisabled="setDroppableDisabled",t.UnregisterDroppable="unregisterDroppable"})(we||(we={}));function Qt(){}function qn(t,e){return(0,v.useMemo)(()=>({sensor:t,options:e??{}}),[t,e])}function Ki(){var t=[...arguments];return(0,v.useMemo)(()=>[...t].filter(e=>e!=null),[...t])}var Le=Object.freeze({x:0,y:0});function Tr(t,e){return Math.sqrt((t.x-e.x)**2+(t.y-e.y)**2)}function Ar(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return r-n}function Gi(t,e){let{data:{value:r}}=t,{data:{value:n}}=e;return n-r}function Pr(t){let{left:e,top:r,height:n,width:a}=t;return[{x:e,y:r},{x:e+a,y:r},{x:e,y:r+n},{x:e+a,y:r+n}]}function Lr(t,e){if(!t||t.length===0)return null;let[r]=t;return e?r[e]:r}function $n(t,e,r){return e===void 0&&(e=t.left),r===void 0&&(r=t.top),{x:e+t.width*.5,y:r+t.height*.5}}var Fr=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t,a=$n(e,e.left,e.top),s=[];for(let i of n){let{id:o}=i,c=r.get(o);if(c){let d=Tr($n(c),a);s.push({id:o,data:{droppableContainer:i,value:d}})}}return s.sort(Ar)},Xi=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t,a=Pr(e),s=[];for(let i of n){let{id:o}=i,c=r.get(o);if(c){let d=Pr(c),u=a.reduce((h,p,f)=>h+Tr(d[f],p),0),m=Number((u/4).toFixed(4));s.push({id:o,data:{droppableContainer:i,value:m}})}}return s.sort(Ar)};function Yi(t,e){let r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),a=Math.min(e.left+e.width,t.left+t.width),s=Math.min(e.top+e.height,t.top+t.height),i=a-n,o=s-r;if(n<a&&r<s){let c=e.width*e.height,d=t.width*t.height,u=i*o,m=u/(c+d-u);return Number(m.toFixed(4))}return 0}var Un=t=>{let{collisionRect:e,droppableRects:r,droppableContainers:n}=t,a=[];for(let s of n){let{id:i}=s,o=r.get(i);if(o){let c=Yi(o,e);c>0&&a.push({id:i,data:{droppableContainer:s,value:c}})}}return a.sort(Gi)};function Ji(t,e){let{top:r,left:n,bottom:a,right:s}=e;return r<=t.y&&t.y<=a&&n<=t.x&&t.x<=s}var Qi=t=>{let{droppableContainers:e,droppableRects:r,pointerCoordinates:n}=t;if(!n)return[];let a=[];for(let s of e){let{id:i}=s,o=r.get(i);if(o&&Ji(n,o)){let c=Pr(o).reduce((u,m)=>u+Tr(n,m),0),d=Number((c/4).toFixed(4));a.push({id:i,data:{droppableContainer:s,value:d}})}}return a.sort(Ar)};function Zi(t,e,r){return{...t,scaleX:e&&r?e.width/r.width:1,scaleY:e&&r?e.height/r.height:1}}function Kn(t,e){return t&&e?{x:t.left-e.left,y:t.top-e.top}:Le}function eo(t){return function(e){return[...arguments].slice(1).reduce((r,n)=>({...r,top:r.top+t*n.y,bottom:r.bottom+t*n.y,left:r.left+t*n.x,right:r.right+t*n.x}),{...e})}}var to=eo(1);function ro(t){if(t.startsWith("matrix3d(")){let e=t.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(t.startsWith("matrix(")){let e=t.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function no(t,e,r){let n=ro(e);if(!n)return t;let{scaleX:a,scaleY:s,x:i,y:o}=n,c=t.left-i-(1-a)*parseFloat(r),d=t.top-o-(1-s)*parseFloat(r.slice(r.indexOf(" ")+1)),u=a?t.width/a:t.width,m=s?t.height/s:t.height;return{width:u,height:m,top:d,right:c+u,bottom:d+m,left:c}}var lo={ignoreTransform:!1};function vt(t,e){e===void 0&&(e=lo);let r=t.getBoundingClientRect();if(e.ignoreTransform){let{transform:d,transformOrigin:u}=Qe(t).getComputedStyle(t);d&&(r=no(r,d,u))}let{top:n,left:a,width:s,height:i,bottom:o,right:c}=r;return{top:n,left:a,width:s,height:i,bottom:o,right:c}}function Gn(t){return vt(t,{ignoreTransform:!0})}function ao(t){let e=t.innerWidth,r=t.innerHeight;return{top:0,left:0,right:e,bottom:r,width:e,height:r}}function so(t,e){return e===void 0&&(e=Qe(t).getComputedStyle(t)),e.position==="fixed"}function io(t,e){e===void 0&&(e=Qe(t).getComputedStyle(t));let r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(n=>{let a=e[n];return typeof a=="string"?r.test(a):!1})}function Zt(t,e){let r=[];function n(a){if(e!=null&&r.length>=e||!a)return r;if(es(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!yr(a)||s1(a)||r.includes(a))return r;let s=Qe(t).getComputedStyle(a);return a!==t&&io(a,s)&&r.push(a),so(a,s)?r:n(a.parentNode)}return t?n(t):r}function Xn(t){let[e]=Zt(t,1);return e??null}function Wr(t){return!pn||!t?null:hn(t)?t:a1(t)?es(t)||t===kt(t).scrollingElement?window:yr(t)?t:null:null}function Yn(t){return hn(t)?t.scrollX:t.scrollLeft}function Jn(t){return hn(t)?t.scrollY:t.scrollTop}function Vr(t){return{x:Yn(t),y:Jn(t)}}var Ce;(function(t){t[t.Forward=1]="Forward",t[t.Backward=-1]="Backward"})(Ce||(Ce={}));function Qn(t){return!pn||!t?!1:t===document.scrollingElement}function Zn(t){let e={x:0,y:0},r=Qn(t)?{height:window.innerHeight,width:window.innerWidth}:{height:t.clientHeight,width:t.clientWidth},n={x:t.scrollWidth-r.width,y:t.scrollHeight-r.height};return{isTop:t.scrollTop<=e.y,isLeft:t.scrollLeft<=e.x,isBottom:t.scrollTop>=n.y,isRight:t.scrollLeft>=n.x,maxScroll:n,minScroll:e}}var oo={x:.2,y:.2};function co(t,e,r,n,a){let{top:s,left:i,right:o,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=oo);let{isTop:d,isBottom:u,isLeft:m,isRight:h}=Zn(t),p={x:0,y:0},f={x:0,y:0},g={height:e.height*a.y,width:e.width*a.x};return!d&&s<=e.top+g.height?(p.y=Ce.Backward,f.y=n*Math.abs((e.top+g.height-s)/g.height)):!u&&c>=e.bottom-g.height&&(p.y=Ce.Forward,f.y=n*Math.abs((e.bottom-g.height-c)/g.height)),!h&&o>=e.right-g.width?(p.x=Ce.Forward,f.x=n*Math.abs((e.right-g.width-o)/g.width)):!m&&i<=e.left+g.width&&(p.x=Ce.Backward,f.x=n*Math.abs((e.left+g.width-i)/g.width)),{direction:p,speed:f}}function uo(t){if(t===document.scrollingElement){let{innerWidth:s,innerHeight:i}=window;return{top:0,left:0,right:s,bottom:i,width:s,height:i}}let{top:e,left:r,right:n,bottom:a}=t.getBoundingClientRect();return{top:e,left:r,right:n,bottom:a,width:t.clientWidth,height:t.clientHeight}}function el(t){return t.reduce((e,r)=>Ct(e,Vr(r)),Le)}function mo(t){return t.reduce((e,r)=>e+Yn(r),0)}function ho(t){return t.reduce((e,r)=>e+Jn(r),0)}function po(t,e){if(e===void 0&&(e=vt),!t)return;let{top:r,left:n,bottom:a,right:s}=e(t);Xn(t)&&(a<=0||s<=0||r>=window.innerHeight||n>=window.innerWidth)&&t.scrollIntoView({block:"center",inline:"center"})}var fo=[["x",["left","right"],mo],["y",["top","bottom"],ho]],Br=class{constructor(t,e){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;let r=Zt(e),n=el(r);this.rect={...t},this.width=t.width,this.height=t.height;for(let[a,s,i]of fo)for(let o of s)Object.defineProperty(this,o,{get:()=>{let c=i(r),d=n[a]-c;return this.rect[o]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}},Mt=class{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...e)})},this.target=t}add(t,e,r){var n;(n=this.target)==null||n.addEventListener(t,e,r),this.listeners.push([t,e,r])}};function xo(t){let{EventTarget:e}=Qe(t);return t instanceof e?t:kt(t)}function Hr(t,e){let r=Math.abs(t.x),n=Math.abs(t.y);return typeof e=="number"?Math.sqrt(r**2+n**2)>e:"x"in e&&"y"in e?r>e.x&&n>e.y:"x"in e?r>e.x:"y"in e?n>e.y:!1}var Fe;(function(t){t.Click="click",t.DragStart="dragstart",t.Keydown="keydown",t.ContextMenu="contextmenu",t.Resize="resize",t.SelectionChange="selectionchange",t.VisibilityChange="visibilitychange"})(Fe||(Fe={}));function tl(t){t.preventDefault()}function go(t){t.stopPropagation()}var ne;(function(t){t.Space="Space",t.Down="ArrowDown",t.Right="ArrowRight",t.Left="ArrowLeft",t.Up="ArrowUp",t.Esc="Escape",t.Enter="Enter",t.Tab="Tab"})(ne||(ne={}));var rl={start:[ne.Space,ne.Enter],cancel:[ne.Esc],end:[ne.Space,ne.Enter,ne.Tab]},vo=(t,e)=>{let{currentCoordinates:r}=e;switch(t.code){case ne.Right:return{...r,x:r.x+25};case ne.Left:return{...r,x:r.x-25};case ne.Down:return{...r,y:r.y+25};case ne.Up:return{...r,y:r.y-25}}},qr=class{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;let{event:{target:e}}=t;this.props=t,this.listeners=new Mt(kt(e)),this.windowListeners=new Mt(Qe(e)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Fe.Resize,this.handleCancel),this.windowListeners.add(Fe.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Fe.Keydown,this.handleKeyDown))}handleStart(){let{activeNode:t,onStart:e}=this.props,r=t.node.current;r&&po(r),e(Le)}handleKeyDown(t){if(fn(t)){let{active:e,context:r,options:n}=this.props,{keyboardCodes:a=rl,coordinateGetter:s=vo,scrollBehavior:i="smooth"}=n,{code:o}=t;if(a.end.includes(o)){this.handleEnd(t);return}if(a.cancel.includes(o)){this.handleCancel(t);return}let{collisionRect:c}=r.current,d=c?{x:c.left,y:c.top}:Le;this.referenceCoordinates||(this.referenceCoordinates=d);let u=s(t,{active:e,context:r.current,currentCoordinates:d});if(u){let m=Ht(u,d),h={x:0,y:0},{scrollableAncestors:p}=r.current;for(let f of p){let g=t.code,{isTop:x,isRight:b,isLeft:y,isBottom:j,maxScroll:w,minScroll:_}=Zn(f),N=uo(f),C={x:Math.min(g===ne.Right?N.right-N.width/2:N.right,Math.max(g===ne.Right?N.left:N.left+N.width/2,u.x)),y:Math.min(g===ne.Down?N.bottom-N.height/2:N.bottom,Math.max(g===ne.Down?N.top:N.top+N.height/2,u.y))},I=g===ne.Right&&!b||g===ne.Left&&!y,R=g===ne.Down&&!j||g===ne.Up&&!x;if(I&&C.x!==u.x){let k=f.scrollLeft+m.x,S=g===ne.Right&&k<=w.x||g===ne.Left&&k>=_.x;if(S&&!m.y){f.scrollTo({left:k,behavior:i});return}S?h.x=f.scrollLeft-k:h.x=g===ne.Right?f.scrollLeft-w.x:f.scrollLeft-_.x,h.x&&f.scrollBy({left:-h.x,behavior:i});break}else if(R&&C.y!==u.y){let k=f.scrollTop+m.y,S=g===ne.Down&&k<=w.y||g===ne.Up&&k>=_.y;if(S&&!m.x){f.scrollTo({top:k,behavior:i});return}S?h.y=f.scrollTop-k:h.y=g===ne.Down?f.scrollTop-w.y:f.scrollTop-_.y,h.y&&f.scrollBy({top:-h.y,behavior:i});break}}this.handleMove(t,Ct(Ht(u,this.referenceCoordinates),h))}}}handleMove(t,e){let{onMove:r}=this.props;t.preventDefault(),r(e)}handleEnd(t){let{onEnd:e}=this.props;t.preventDefault(),this.detach(),e()}handleCancel(t){let{onCancel:e}=this.props;t.preventDefault(),this.detach(),e()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}};qr.activators=[{eventName:"onKeyDown",handler:(t,e,r)=>{let{keyboardCodes:n=rl,onActivation:a}=e,{active:s}=r,{code:i}=t.nativeEvent;if(n.start.includes(i)){let o=s.activatorNode.current;return o&&t.target!==o?!1:(t.preventDefault(),a==null||a({event:t.nativeEvent}),!0)}return!1}}];function nl(t){return!!(t&&"distance"in t)}function ll(t){return!!(t&&"delay"in t)}var $r=class{constructor(t,e,r){r===void 0&&(r=xo(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=e;let{event:n}=t,{target:a}=n;this.props=t,this.events=e,this.document=kt(a),this.documentListeners=new Mt(this.document),this.listeners=new Mt(r),this.windowListeners=new Mt(Qe(a)),this.initialCoordinates=mn(n)??Le,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){let{events:t,props:{options:{activationConstraint:e,bypassActivationConstraint:r}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Fe.Resize,this.handleCancel),this.windowListeners.add(Fe.DragStart,tl),this.windowListeners.add(Fe.VisibilityChange,this.handleCancel),this.windowListeners.add(Fe.ContextMenu,tl),this.documentListeners.add(Fe.Keydown,this.handleKeydown),e){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(ll(e)){this.timeoutId=setTimeout(this.handleStart,e.delay),this.handlePending(e);return}if(nl(e)){this.handlePending(e);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,e){let{active:r,onPending:n}=this.props;n(r,t,this.initialCoordinates,e)}handleStart(){let{initialCoordinates:t}=this,{onStart:e}=this.props;t&&(this.activated=!0,this.documentListeners.add(Fe.Click,go,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Fe.SelectionChange,this.removeTextSelection),e(t))}handleMove(t){let{activated:e,initialCoordinates:r,props:n}=this,{onMove:a,options:{activationConstraint:s}}=n;if(!r)return;let i=mn(t)??Le,o=Ht(r,i);if(!e&&s){if(nl(s)){if(s.tolerance!=null&&Hr(o,s.tolerance))return this.handleCancel();if(Hr(o,s.distance))return this.handleStart()}if(ll(s)&&Hr(o,s.tolerance))return this.handleCancel();this.handlePending(s,o);return}t.cancelable&&t.preventDefault(),a(i)}handleEnd(){let{onAbort:t,onEnd:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleCancel(){let{onAbort:t,onCancel:e}=this.props;this.detach(),this.activated||t(this.props.active),e()}handleKeydown(t){t.code===ne.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}},bo={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}},Ur=class extends $r{constructor(t){let{event:e}=t,r=kt(e.target);super(t,bo,r)}};Ur.activators=[{eventName:"onPointerDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];var yo={move:{name:"mousemove"},end:{name:"mouseup"}},al;(function(t){t[t.RightClick=2]="RightClick"})(al||(al={}));var jo=class extends $r{constructor(t){super(t,yo,kt(t.event.target))}};jo.activators=[{eventName:"onMouseDown",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e;return r.button===al.RightClick?!1:(n==null||n({event:r}),!0)}}];var Kr={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}},wo=class extends $r{constructor(t){super(t,Kr)}static setup(){return window.addEventListener(Kr.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Kr.move.name,t)};function t(){}}};wo.activators=[{eventName:"onTouchStart",handler:(t,e)=>{let{nativeEvent:r}=t,{onActivation:n}=e,{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var er;(function(t){t[t.Pointer=0]="Pointer",t[t.DraggableRect=1]="DraggableRect"})(er||(er={}));var Gr;(function(t){t[t.TreeOrder=0]="TreeOrder",t[t.ReversedTreeOrder=1]="ReversedTreeOrder"})(Gr||(Gr={}));function _o(t){let{acceleration:e,activator:r=er.Pointer,canScroll:n,draggingRect:a,enabled:s,interval:i=5,order:o=Gr.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:m,threshold:h}=t,p=Co({delta:m,disabled:!s}),[f,g]=l1(),x=(0,v.useRef)({x:0,y:0}),b=(0,v.useRef)({x:0,y:0}),y=(0,v.useMemo)(()=>{switch(r){case er.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case er.DraggableRect:return a}},[r,a,c]),j=(0,v.useRef)(null),w=(0,v.useCallback)(()=>{let N=j.current;if(!N)return;let C=x.current.x*b.current.x,I=x.current.y*b.current.y;N.scrollBy(C,I)},[]),_=(0,v.useMemo)(()=>o===Gr.TreeOrder?[...d].reverse():d,[o,d]);(0,v.useEffect)(()=>{if(!s||!d.length||!y){g();return}for(let N of _){if((n==null?void 0:n(N))===!1)continue;let C=u[d.indexOf(N)];if(!C)continue;let{direction:I,speed:R}=co(N,C,y,e,h);for(let k of["x","y"])p[k][I[k]]||(R[k]=0,I[k]=0);if(R.x>0||R.y>0){g(),j.current=N,f(w,i),x.current=R,b.current=I;return}}x.current={x:0,y:0},b.current={x:0,y:0},g()},[e,w,n,g,s,i,JSON.stringify(y),JSON.stringify(p),f,d,_,u,JSON.stringify(h)])}var No={x:{[Ce.Backward]:!1,[Ce.Forward]:!1},y:{[Ce.Backward]:!1,[Ce.Forward]:!1}};function Co(t){let{delta:e,disabled:r}=t,n=br(e);return Bt(a=>{if(r||!n||!a)return No;let s={x:Math.sign(e.x-n.x),y:Math.sign(e.y-n.y)};return{x:{[Ce.Backward]:a.x[Ce.Backward]||s.x===-1,[Ce.Forward]:a.x[Ce.Forward]||s.x===1},y:{[Ce.Backward]:a.y[Ce.Backward]||s.y===-1,[Ce.Forward]:a.y[Ce.Forward]||s.y===1}}},[r,e,n])}function ko(t,e){let r=e==null?void 0:t.get(e),n=r?r.node.current:null;return Bt(a=>e==null?null:n??a??null,[n,e])}function So(t,e){return(0,v.useMemo)(()=>t.reduce((r,n)=>{let{sensor:a}=n,s=a.activators.map(i=>({eventName:i.eventName,handler:e(i.handler,n)}));return[...r,...s]},[]),[t,e])}var tr;(function(t){t[t.Always=0]="Always",t[t.BeforeDragging=1]="BeforeDragging",t[t.WhileDragging=2]="WhileDragging"})(tr||(tr={}));var sl;(function(t){t.Optimized="optimized"})(sl||(sl={}));var il=new Map;function Io(t,e){let{dragging:r,dependencies:n,config:a}=e,[s,i]=(0,v.useState)(null),{frequency:o,measure:c,strategy:d}=a,u=(0,v.useRef)(t),m=x(),h=qt(m),p=(0,v.useCallback)(function(b){b===void 0&&(b=[]),!h.current&&i(y=>y===null?b:y.concat(b.filter(j=>!y.includes(j))))},[h]),f=(0,v.useRef)(null),g=Bt(b=>{if(m&&!r)return il;if(!b||b===il||u.current!==t||s!=null){let y=new Map;for(let j of t){if(!j)continue;if(s&&s.length>0&&!s.includes(j.id)&&j.rect.current){y.set(j.id,j.rect.current);continue}let w=j.node.current,_=w?new Br(c(w),w):null;j.rect.current=_,_&&y.set(j.id,_)}return y}return b},[t,s,r,m,c]);return(0,v.useEffect)(()=>{u.current=t},[t]),(0,v.useEffect)(()=>{m||p()},[r,m]),(0,v.useEffect)(()=>{s&&s.length>0&&i(null)},[JSON.stringify(s)]),(0,v.useEffect)(()=>{m||typeof o!="number"||f.current!==null||(f.current=setTimeout(()=>{p(),f.current=null},o))},[o,m,p,...n]),{droppableRects:g,measureDroppableContainers:p,measuringScheduled:s!=null};function x(){switch(d){case tr.Always:return!1;case tr.BeforeDragging:return r;default:return!r}}}function ol(t,e){return Bt(r=>t?r||(typeof e=="function"?e(t):t):null,[e,t])}function Ro(t,e){return ol(t,e)}function Eo(t){let{callback:e,disabled:r}=t,n=ts(e),a=(0,v.useMemo)(()=>{if(r||typeof window>"u"||window.MutationObserver===void 0)return;let{MutationObserver:s}=window;return new s(n)},[n,r]);return(0,v.useEffect)(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function rr(t){let{callback:e,disabled:r}=t,n=ts(e),a=(0,v.useMemo)(()=>{if(r||typeof window>"u"||window.ResizeObserver===void 0)return;let{ResizeObserver:s}=window;return new s(n)},[r]);return(0,v.useEffect)(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function zo(t){return new Br(vt(t),t)}function cl(t,e,r){e===void 0&&(e=zo);let[n,a]=(0,v.useState)(null);function s(){a(c=>{if(!t)return null;if(t.isConnected===!1)return c??r??null;let d=e(t);return JSON.stringify(c)===JSON.stringify(d)?c:d})}let i=Eo({callback(c){if(t)for(let d of c){let{type:u,target:m}=d;if(u==="childList"&&m instanceof HTMLElement&&m.contains(t)){s();break}}}}),o=rr({callback:s});return lt(()=>{s(),t?(o==null||o.observe(t),i==null||i.observe(document.body,{childList:!0,subtree:!0})):(o==null||o.disconnect(),i==null||i.disconnect())},[t]),n}function Do(t){return Kn(t,ol(t))}var dl=[];function Mo(t){let e=(0,v.useRef)(t),r=Bt(n=>t?n&&n!==dl&&t&&e.current&&t.parentNode===e.current.parentNode?n:Zt(t):dl,[t]);return(0,v.useEffect)(()=>{e.current=t},[t]),r}function Oo(t){let[e,r]=(0,v.useState)(null),n=(0,v.useRef)(t),a=(0,v.useCallback)(s=>{let i=Wr(s.target);i&&r(o=>o?(o.set(i,Vr(i)),new Map(o)):null)},[]);return(0,v.useEffect)(()=>{let s=n.current;if(t!==s){i(s);let o=t.map(c=>{let d=Wr(c);return d?(d.addEventListener("scroll",a,{passive:!0}),[d,Vr(d)]):null}).filter(c=>c!=null);r(o.length?new Map(o):null),n.current=t}return()=>{i(t),i(s)};function i(o){o.forEach(c=>{var d;(d=Wr(c))==null||d.removeEventListener("scroll",a)})}},[a,t]),(0,v.useMemo)(()=>t.length?e?Array.from(e.values()).reduce((s,i)=>Ct(s,i),Le):el(t):Le,[t,e])}function ul(t,e){e===void 0&&(e=[]);let r=(0,v.useRef)(null);return(0,v.useEffect)(()=>{r.current=null},e),(0,v.useEffect)(()=>{let n=t!==Le;n&&!r.current&&(r.current=t),!n&&r.current&&(r.current=null)},[t]),r.current?Ht(t,r.current):Le}function To(t){(0,v.useEffect)(()=>{if(!pn)return;let e=t.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(let r of e)r==null||r()}},t.map(e=>{let{sensor:r}=e;return r}))}function Ao(t,e){return(0,v.useMemo)(()=>t.reduce((r,n)=>{let{eventName:a,handler:s}=n;return r[a]=i=>{s(i,e)},r},{}),[t,e])}function ml(t){return(0,v.useMemo)(()=>t?ao(t):null,[t])}var hl=[];function Po(t,e){e===void 0&&(e=vt);let[r]=t,n=ml(r?Qe(r):null),[a,s]=(0,v.useState)(hl);function i(){s(()=>t.length?t.map(c=>Qn(c)?n:new Br(e(c),c)):hl)}let o=rr({callback:i});return lt(()=>{o==null||o.disconnect(),i(),t.forEach(c=>o==null?void 0:o.observe(c))},[t]),a}function Lo(t){if(!t)return null;if(t.children.length>1)return t;let e=t.children[0];return yr(e)?e:t}function Fo(t){let{measure:e}=t,[r,n]=(0,v.useState)(null),a=rr({callback:(0,v.useCallback)(o=>{for(let{target:c}of o)if(yr(c)){n(d=>{let u=e(c);return d?{...d,width:u.width,height:u.height}:u});break}},[e])}),[s,i]=wr((0,v.useCallback)(o=>{let c=Lo(o);a==null||a.disconnect(),c&&(a==null||a.observe(c)),n(c?e(c):null)},[e,a]));return(0,v.useMemo)(()=>({nodeRef:s,rect:r,setRef:i}),[r,s,i])}var Wo=[{sensor:Ur,options:{}},{sensor:qr,options:{}}],Vo={current:{}},nr={draggable:{measure:Gn},droppable:{measure:Gn,strategy:tr.WhileDragging,frequency:sl.Optimized},dragOverlay:{measure:vt}},Ot=class extends Map{get(t){return t==null?void 0:super.get(t)??void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:e}=t;return!e})}getNodeFor(t){var e;return((e=this.get(t))==null?void 0:e.node.current)??void 0}},Bo={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ot,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Qt},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:nr,measureDroppableContainers:Qt,windowRect:null,measuringScheduled:!1},Ho={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Qt,draggableNodes:new Map,over:null,measureDroppableContainers:Qt},lr=(0,v.createContext)(Ho),pl=(0,v.createContext)(Bo);function qo(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ot}}}function $o(t,e){switch(e.type){case we.DragStart:return{...t,draggable:{...t.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case we.DragMove:return t.draggable.active==null?t:{...t,draggable:{...t.draggable,translate:{x:e.coordinates.x-t.draggable.initialCoordinates.x,y:e.coordinates.y-t.draggable.initialCoordinates.y}}};case we.DragEnd:case we.DragCancel:return{...t,draggable:{...t.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case we.RegisterDroppable:{let{element:r}=e,{id:n}=r,a=new Ot(t.droppable.containers);return a.set(n,r),{...t,droppable:{...t.droppable,containers:a}}}case we.SetDroppableDisabled:{let{id:r,key:n,disabled:a}=e,s=t.droppable.containers.get(r);if(!s||n!==s.key)return t;let i=new Ot(t.droppable.containers);return i.set(r,{...s,disabled:a}),{...t,droppable:{...t.droppable,containers:i}}}case we.UnregisterDroppable:{let{id:r,key:n}=e,a=t.droppable.containers.get(r);if(!a||n!==a.key)return t;let s=new Ot(t.droppable.containers);return s.delete(r),{...t,droppable:{...t.droppable,containers:s}}}default:return t}}function Uo(t){let{disabled:e}=t,{active:r,activatorEvent:n,draggableNodes:a}=(0,v.useContext)(lr),s=br(n),i=br(r==null?void 0:r.id);return(0,v.useEffect)(()=>{if(!e&&!n&&s&&i!=null){if(!fn(s)||document.activeElement===s.target)return;let o=a.get(i);if(!o)return;let{activatorNode:c,node:d}=o;if(!c.current&&!d.current)return;requestAnimationFrame(()=>{for(let u of[c.current,d.current]){if(!u)continue;let m=o1(u);if(m){m.focus();break}}})}},[n,e,a,i,s]),null}function Ko(t,e){let{transform:r,...n}=e;return t!=null&&t.length?t.reduce((a,s)=>s({transform:a,...n}),r):r}function Go(t){return(0,v.useMemo)(()=>({draggable:{...nr.draggable,...t==null?void 0:t.draggable},droppable:{...nr.droppable,...t==null?void 0:t.droppable},dragOverlay:{...nr.dragOverlay,...t==null?void 0:t.dragOverlay}}),[t==null?void 0:t.draggable,t==null?void 0:t.droppable,t==null?void 0:t.dragOverlay])}function Xo(t){let{activeNode:e,measure:r,initialRect:n,config:a=!0}=t,s=(0,v.useRef)(!1),{x:i,y:o}=typeof a=="boolean"?{x:a,y:a}:a;lt(()=>{if(!i&&!o||!e){s.current=!1;return}if(s.current||!n)return;let c=e==null?void 0:e.node.current;if(!c||c.isConnected===!1)return;let d=Kn(r(c),n);if(i||(d.x=0),o||(d.y=0),s.current=!0,Math.abs(d.x)>0||Math.abs(d.y)>0){let u=Xn(c);u&&u.scrollBy({top:d.y,left:d.x})}},[e,i,o,n,r])}var fl=(0,v.createContext)({...Le,scaleX:1,scaleY:1}),it;(function(t){t[t.Uninitialized=0]="Uninitialized",t[t.Initializing=1]="Initializing",t[t.Initialized=2]="Initialized"})(it||(it={}));var Yo=(0,v.memo)(function(t){var _t;let{id:e,accessibility:r,autoScroll:n=!0,children:a,sensors:s=Wo,collisionDetection:i=Un,measuring:o,modifiers:c,...d}=t,[u,m]=(0,v.useReducer)($o,void 0,qo),[h,p]=Hi(),[f,g]=(0,v.useState)(it.Uninitialized),x=f===it.Initialized,{draggable:{active:b,nodes:y,translate:j},droppable:{containers:w}}=u,_=b==null?null:y.get(b),N=(0,v.useRef)({initial:null,translated:null}),C=(0,v.useMemo)(()=>b==null?null:{id:b,data:(_==null?void 0:_.data)??Vo,rect:N},[b,_]),I=(0,v.useRef)(null),[R,k]=(0,v.useState)(null),[S,z]=(0,v.useState)(null),E=qt(d,Object.values(d)),O=Vt("DndDescribedBy",e),P=(0,v.useMemo)(()=>w.getEnabled(),[w]),D=Go(o),{droppableRects:M,measureDroppableContainers:T,measuringScheduled:L}=Io(P,{dragging:x,dependencies:[j.x,j.y],config:D.droppable}),A=ko(y,b),q=(0,v.useMemo)(()=>S?mn(S):null,[S]),X=wt(),K=Ro(A,D.draggable.measure);Xo({activeNode:b==null?null:y.get(b),config:X.layoutShiftCompensation,initialRect:K,measure:D.draggable.measure});let $=cl(A,D.draggable.measure,K),Q=cl(A?A.parentElement:null),B=(0,v.useRef)({activatorEvent:null,active:null,activeNode:A,collisionRect:null,collisions:null,droppableRects:M,draggableNodes:y,draggingNode:null,draggingNodeRect:null,droppableContainers:w,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),le=w.getNodeFor((_t=B.current.over)==null?void 0:_t.id),F=Fo({measure:D.dragOverlay.measure}),G=F.nodeRef.current??A,Y=x?F.rect??$:null,J=!!(F.nodeRef.current&&F.rect),ee=Do(J?null:$),se=ml(G?Qe(G):null),ae=Mo(x?le??A:null),de=Po(ae),ce=Ko(c,{transform:{x:j.x-ee.x,y:j.y-ee.y,scaleX:1,scaleY:1},activatorEvent:S,active:C,activeNodeRect:$,containerNodeRect:Q,draggingNodeRect:Y,over:B.current.over,overlayNodeRect:F.rect,scrollableAncestors:ae,scrollableAncestorRects:de,windowRect:se}),ve=q?Ct(q,j):null,me=Oo(ae),pe=ul(me),ie=ul(me,[$]),ue=Ct(ce,pe),he=Y?to(Y,ce):null,ye=C&&he?i({active:C,collisionRect:he,droppableRects:M,droppableContainers:P,pointerCoordinates:ve}):null,re=Lr(ye,"id"),[U,Ye]=(0,v.useState)(null),Be=Zi(J?ce:Ct(ce,ie),(U==null?void 0:U.rect)??null,$),He=(0,v.useRef)(null),ct=(0,v.useCallback)((ke,_e)=>{let{sensor:be,options:De}=_e;if(I.current==null)return;let Se=y.get(I.current);if(!Se)return;let xe=ke.nativeEvent;He.current=new be({active:I.current,activeNode:Se,event:xe,options:De,context:B,onAbort(fe){if(!y.get(fe))return;let{onDragAbort:ge}=E.current,Oe={id:fe};ge==null||ge(Oe),h({type:"onDragAbort",event:Oe})},onPending(fe,ge,Oe,Ie){if(!y.get(fe))return;let{onDragPending:Pe}=E.current,Te={id:fe,constraint:ge,initialCoordinates:Oe,offset:Ie};Pe==null||Pe(Te),h({type:"onDragPending",event:Te})},onStart(fe){let ge=I.current;if(ge==null)return;let Oe=y.get(ge);if(!Oe)return;let{onDragStart:Ie}=E.current,Pe={activatorEvent:xe,active:{id:ge,data:Oe.data,rect:N}};(0,Dt.unstable_batchedUpdates)(()=>{Ie==null||Ie(Pe),g(it.Initializing),m({type:we.DragStart,initialCoordinates:fe,active:ge}),h({type:"onDragStart",event:Pe}),k(He.current),z(xe)})},onMove(fe){m({type:we.DragMove,coordinates:fe})},onEnd:ze(we.DragEnd),onCancel:ze(we.DragCancel)});function ze(fe){return async function(){let{active:ge,collisions:Oe,over:Ie,scrollAdjustedTranslate:Pe}=B.current,Te=null;if(ge&&Pe){let{cancelDrop:Lt}=E.current;Te={activatorEvent:xe,active:ge,collisions:Oe,delta:Pe,over:Ie},fe===we.DragEnd&&typeof Lt=="function"&&await Promise.resolve(Lt(Te))&&(fe=we.DragCancel)}I.current=null,(0,Dt.unstable_batchedUpdates)(()=>{m({type:fe}),g(it.Uninitialized),Ye(null),k(null),z(null),He.current=null;let Lt=fe===we.DragEnd?"onDragEnd":"onDragCancel";if(Te){let an=E.current[Lt];an==null||an(Te),h({type:Lt,event:Te})}})}}},[y]),Je=So(s,(0,v.useCallback)((ke,_e)=>(be,De)=>{let Se=be.nativeEvent,xe=y.get(De);if(I.current!==null||!xe||Se.dndKit||Se.defaultPrevented)return;let ze={active:xe};ke(be,_e.options,ze)===!0&&(Se.dndKit={capturedBy:_e.sensor},I.current=De,ct(be,_e))},[y,ct]));To(s),lt(()=>{$&&f===it.Initializing&&g(it.Initialized)},[$,f]),(0,v.useEffect)(()=>{let{onDragMove:ke}=E.current,{active:_e,activatorEvent:be,collisions:De,over:Se}=B.current;if(!_e||!be)return;let xe={active:_e,activatorEvent:be,collisions:De,delta:{x:ue.x,y:ue.y},over:Se};(0,Dt.unstable_batchedUpdates)(()=>{ke==null||ke(xe),h({type:"onDragMove",event:xe})})},[ue.x,ue.y]),(0,v.useEffect)(()=>{let{active:ke,activatorEvent:_e,collisions:be,droppableContainers:De,scrollAdjustedTranslate:Se}=B.current;if(!ke||I.current==null||!_e||!Se)return;let{onDragOver:xe}=E.current,ze=De.get(re),fe=ze&&ze.rect.current?{id:ze.id,rect:ze.rect.current,data:ze.data,disabled:ze.disabled}:null,ge={active:ke,activatorEvent:_e,collisions:be,delta:{x:Se.x,y:Se.y},over:fe};(0,Dt.unstable_batchedUpdates)(()=>{Ye(fe),xe==null||xe(ge),h({type:"onDragOver",event:ge})})},[re]),lt(()=>{B.current={activatorEvent:S,active:C,activeNode:A,collisionRect:he,collisions:ye,droppableRects:M,draggableNodes:y,draggingNode:G,draggingNodeRect:Y,droppableContainers:w,over:U,scrollableAncestors:ae,scrollAdjustedTranslate:ue},N.current={initial:Y,translated:he}},[C,A,ye,he,y,G,Y,M,w,U,ae,ue]),_o({...X,delta:j,draggingRect:he,pointerCoordinates:ve,scrollableAncestors:ae,scrollableAncestorRects:de});let rt=(0,v.useMemo)(()=>({active:C,activeNode:A,activeNodeRect:$,activatorEvent:S,collisions:ye,containerNodeRect:Q,dragOverlay:F,draggableNodes:y,droppableContainers:w,droppableRects:M,over:U,measureDroppableContainers:T,scrollableAncestors:ae,scrollableAncestorRects:de,measuringConfiguration:D,measuringScheduled:L,windowRect:se}),[C,A,$,S,ye,Q,F,y,w,M,U,T,ae,de,D,L,se]),nt=(0,v.useMemo)(()=>({activatorEvent:S,activators:Je,active:C,activeNodeRect:$,ariaDescribedById:{draggable:O},dispatch:m,draggableNodes:y,over:U,measureDroppableContainers:T}),[S,Je,C,$,m,O,y,U,T]);return v.createElement(Hn.Provider,{value:p},v.createElement(lr.Provider,{value:nt},v.createElement(pl.Provider,{value:rt},v.createElement(fl.Provider,{value:Be},a)),v.createElement(Uo,{disabled:(r==null?void 0:r.restoreFocus)===!1})),v.createElement(Ui,{...r,hiddenTextDescribedById:O}));function wt(){let ke=(R==null?void 0:R.autoScrollEnabled)===!1,_e=typeof n=="object"?n.enabled===!1:n===!1,be=x&&!ke&&!_e;return typeof n=="object"?{...n,enabled:be}:{enabled:be}}}),Jo=(0,v.createContext)(null),xl="button",Qo="Draggable";function Zo(t){let{id:e,data:r,disabled:n=!1,attributes:a}=t,s=Vt(Qo),{activators:i,activatorEvent:o,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:m,over:h}=(0,v.useContext)(lr),{role:p=xl,roleDescription:f="draggable",tabIndex:g=0}=a??{},x=(c==null?void 0:c.id)===e,b=(0,v.useContext)(x?fl:Jo),[y,j]=wr(),[w,_]=wr(),N=Ao(i,e),C=qt(r);return lt(()=>(m.set(e,{id:e,key:s,node:y,activatorNode:w,data:C}),()=>{let I=m.get(e);I&&I.key===s&&m.delete(e)}),[m,e]),{active:c,activatorEvent:o,activeNodeRect:d,attributes:(0,v.useMemo)(()=>({role:p,tabIndex:g,"aria-disabled":n,"aria-pressed":x&&p===xl?!0:void 0,"aria-roledescription":f,"aria-describedby":u.draggable}),[n,p,g,x,f,u.draggable]),isDragging:x,listeners:n?void 0:N,node:y,over:h,setNodeRef:j,setActivatorNodeRef:_,transform:b}}function ec(){return(0,v.useContext)(pl)}var tc="Droppable",rc={timeout:25};function nc(t){let{data:e,disabled:r=!1,id:n,resizeObserverConfig:a}=t,s=Vt(tc),{active:i,dispatch:o,over:c,measureDroppableContainers:d}=(0,v.useContext)(lr),u=(0,v.useRef)({disabled:r}),m=(0,v.useRef)(!1),h=(0,v.useRef)(null),p=(0,v.useRef)(null),{disabled:f,updateMeasurementsFor:g,timeout:x}={...rc,...a},b=qt(g??n),y=rr({callback:(0,v.useCallback)(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),p.current=null},x)},[x]),disabled:f||!i}),[j,w]=wr((0,v.useCallback)((N,C)=>{y&&(C&&(y.unobserve(C),m.current=!1),N&&y.observe(N))},[y])),_=qt(e);return(0,v.useEffect)(()=>{!y||!j.current||(y.disconnect(),m.current=!1,y.observe(j.current))},[j,y]),(0,v.useEffect)(()=>(o({type:we.RegisterDroppable,element:{id:n,key:s,disabled:r,node:j,rect:h,data:_}}),()=>o({type:we.UnregisterDroppable,key:s,id:n})),[n]),(0,v.useEffect)(()=>{r!==u.current.disabled&&(o({type:we.SetDroppableDisabled,id:n,key:s,disabled:r}),u.current.disabled=r)},[n,s,r,o]),{active:i,rect:h,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:w}}function gl(t,e,r){let n=t.slice();return n.splice(r<0?n.length+r:r,0,n.splice(e,1)[0]),n}function lc(t,e){return t.reduce((r,n,a)=>{let s=e.get(n);return s&&(r[a]=s),r},Array(t.length))}function ar(t){return t!==null&&t>=0}function ac(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function sc(t){return typeof t=="boolean"?{draggable:t,droppable:t}:t}var sr={scaleX:1,scaleY:1},ic=t=>{let{rects:e,activeNodeRect:r,activeIndex:n,overIndex:a,index:s}=t,i=e[n]??r;if(!i)return null;let o=oc(e,s,n);if(s===n){let c=e[a];return c?{x:n<a?c.left+c.width-(i.left+i.width):c.left-i.left,y:0,...sr}:null}return s>n&&s<=a?{x:-i.width-o,y:0,...sr}:s<n&&s>=a?{x:i.width+o,y:0,...sr}:{x:0,y:0,...sr}};function oc(t,e,r){let n=t[e],a=t[e-1],s=t[e+1];return!n||!a&&!s?0:r<e?a?n.left-(a.left+a.width):s.left-(n.left+n.width):s?s.left-(n.left+n.width):n.left-(a.left+a.width)}var vl=t=>{let{rects:e,activeIndex:r,overIndex:n,index:a}=t,s=gl(e,n,r),i=e[a],o=s[a];return!o||!i?null:{x:o.left-i.left,y:o.top-i.top,scaleX:o.width/i.width,scaleY:o.height/i.height}},ir={scaleX:1,scaleY:1},cc=t=>{let{activeIndex:e,activeNodeRect:r,index:n,rects:a,overIndex:s}=t,i=a[e]??r;if(!i)return null;if(n===e){let c=a[s];return c?{x:0,y:e<s?c.top+c.height-(i.top+i.height):c.top-i.top,...ir}:null}let o=dc(a,n,e);return n>e&&n<=s?{x:0,y:-i.height-o,...ir}:n<e&&n>=s?{x:0,y:i.height+o,...ir}:{x:0,y:0,...ir}};function dc(t,e,r){let n=t[e],a=t[e-1],s=t[e+1];return n?r<e?a?n.top-(a.top+a.height):s?s.top-(n.top+n.height):0:s?s.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}var bl="Sortable",yl=v.createContext({activeIndex:-1,containerId:bl,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:vl,disabled:{draggable:!1,droppable:!1}});function jl(t){let{children:e,id:r,items:n,strategy:a=vl,disabled:s=!1}=t,{active:i,dragOverlay:o,droppableRects:c,over:d,measureDroppableContainers:u}=ec(),m=Vt(bl,r),h=o.rect!==null,p=(0,v.useMemo)(()=>n.map(N=>typeof N=="object"&&"id"in N?N.id:N),[n]),f=i!=null,g=i?p.indexOf(i.id):-1,x=d?p.indexOf(d.id):-1,b=(0,v.useRef)(p),y=!ac(p,b.current),j=x!==-1&&g===-1||y,w=sc(s);lt(()=>{y&&f&&u(p)},[y,p,f,u]),(0,v.useEffect)(()=>{b.current=p},[p]);let _=(0,v.useMemo)(()=>({activeIndex:g,containerId:m,disabled:w,disableTransforms:j,items:p,overIndex:x,useDragOverlay:h,sortedRects:lc(p,c),strategy:a}),[g,m,w.draggable,w.droppable,j,p,x,c,h,a]);return v.createElement(yl.Provider,{value:_},e)}var uc=t=>{let{id:e,items:r,activeIndex:n,overIndex:a}=t;return gl(r,n,a).indexOf(e)},mc=t=>{let{containerId:e,isSorting:r,wasDragging:n,index:a,items:s,newIndex:i,previousItems:o,previousContainerId:c,transition:d}=t;return!d||!n||o!==s&&a===i?!1:r?!0:i!==a&&e===c},hc={duration:200,easing:"ease"},wl="transform",pc=jr.Transition.toString({property:wl,duration:0,easing:"linear"}),fc={roleDescription:"sortable"};function xc(t){let{disabled:e,index:r,node:n,rect:a}=t,[s,i]=(0,v.useState)(null),o=(0,v.useRef)(r);return lt(()=>{if(!e&&r!==o.current&&n.current){let c=a.current;if(c){let d=vt(n.current,{ignoreTransform:!0}),u={x:c.left-d.left,y:c.top-d.top,scaleX:c.width/d.width,scaleY:c.height/d.height};(u.x||u.y)&&i(u)}}r!==o.current&&(o.current=r)},[e,r,n,a]),(0,v.useEffect)(()=>{s&&i(null)},[s]),s}function _l(t){let{animateLayoutChanges:e=mc,attributes:r,disabled:n,data:a,getNewIndex:s=uc,id:i,strategy:o,resizeObserverConfig:c,transition:d=hc}=t,{items:u,containerId:m,activeIndex:h,disabled:p,disableTransforms:f,sortedRects:g,overIndex:x,useDragOverlay:b,strategy:y}=(0,v.useContext)(yl),j=gc(n,p),w=u.indexOf(i),_=(0,v.useMemo)(()=>({sortable:{containerId:m,index:w,items:u},...a}),[m,a,w,u]),N=(0,v.useMemo)(()=>u.slice(u.indexOf(i)),[u,i]),{rect:C,node:I,isOver:R,setNodeRef:k}=nc({id:i,data:_,disabled:j.droppable,resizeObserverConfig:{updateMeasurementsFor:N,...c}}),{active:S,activatorEvent:z,activeNodeRect:E,attributes:O,setNodeRef:P,listeners:D,isDragging:M,over:T,setActivatorNodeRef:L,transform:A}=Zo({id:i,data:_,attributes:{...fc,...r},disabled:j.draggable}),q=i1(k,P),X=!!S,K=X&&!f&&ar(h)&&ar(x),$=!b&&M,Q=K?($&&K?A:null)??(o??y)({rects:g,activeNodeRect:E,activeIndex:h,overIndex:x,index:w}):null,B=ar(h)&&ar(x)?s({id:i,items:u,activeIndex:h,overIndex:x}):w,le=S==null?void 0:S.id,F=(0,v.useRef)({activeId:le,items:u,newIndex:B,containerId:m}),G=u!==F.current.items,Y=e({active:S,containerId:m,isDragging:M,isSorting:X,id:i,index:w,items:u,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:d,wasDragging:F.current.activeId!=null}),J=xc({disabled:!Y,index:w,node:I,rect:C});return(0,v.useEffect)(()=>{X&&F.current.newIndex!==B&&(F.current.newIndex=B),m!==F.current.containerId&&(F.current.containerId=m),u!==F.current.items&&(F.current.items=u)},[X,B,m,u]),(0,v.useEffect)(()=>{if(le===F.current.activeId)return;if(le!=null&&F.current.activeId==null){F.current.activeId=le;return}let se=setTimeout(()=>{F.current.activeId=le},50);return()=>clearTimeout(se)},[le]),{active:S,activeIndex:h,attributes:O,data:_,rect:C,index:w,newIndex:B,items:u,isOver:R,isSorting:X,isDragging:M,listeners:D,node:I,overIndex:x,over:T,setNodeRef:q,setActivatorNodeRef:L,setDroppableNodeRef:k,setDraggableNodeRef:P,transform:J??Q,transition:ee()};function ee(){if(J||G&&F.current.newIndex===w)return pc;if(!($&&!fn(z)||!d)&&(X||Y))return jr.Transition.toString({...d,property:wl})}}function gc(t,e){return typeof t=="boolean"?{draggable:t,droppable:!1}:{draggable:(t==null?void 0:t.draggable)??e.draggable,droppable:(t==null?void 0:t.droppable)??e.droppable}}function or(t){if(!t)return!1;let e=t.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}var vc=[ne.Down,ne.Right,ne.Up,ne.Left],bc=(t,e)=>{let{context:{active:r,collisionRect:n,droppableRects:a,droppableContainers:s,over:i,scrollableAncestors:o}}=e;if(vc.includes(t.code)){if(t.preventDefault(),!r||!n)return;let c=[];s.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;let h=a.get(m.id);if(h)switch(t.code){case ne.Down:n.top<h.top&&c.push(m);break;case ne.Up:n.top>h.top&&c.push(m);break;case ne.Left:n.left>h.left&&c.push(m);break;case ne.Right:n.left<h.left&&c.push(m);break}});let d=Xi({active:r,collisionRect:n,droppableRects:a,droppableContainers:c,pointerCoordinates:null}),u=Lr(d,"id");if(u===(i==null?void 0:i.id)&&d.length>1&&(u=d[1].id),u!=null){let m=s.get(r.id),h=s.get(u),p=h?a.get(h.id):null,f=h==null?void 0:h.node.current;if(f&&p&&m&&h){let g=Zt(f).some((w,_)=>o[_]!==w),x=Nl(m,h),b=yc(m,h),y=g||!x?{x:0,y:0}:{x:b?n.width-p.width:0,y:b?n.height-p.height:0},j={x:p.left,y:p.top};return y.x&&y.y?j:Ht(j,y)}}}};function Nl(t,e){return!or(t)||!or(e)?!1:t.data.current.sortable.containerId===e.data.current.sortable.containerId}function yc(t,e){return!or(t)||!or(e)||!Nl(t,e)?!1:t.data.current.sortable.index<e.data.current.sortable.index}var jc=W(H(),1);const wc=()=>{let t=(0,jc.c)(21),{startupLogsAlert:e}=js(),{clearStartupLogsAlert:r}=_s(),[n,a]=(0,v.useState)(!1),s=e==null?void 0:e.status,i;t[0]===r?i=t[1]:(i=()=>{r(),a(!0)},t[0]=r,t[1]=i);let o=lf(i),c=s==="done",d=s==="start"||s==="append",u;t[2]!==o||t[3]!==c?(u=()=>{let _;return c&&(_=window.setTimeout(()=>o(),5e3)),()=>{_&&window.clearTimeout(_)}},t[2]=o,t[3]=c,t[4]=u):u=t[4];let m;if(t[5]===c?m=t[6]:(m=[c],t[5]=c,t[6]=m),(0,v.useEffect)(u,m),e===null||n)return null;let h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)(Nn,{className:"w-5 h-5 inline-block mr-2"}),t[7]=h):h=t[7];let p=d?"Initializing...":"Initialized",f;t[8]===p?f=t[9]:(f=(0,l.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[h,p]}),t[8]=p,t[9]=f);let g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)($e,{className:"w-5 h-5"}),t[10]=g):g=t[10];let x;t[11]===o?x=t[12]:(x=(0,l.jsx)(oe,{variant:"text","data-testid":"remove-startup-logs-button",size:"icon",onClick:o,children:g}),t[11]=o,t[12]=x);let b;t[13]!==f||t[14]!==x?(b=(0,l.jsxs)("div",{className:"flex justify-between",children:[f,x]}),t[13]=f,t[14]=x,t[15]=b):b=t[15];let y=e.content||"Starting startup script...",j;t[16]===y?j=t[17]:(j=(0,l.jsx)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:(0,l.jsx)("div",{className:"w-full",children:(0,l.jsx)("pre",{className:"bg-muted p-3 rounded text-sm font-mono overflow-auto max-h-64 whitespace-pre-wrap",children:y})})}),t[16]=y,t[17]=j);let w;return t[18]!==j||t[19]!==b?(w=(0,l.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-12 min-w-[400px] max-w-[600px] z-200 opacity-95",children:(0,l.jsxs)(zt,{kind:"info",className:"flex flex-col rounded py-3 px-5 animate-in slide-in-from-left",children:[b,j]})}),t[18]=j,t[19]=b,t[20]=w):w=t[20],w};var Cl=W(H(),1),_c=I1("rounded-full shadow-xs-solid border p-[5px] transition-colors focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 [&>svg]:size-3 active:shadow-none bg-background",{variants:{variant:{default:"hover:bg-accent hover:text-accent-foreground",stale:"bg-(--yellow-3) hover:bg-(--yellow-4) text-(--yellow-11)",green:"hover:bg-(--grass-2) hover:text-(--grass-11) hover:border-[var(--grass-7)],",disabled:"opacity-50 cursor-not-allowed",danger:"hover:bg-(--red-3) hover:text-(--red-11)"}},defaultVariants:{variant:"default"}});const Tt=t=>{let e=(0,Cl.c)(18),r,n,a,s,i,o,c;if(e[0]!==t){let{children:m,tooltip:h,disabled:p,variant:f,...g}=t;r=m,c=h;let x=p===void 0?!1:p;n=x,a=g,s=b=>{var y;x||((y=g.onClick)==null||y.call(g,b))},i=Nr.preventFocus,o=V(_c({variant:f}),g.className),e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=s,e[5]=i,e[6]=o,e[7]=c}else r=e[1],n=e[2],a=e[3],s=e[4],i=e[5],o=e[6],c=e[7];let d;e[8]!==r||e[9]!==n||e[10]!==a||e[11]!==s||e[12]!==i||e[13]!==o?(d=(0,l.jsx)("button",{disabled:n,...a,onClick:s,onMouseDown:i,className:o,children:r}),e[8]=r,e[9]=n,e[10]=a,e[11]=s,e[12]=i,e[13]=o,e[14]=d):d=e[14];let u=d;if(c){let m;return e[15]!==u||e[16]!==c?(m=(0,l.jsx)(te,{content:c,side:"top",delayDuration:200,usePortal:!1,children:u}),e[15]=u,e[16]=c,e[17]=m):m=e[17],m}return u},Nc=t=>{let e=(0,Cl.c)(5),{children:r,className:n}=t,a;e[0]===n?a=e[1]:(a=V("flex items-center gap-1 bg-background m-[2px] rounded-full",n),e[0]=n,e[1]=a);let s;return e[2]!==r||e[3]!==a?(s=(0,l.jsx)(ei,{className:a,children:r}),e[2]=r,e[3]=a,e[4]=s):s=e[4],s};var Cc=W(H(),1);const kc=t=>{let e=(0,Cc.c)(9),{connectionState:r,status:n}=t,{sendInterrupt:a}=Ze(),s=Bn(n==="running"),i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=et("global.interrupt"),e[0]=i):i=e[0];let o;e[1]!==r||e[2]!==s?(o=qe(r)||!s,e[1]=r,e[2]=s,e[3]=o):o=e[3];let c=s?a:St.NOOP,d=s?"stale":"disabled",u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(ds,{strokeWidth:1.5}),e[4]=u):u=e[4];let m;return e[5]!==o||e[6]!==c||e[7]!==d?(m=(0,l.jsx)(Tt,{tooltip:i,disabled:o,onClick:c,variant:d,"data-testid":"run-button",children:u}),e[5]=o,e[6]=c,e[7]=d,e[8]=m):m=e[8],m};var Sc={width:void 0,height:void 0};function Ic(t){let{ref:e,box:r="content-box",skip:n}=t,a=(0,v.useRef)({...Sc}),s=(0,v.useRef)(void 0);s.current=t.onResize,(0,v.useEffect)(()=>{if(!e.current||n||typeof window>"u"||!("ResizeObserver"in window))return;let i=new ResizeObserver(([o])=>{let c=r==="border-box"?"borderBoxSize":r==="device-pixel-content-box"?"devicePixelContentBoxSize":"contentBoxSize",d=kl(o,c,"inlineSize"),u=kl(o,c,"blockSize");if(a.current.width!==d||a.current.height!==u){let m={width:d,height:u};a.current.width=d,a.current.height=u,s.current&&s.current(m)}});return i.observe(e.current,{box:r}),()=>{i.disconnect()}},[r,e,n])}function kl(t,e,r){return t[e]?Array.isArray(t[e])?t[e][0][r]:t[e][r]:e==="contentBoxSize"?t.contentRect[r==="inlineSize"?"width":"height"]:void 0}function Rc(){return{countRender:()=>{}}}function Ec(t){let e=t.current;if(e===null)throw ReferenceError("Attempting to dereference null object.");return e}var Xr="ContextMenu",[zc,Df]=Vp(Xr,[fs]),Ee=fs(),[Dc,Sl]=zc(Xr),Il=t=>{let{__scopeContextMenu:e,children:r,onOpenChange:n,dir:a,modal:s=!0}=t,[i,o]=v.useState(!1),c=Ee(e),d=Hp(n),u=v.useCallback(m=>{o(m),d(m)},[d]);return(0,l.jsx)(Dc,{scope:e,open:i,onOpenChange:u,modal:s,children:(0,l.jsx)(zh,{...c,dir:a,open:i,onOpenChange:u,modal:s,children:r})})};Il.displayName=Xr;var Rl="ContextMenuTrigger",El=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,disabled:n=!1,...a}=t,s=Sl(Rl,r),i=Ee(r),o=v.useRef({x:0,y:0}),c=v.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...o.current})}),d=v.useRef(0),u=v.useCallback(()=>window.clearTimeout(d.current),[]),m=h=>{o.current={x:h.clientX,y:h.clientY},s.onOpenChange(!0)};return v.useEffect(()=>u,[u]),v.useEffect(()=>void(n&&u()),[n,u]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(Fh,{...i,virtualRef:c}),(0,l.jsx)(Bp.span,{"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,...a,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:n?t.onContextMenu:Yt(t.onContextMenu,h=>{u(),m(h),h.preventDefault()}),onPointerDown:n?t.onPointerDown:Yt(t.onPointerDown,cr(h=>{u(),d.current=window.setTimeout(()=>m(h),700)})),onPointerMove:n?t.onPointerMove:Yt(t.onPointerMove,cr(u)),onPointerCancel:n?t.onPointerCancel:Yt(t.onPointerCancel,cr(u)),onPointerUp:n?t.onPointerUp:Yt(t.onPointerUp,cr(u))})]})});El.displayName=Rl;var Mc="ContextMenuPortal",zl=t=>{let{__scopeContextMenu:e,...r}=t,n=Ee(e);return(0,l.jsx)(Eh,{...n,...r})};zl.displayName=Mc;var Dl="ContextMenuContent",Ml=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Sl(Dl,r),s=Ee(r),i=v.useRef(!1);return(0,l.jsx)(Dh,{...s,...n,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:o=>{var c;(c=t.onCloseAutoFocus)==null||c.call(t,o),!o.defaultPrevented&&i.current&&o.preventDefault(),i.current=!1},onInteractOutside:o=>{var c;(c=t.onInteractOutside)==null||c.call(t,o),!o.defaultPrevented&&!a.modal&&(i.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ml.displayName=Dl;var Oc="ContextMenuGroup",Tc=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Hh,{...a,...n,ref:e})});Tc.displayName=Oc;var Ac="ContextMenuLabel",Ol=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)($h,{...a,...n,ref:e})});Ol.displayName=Ac;var Pc="ContextMenuItem",Tl=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Uh,{...a,...n,ref:e})});Tl.displayName=Pc;var Lc="ContextMenuCheckboxItem",Al=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Ah,{...a,...n,ref:e})});Al.displayName=Lc;var Fc="ContextMenuRadioGroup",Wc=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Ch,{...a,...n,ref:e})});Wc.displayName=Fc;var Vc="ContextMenuRadioItem",Pl=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(qh,{...a,...n,ref:e})});Pl.displayName=Vc;var Bc="ContextMenuItemIndicator",Ll=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Mh,{...a,...n,ref:e})});Ll.displayName=Bc;var Hc="ContextMenuSeparator",Fl=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Sh,{...a,...n,ref:e})});Fl.displayName=Hc;var qc="ContextMenuArrow",$c=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Ph,{...a,...n,ref:e})});$c.displayName=qc;var Wl="ContextMenuSub",Uc=t=>{let{__scopeContextMenu:e,children:r,onOpenChange:n,open:a,defaultOpen:s}=t,i=Ee(e),[o,c]=Kp({prop:a,defaultProp:s??!1,onChange:n,caller:Wl});return(0,l.jsx)(kh,{...i,open:o,onOpenChange:c,children:r})};Uc.displayName=Wl;var Kc="ContextMenuSubTrigger",Vl=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Lh,{...a,...n,ref:e})});Vl.displayName=Kc;var Gc="ContextMenuSubContent",Bl=v.forwardRef((t,e)=>{let{__scopeContextMenu:r,...n}=t,a=Ee(r);return(0,l.jsx)(Ih,{...a,...n,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Bl.displayName=Gc;function cr(t){return e=>e.pointerType==="mouse"?void 0:t(e)}var Xc=Il,Yc=El,Jc=zl,Hl=Ml,ql=Ol,$l=Tl,Ul=Al,Kl=Pl,Gl=Ll,Xl=Fl,Yl=Vl,Jl=Bl,tt=W(H(),1),Ql=Xc,Zl=Yc,Qc=Up(Jc),Zc=Is(Hl),ed=Is(Jl),td=v.forwardRef((t,e)=>{let r=(0,tt.c)(14),n,a,s,i;r[0]===t?(n=r[1],a=r[2],s=r[3],i=r[4]):({className:a,inset:s,children:n,...i}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s,r[4]=i);let o;r[5]!==a||r[6]!==s?(o=Xp({className:a,inset:s}),r[5]=a,r[6]=s,r[7]=o):o=r[7];let c;r[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(sh,{className:"ml-auto h-4 w-4"}),r[8]=c):c=r[8];let d;return r[9]!==n||r[10]!==i||r[11]!==e||r[12]!==o?(d=(0,l.jsxs)(Yl,{ref:e,className:o,...i,children:[n,c]}),r[9]=n,r[10]=i,r[11]=e,r[12]=o,r[13]=d):d=r[13],d});td.displayName=Yl.displayName;var ea="data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",rd=v.forwardRef((t,e)=>{let r=(0,tt.c)(9),n,a;r[0]===t?(n=r[1],a=r[2]):({className:n,...a}=t,r[0]=t,r[1]=n,r[2]=a);let s;r[3]===n?s=r[4]:(s=V(zs({subcontent:!0}),ea,n),r[3]=n,r[4]=s);let i;return r[5]!==a||r[6]!==e||r[7]!==s?(i=(0,l.jsx)(ed,{ref:e,className:s,...a}),r[5]=a,r[6]=e,r[7]=s,r[8]=i):i=r[8],i});rd.displayName=Jl.displayName;var Yr=v.forwardRef((t,e)=>{let r=(0,tt.c)(15),n,a,s;r[0]===t?(n=r[1],a=r[2],s=r[3]):({className:n,scrollable:s,...a}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s);let i=s===void 0?!0:s,o;r[4]!==n||r[5]!==i?(o=V(zs(),ea,i&&"overflow-auto",n),r[4]=n,r[5]=i,r[6]=o):o=r[6];let c=i?`calc(var(--radix-context-menu-content-available-height) - ${$p}px)`:void 0,d;r[7]!==a.style||r[8]!==c?(d={...a.style,maxHeight:c},r[7]=a.style,r[8]=c,r[9]=d):d=r[9];let u;return r[10]!==a||r[11]!==e||r[12]!==o||r[13]!==d?(u=(0,l.jsx)(Qc,{children:(0,l.jsx)(qp,{children:(0,l.jsx)(Zc,{ref:e,className:o,style:d,...a})})}),r[10]=a,r[11]=e,r[12]=o,r[13]=d,r[14]=u):u=r[14],u});Yr.displayName=Hl.displayName;var bt=v.forwardRef((t,e)=>{let r=(0,tt.c)(13),n,a,s,i;r[0]===t?(n=r[1],a=r[2],s=r[3],i=r[4]):({className:n,inset:a,variant:i,...s}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s,r[4]=i);let o;r[5]!==n||r[6]!==a||r[7]!==i?(o=Es({className:n,inset:a,variant:i}),r[5]=n,r[6]=a,r[7]=i,r[8]=o):o=r[8];let c;return r[9]!==s||r[10]!==e||r[11]!==o?(c=(0,l.jsx)($l,{ref:e,className:o,...s}),r[9]=s,r[10]=e,r[11]=o,r[12]=c):c=r[12],c});bt.displayName=$l.displayName;var nd=v.forwardRef((t,e)=>{let r=(0,tt.c)(15),n,a,s,i;r[0]===t?(n=r[1],a=r[2],s=r[3],i=r[4]):({className:s,children:a,checked:n,...i}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s,r[4]=i);let o;r[5]===s?o=r[6]:(o=Rr({className:s}),r[5]=s,r[6]=o);let c;r[7]===Symbol.for("react.memo_cache_sentinel")?(c=Rr(),r[7]=c):c=r[7];let d;r[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)("span",{className:c,children:(0,l.jsx)(Gl,{children:(0,l.jsx)(ih,{className:"h-4 w-4"})})}),r[8]=d):d=r[8];let u;return r[9]!==n||r[10]!==a||r[11]!==i||r[12]!==e||r[13]!==o?(u=(0,l.jsxs)(Ul,{ref:e,className:o,checked:n,...i,children:[d,a]}),r[9]=n,r[10]=a,r[11]=i,r[12]=e,r[13]=o,r[14]=u):u=r[14],u});nd.displayName=Ul.displayName;var ld=v.forwardRef((t,e)=>{let r=(0,tt.c)(13),n,a,s;r[0]===t?(n=r[1],a=r[2],s=r[3]):({className:a,children:n,...s}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s);let i;r[4]===a?i=r[5]:(i=Rr({className:a}),r[4]=a,r[5]=i);let o;r[6]===Symbol.for("react.memo_cache_sentinel")?(o=Rr(),r[6]=o):o=r[6];let c;r[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("span",{className:o,children:(0,l.jsx)(Gl,{children:(0,l.jsx)(oh,{className:"h-4 w-4 fill-current"})})}),r[7]=c):c=r[7];let d;return r[8]!==n||r[9]!==s||r[10]!==e||r[11]!==i?(d=(0,l.jsxs)(Kl,{ref:e,className:i,...s,children:[c,n]}),r[8]=n,r[9]=s,r[10]=e,r[11]=i,r[12]=d):d=r[12],d});ld.displayName=Kl.displayName;var ad=v.forwardRef((t,e)=>{let r=(0,tt.c)(11),n,a,s;r[0]===t?(n=r[1],a=r[2],s=r[3]):({className:n,inset:a,...s}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s);let i;r[4]!==n||r[5]!==a?(i=Yp({className:n,inset:a}),r[4]=n,r[5]=a,r[6]=i):i=r[6];let o;return r[7]!==s||r[8]!==e||r[9]!==i?(o=(0,l.jsx)(ql,{ref:e,className:i,...s}),r[7]=s,r[8]=e,r[9]=i,r[10]=o):o=r[10],o});ad.displayName=ql.displayName;var ta=v.forwardRef((t,e)=>{let r=(0,tt.c)(9),n,a;r[0]===t?(n=r[1],a=r[2]):({className:n,...a}=t,r[0]=t,r[1]=n,r[2]=a);let s;r[3]===n?s=r[4]:(s=V(Gp({className:n})),r[3]=n,r[4]=s);let i;return r[5]!==a||r[6]!==e||r[7]!==s?(i=(0,l.jsx)(Xl,{ref:e,className:s,...a}),r[5]=a,r[6]=e,r[7]=s,r[8]=i):i=r[8],i});ta.displayName=Xl.displayName;var ra=W(H(),1);const na=t=>{let e=(0,ra.c)(20),{connectionState:r,onClick:n,tooltipContent:a}=t,s;e[0]!==r||e[1]!==a?(s=fr(r)||a,e[0]=r,e[1]=a,e[2]=s):s=e[2];let i=s,o;e[3]!==i||e[4]!==r?(o=qe(r)?i:(0,l.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,l.jsx)("div",{children:i}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground font-medium pt-1 -mt-2 border-t border-border",children:"Right-click for cell types"})]}),e[3]=i,e[4]=r,e[5]=o):o=e[5];let c=o,d;e[6]===n?d=e[7]:(d=()=>n==null?void 0:n({code:""}),e[6]=n,e[7]=d);let u;e[8]===r?u=e[9]:(u=V("shoulder-button hover-action",qe(r)&&" inactive-button"),e[8]=r,e[9]=u);let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(zn,{strokeWidth:1.8}),e[10]=m):m=e[10];let h;e[11]!==d||e[12]!==u?(h=(0,l.jsx)(st,{onClick:d,className:u,onMouseDown:Nr.preventFocus,shape:"circle",size:"small",color:"hint-green","data-testid":"create-cell-button",children:m}),e[11]=d,e[12]=u,e[13]=h):h=e[13];let p;e[14]!==c||e[15]!==h?(p=(0,l.jsx)(te,{content:c,children:h}),e[14]=c,e[15]=h,e[16]=p):p=e[16];let f;return e[17]!==n||e[18]!==p?(f=(0,l.jsx)(sd,{onClick:n,children:p}),e[17]=n,e[18]=p,e[19]=f):f=e[19],f};var sd=t=>{let e=(0,ra.c)(32),{children:r,onClick:n}=t,{createNewCell:a,addSetupCellIfDoesntExist:s}=We();if(!n)return r;let i;e[0]===r?i=e[1]:(i=(0,l.jsx)(Zl,{children:r}),e[0]=r,e[1]=i);let o;e[2]===n?o=e[3]:(o=_=>{_.stopPropagation(),n({code:""})},e[2]=n,e[3]=o);let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)("div",{className:"mr-3 text-muted-foreground",children:(0,l.jsx)(Nf,{})}),e[4]=c):c=e[4];let d;e[5]===o?d=e[6]:(d=(0,l.jsxs)(bt,{onSelect:o,children:[c,"Python cell"]},"python"),e[5]=o,e[6]=d);let u;e[7]!==a||e[8]!==n?(u=_=>{_.stopPropagation(),zr({autoInstantiate:!0,createNewCell:a}),n({code:pr.markdown.defaultCode,hideCode:!0})},e[7]=a,e[8]=n,e[9]=u):u=e[9];let m;e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)("div",{className:"mr-3 text-muted-foreground",children:(0,l.jsx)(Cf,{})}),e[10]=m):m=e[10];let h;e[11]===u?h=e[12]:(h=(0,l.jsxs)(bt,{onSelect:u,children:[m,"Markdown cell"]},"markdown"),e[11]=u,e[12]=h);let p;e[13]!==a||e[14]!==n?(p=_=>{_.stopPropagation(),zr({autoInstantiate:!0,createNewCell:a}),n({code:pr.sql.defaultCode})},e[13]=a,e[14]=n,e[15]=p):p=e[15];let f;e[16]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)("div",{className:"mr-3 text-muted-foreground",children:(0,l.jsx)(Ba,{size:13,strokeWidth:1.5})}),e[16]=f):f=e[16];let g;e[17]===p?g=e[18]:(g=(0,l.jsxs)(bt,{onSelect:p,children:[f,"SQL cell"]},"sql"),e[17]=p,e[18]=g);let x;e[19]===s?x=e[20]:(x=_=>{_.stopPropagation(),s({})},e[19]=s,e[20]=x);let b;e[21]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)("div",{className:"mr-3 text-muted-foreground",children:(0,l.jsx)(gh,{size:13,strokeWidth:1.5})}),e[21]=b):b=e[21];let y;e[22]===x?y=e[23]:(y=(0,l.jsxs)(bt,{onSelect:x,children:[b,"Setup cell"]},"setup"),e[22]=x,e[23]=y);let j;e[24]!==y||e[25]!==d||e[26]!==h||e[27]!==g?(j=(0,l.jsxs)(Yr,{children:[d,h,g,y]}),e[24]=y,e[25]=d,e[26]=h,e[27]=g,e[28]=j):j=e[28];let w;return e[29]!==i||e[30]!==j?(w=(0,l.jsxs)(Ql,{children:[i,j]}),e[29]=i,e[30]=j,e[31]=w):w=e[31],w},id=W(H(),1);const la=t=>{let e=(0,id.c)(35),{children:r,cellId:n,getEditorView:a}=t,s=Wt(n),i=Ft(n),o=!bn(i.output),c=i.consoleOutputs.length>0,d;e[0]!==s.config||e[1]!==s.name||e[2]!==n||e[3]!==i.status||e[4]!==a||e[5]!==o||e[6]!==c?(d={cell:{cellId:n,name:s.name,config:s.config,status:i.status,hasOutput:o,hasConsoleOutput:c,getEditorView:a}},e[0]=s.config,e[1]=s.name,e[2]=n,e[3]=i.status,e[4]=a,e[5]=o,e[6]=c,e[7]=d):d=e[7];let u=hh(d),[m,h]=v.useState(),p=!!m,f;e[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)(Yh,{size:13,strokeWidth:1.5}),e[8]=f):f=e[8];let g;e[9]===n?g=e[10]:(g=async()=>{var R;if((R=window.getSelection())!=null&&R.toString()){document.execCommand("copy");return}let I=document.getElementById(_0.create(n));if(!I){Ve.warn("cell-context-menu: output not found");return}await sf(I.textContent??"")},e[9]=n,e[10]=g);let x,b,y,j,w,_;if(e[11]!==u||e[12]!==r||e[13]!==a||e[14]!==m||e[15]!==p||e[16]!==g){let I=[[{label:"Copy",hidden:p,icon:f,handle:g},{label:"Cut",hidden:!!m,icon:(0,l.jsx)(ch,{size:13,strokeWidth:1.5}),handle:od},{label:"Paste",hidden:!!m,icon:(0,l.jsx)(Kh,{size:13,strokeWidth:1.5}),handle:async()=>{let k=a();if(k)try{let S=await navigator.clipboard.readText();if(S){let{from:z,to:E}=k.state.selection.main,O=k.state.update({changes:{from:z,to:E,insert:S}});k.dispatch(O)}}catch(S){let z=S;Ve.error("Failed to paste from clipboard",z),rh({command:"paste"})}}},{label:"Copy image",hidden:!m,icon:(0,l.jsx)(fh,{size:13,strokeWidth:1.5}),handle:async()=>{if(m){let k=await(await fetch(m.src)).blob(),S=new ClipboardItem({[k.type]:k});await navigator.clipboard.write([S]).then(cd).catch(dd)}}},{icon:(0,l.jsx)(yp,{size:13,strokeWidth:1.5}),label:"Download image",hidden:!m,handle:()=>{if(m){let k=document.createElement("a");k.download="image.png",k.href=m.src,k.click()}}},{label:"Go to Definition",icon:(0,l.jsx)(Ep,{size:13,strokeWidth:1.5}),handle:()=>{let k=a();k&&w0(k)}}],...u];b=Ql;let R;e[23]===Symbol.for("react.memo_cache_sentinel")?(R=k=>{k.target instanceof HTMLImageElement?h(k.target):h(void 0)},e[23]=R):R=e[23],e[24]===r?y=e[25]:(y=(0,l.jsx)(Zl,{onContextMenu:R,asChild:!0,children:r}),e[24]=r,e[25]=y),x=Yr,j="w-[300px]",w=!0,_=I.map((k,S)=>(0,l.jsxs)(v.Fragment,{children:[k.map(md),S<I.length-1&&(0,l.jsx)(ta,{})]},S)),e[11]=u,e[12]=r,e[13]=a,e[14]=m,e[15]=p,e[16]=g,e[17]=x,e[18]=b,e[19]=y,e[20]=j,e[21]=w,e[22]=_}else x=e[17],b=e[18],y=e[19],j=e[20],w=e[21],_=e[22];let N;e[26]!==x||e[27]!==j||e[28]!==w||e[29]!==_?(N=(0,l.jsx)(x,{className:j,scrollable:w,children:_}),e[26]=x,e[27]=j,e[28]=w,e[29]=_,e[30]=N):N=e[30];let C;return e[31]!==b||e[32]!==y||e[33]!==N?(C=(0,l.jsxs)(b,{children:[y,N]}),e[31]=b,e[32]=y,e[33]=N,e[34]=C):C=e[34],C};function od(){document.execCommand("cut")}function cd(){Ut({title:"Copied image to clipboard"})}function dd(t){Ut({title:"Failed to copy image to clipboard. Try downloading instead.",description:t.message}),Ve.error("Failed to copy image to clipboard",t)}function ud(t){t.stopPropagation()}function md(t){if(t.hidden)return null;let e=(0,l.jsxs)("div",{className:"flex items-center flex-1",children:[t.icon&&(0,l.jsx)("div",{className:"mr-2 w-5 text-muted-foreground",children:t.icon}),(0,l.jsx)("div",{className:"flex-1",children:t.label}),(0,l.jsxs)("div",{className:"shrink-0 text-sm",children:[t.hotkey&&mf(t.hotkey),t.rightElement]})]});return t.tooltip&&(e=(0,l.jsx)(te,{delayDuration:100,content:t.tooltip,children:e})),(0,l.jsx)(v.Fragment,{children:t.disableClick?(0,l.jsx)("div",{className:Es({className:t.disabled?"opacity-50!":"",variant:t.variant}),onKeyDown:ud,children:e}):(0,l.jsx)(bt,{className:t.disabled?"opacity-50!":"",onSelect:r=>{t.disableClick||t.disabled||t.handle(r)},variant:t.variant,children:e})},t.label)}var hd=W(H(),1);const pd=t=>{let e=(0,hd.c)(10),r;e[0]===t.left?r=e[1]:(r=(0,l.jsx)("div",{className:"flex-1 flex item-center gap-2",children:t.left}),e[0]=t.left,e[1]=r);let n;e[2]===t.center?n=e[3]:(n=(0,l.jsx)("div",{className:"flex-1 flex item-center gap-2 justify-center",children:t.center}),e[2]=t.center,e[3]=n);let a;e[4]===t.right?a=e[5]:(a=(0,l.jsx)("div",{className:"flex-1 flex item-center gap-2 justify-end",children:t.right}),e[4]=t.right,e[5]=a);let s;return e[6]!==r||e[7]!==n||e[8]!==a?(s=(0,l.jsxs)("div",{className:"flex items-center gap-2 w-full px-3",children:[r,n,a]}),e[6]=r,e[7]=n,e[8]=a,e[9]=s):s=e[9],s};var Jr=W(H(),1);const fd=t=>{let e=(0,Jr.c)(8);if(!t.canCollapse&&!t.isCollapsed)return null;let r=t.isCollapsed?"Expand":"Collapse",n;e[0]===t.isCollapsed?n=e[1]:(n=(0,l.jsx)("span",{children:(0,l.jsx)(xd,{isCollapsed:t.isCollapsed})}),e[0]=t.isCollapsed,e[1]=n);let a;e[2]!==r||e[3]!==n?(a=(0,l.jsx)(te,{content:r,children:n}),e[2]=r,e[3]=n,e[4]=a):a=e[4];let s;return e[5]!==t.onClick||e[6]!==a?(s=(0,l.jsx)(oe,{variant:"text",size:"icon",onClick:t.onClick,children:a}),e[5]=t.onClick,e[6]=a,e[7]=s):s=e[7],s};var xd=t=>{let e=(0,Jr.c)(2),{isCollapsed:r}=t,n;return e[0]===r?n=e[1]:(n=r?(0,l.jsx)(Sn,{className:"w-5 h-5 shrink-0"}):(0,l.jsx)(ut,{className:"w-5 h-5 shrink-0"}),e[0]=r,e[1]=n),n};const aa=(0,v.memo)(t=>{let e=(0,Jr.c)(24),{onClick:r,count:n,cellId:a}=t,s=k0(),i;e[0]!==a||e[1]!==s?(i=W0(s,a),e[0]=a,e[1]=s,e[2]=i):i=e[2];let o=i,c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=V("flex items-center justify-between w-[calc(100%-2rem)] h-9 bg-muted rounded-b mx-4 opacity-80 hover:opacity-100 cursor-pointer"),e[3]=c):c=e[3];let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsx)(D1,{className:"w-4 h-4 shrink-0"}),e[4]=d):d=e[4];let u=n===1?"cell":"cells",m;e[5]!==n||e[6]!==u?(m=(0,l.jsxs)(l.Fragment,{children:[d,(0,l.jsxs)("span",{className:"text-sm text-gray-500",children:[n," ",u," collapsed"]})]}),e[5]=n,e[6]=u,e[7]=m):m=e[7];let h;e[8]===o.errored?h=e[9]:(h=o.errored&&(0,l.jsx)(te,{content:"Has errors",delayDuration:100,children:(0,l.jsx)($s,{className:"w-4 h-4 shrink-0 text-destructive"})}),e[8]=o.errored,e[9]=h);let p;e[10]===o.stale?p=e[11]:(p=o.stale&&(0,l.jsx)(te,{content:"Has stale cells",delayDuration:100,children:(0,l.jsx)(Cp,{className:"w-4 h-4 shrink-0 text-(--yellow-11)"})}),e[10]=o.stale,e[11]=p);let f;e[12]===o.runningOrQueued?f=e[13]:(f=o.runningOrQueued&&(0,l.jsx)(te,{content:"Running",delayDuration:100,children:(0,l.jsx)(jp,{className:"w-4 h-4 shrink-0 animate-spin"})}),e[12]=o.runningOrQueued,e[13]=f);let g;e[14]!==h||e[15]!==p||e[16]!==f?(g=(0,l.jsxs)(l.Fragment,{children:[h,p,f]}),e[14]=h,e[15]=p,e[16]=f,e[17]=g):g=e[17];let x;e[18]!==m||e[19]!==g?(x=(0,l.jsx)(pd,{center:m,right:g}),e[18]=m,e[19]=g,e[20]=x):x=e[20];let b;return e[21]!==r||e[22]!==x?(b=(0,l.jsx)("div",{onClick:r,className:c,children:x}),e[21]=r,e[22]=x,e[23]=b):b=e[23],b});aa.displayName="CollapsedCellBanner";var gd=W(H(),1);const sa=t=>{let e=(0,gd.c)(31),{status:r,connectionState:n,onClick:a}=t,s=r==="running"||r==="queued",i,o,c,d,u,m,h,p,f,g;if(e[0]!==n||e[1]!==s||e[2]!==a||e[3]!==r){let w=qe(n),_;if(w){let N;e[14]===n?N=e[15]:(N=fr(n),e[14]=n,e[15]=N),_=N}else _=r==="running"?"A cell can't be deleted when it's running":r==="queued"?"A cell can't be deleted when it's queued to run":"Delete";o=te,f=_,g=!1,i=oe,c="ghost",d="icon",u=a,m="delete-button",h=Nr.preventFocus,p=V("hover:bg-transparent text-destructive/60 hover:text-destructive",(w||s)&&"inactive-button"),e[0]=n,e[1]=s,e[2]=a,e[3]=r,e[4]=i,e[5]=o,e[6]=c,e[7]=d,e[8]=u,e[9]=m,e[10]=h,e[11]=p,e[12]=f,e[13]=g}else i=e[4],o=e[5],c=e[6],d=e[7],u=e[8],m=e[9],h=e[10],p=e[11],f=e[12],g=e[13];let x,b;e[16]===Symbol.for("react.memo_cache_sentinel")?(x={boxShadow:"none"},b=(0,l.jsx)(Ss,{size:14}),e[16]=x,e[17]=b):(x=e[16],b=e[17]);let y;e[18]!==i||e[19]!==c||e[20]!==d||e[21]!==u||e[22]!==m||e[23]!==h||e[24]!==p?(y=(0,l.jsx)(i,{variant:c,size:d,onClick:u,"data-testid":m,onMouseDown:h,className:p,style:x,children:b}),e[18]=i,e[19]=c,e[20]=d,e[21]=u,e[22]=m,e[23]=h,e[24]=p,e[25]=y):y=e[25];let j;return e[26]!==o||e[27]!==y||e[28]!==f||e[29]!==g?(j=(0,l.jsx)(o,{content:f,usePortal:g,children:y}),e[26]=o,e[27]=y,e[28]=f,e[29]=g,e[30]=j):j=e[30],j};var vd=W(H(),1);const bd=t=>{let e=(0,vd.c)(22),{cellId:r}=t,n=Jh(r);if(!n.isPending)return null;if(n.type==="simple"){let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b=V("px-3 py-1.5","bg-(--amber-2) border-t border-(--amber-6)","animate-in slide-in-from-top-2 duration-200"),e[0]=b):b=e[0];let y=`pending-delete-${r}`,j;e[1]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(On,{className:"w-3 h-3 text-(--amber-11) shrink-0"}),(0,l.jsx)("span",{className:"text-(--amber-11) text-xs",children:"Pending deletion"})]}),e[1]=j):j=e[1];let w;return e[2]===y?w=e[3]:(w=(0,l.jsx)("div",{className:b,"data-testid":y,children:j}),e[2]=y,e[3]=w),w}let a=n.executionDurationMs!==void 0,s=n.defs.size>0,i=J1(n.executionDurationMs??0),o="Pending deletion";a&&s?o=`This cell took ${i} to run and contains variables referenced by other cells.`:a?o=`This cell took ${i} to run.`:s&&(o="This cell contains variables referenced by other cells.");let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=V("px-4 py-3","bg-(--amber-2) border-t border-(--amber-6)","animate-in slide-in-from-top-2 duration-200"),e[4]=c):c=e[4];let d=`pending-delete-${r}`,u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)(On,{className:"w-4 h-4 text-(--amber-11) mt-0.5 shrink-0"}),e[5]=u):u=e[5];let m;e[6]===o?m=e[7]:(m=(0,l.jsx)("p",{className:"text-(--amber-11) font-medium",children:o}),e[6]=o,e[7]=m);let h;e[8]!==s||e[9]!==n.defs?(h=s&&[...n.defs.entries()].map(jd),e[8]=s,e[9]=n.defs,e[10]=h):h=e[10];let p;e[11]!==m||e[12]!==h?(p=(0,l.jsxs)("div",{className:"font-code text-sm text-[0.84375rem]",children:[m,h]}),e[11]=m,e[12]=h,e[13]=p):p=e[13];let f;e[14]===n?f=e[15]:(f=n.shouldConfirmDelete&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{className:"text-(--amber-11) mt-2 mb-3",children:"Are you sure you want to delete?"}),(0,l.jsx)(Mn,{autoFocus:!0,children:(0,l.jsxs)("div",{className:"flex items-center gap-2",onKeyDown:wd,children:[(0,l.jsx)(oe,{size:"xs",variant:"ghost",onClick:()=>n.cancel(),className:"text-(--amber-11) hover:bg-(--amber-4) hover:text-(--amber-11)",children:"Cancel"}),(0,l.jsx)(oe,{size:"xs",variant:"secondary",onClick:()=>n.confirm(),className:"bg-(--amber-11) hover:bg-(--amber-12) text-white border-(--amber-11)",children:"Delete"})]})})]}),e[14]=n,e[15]=f);let g;e[16]!==p||e[17]!==f?(g=(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[u,(0,l.jsxs)("div",{className:"flex-1",children:[p,f]})]}),e[16]=p,e[17]=f,e[18]=g):g=e[18];let x;return e[19]!==d||e[20]!==g?(x=(0,l.jsx)("div",{className:c,"data-testid":d,children:g}),e[19]=d,e[20]=g,e[21]=x):x=e[21],x};function yd(t){return(0,l.jsx)("li",{className:"my-0.5 ml-8 text-(--amber-11)/60",children:(0,l.jsx)(yf,{cellId:t})},t)}function jd(t){let[e,r]=t;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-(--amber-11) mt-2",children:["'",(0,l.jsx)("span",{className:"font-mono",children:e}),"' is referenced by:"]}),(0,l.jsx)("ul",{className:"list-disc",children:r.map(yd)})]},e)}function wd(t){t.stopPropagation()}var _d=W(H(),1);function Nd({connectionState:t,needsRun:e,loading:r,inactive:n}){return qe(t)?"disabled":e&&!r?"stale":r||n?"disabled":"green"}const Cd=t=>{let e=(0,_d.c)(27),{onClick:r,connectionState:n,needsRun:a,status:s,config:i,edited:o}=t,c=s==="disabled-transitively",d=s==="running"||s==="queued",u,m;e[0]!==c||e[1]!==i.disabled||e[2]!==n||e[3]!==o||e[4]!==d||e[5]!==a?(u=qe(n)||d||!i.disabled&&c&&!o,m=Nd({connectionState:n,needsRun:a,loading:d,inactive:u}),e[0]=c,e[1]=i.disabled,e[2]=n,e[3]=o,e[4]=d,e[5]=a,e[6]=u,e[7]=m):(u=e[6],m=e[7]);let h=m;if(i.disabled){let x;e[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)(xt,{}),e[8]=x):x=e[8];let b;return e[9]!==u||e[10]!==r||e[11]!==h?(b=(0,l.jsx)(Tt,{tooltip:"Add code to notebook",disabled:u,onClick:r,variant:h,"data-testid":"run-button",children:x}),e[9]=u,e[10]=r,e[11]=h,e[12]=b):b=e[12],b}if(!i.disabled&&c&&!o){let x;e[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)(Gt,{strokeWidth:1.2}),e[13]=x):x=e[13];let b;return e[14]!==u||e[15]!==r||e[16]!==h?(b=(0,l.jsx)(Tt,{disabled:u,tooltip:"This cell can't be run because it has a disabled ancestor",onClick:r,variant:h,"data-testid":"run-button",children:x}),e[14]=u,e[15]=r,e[16]=h,e[17]=b):b=e[17],b}let p;if(qe(n)){let x;e[18]===n?x=e[19]:(x=fr(n),e[18]=n,e[19]=x),p=x}else if(s==="queued")p="This cell is already queued to run";else if(s==="running")p="This cell is already running.";else{let x;e[20]===Symbol.for("react.memo_cache_sentinel")?(x=et("cell.run"),e[20]=x):x=e[20],p=x}let f;e[21]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)(Gt,{strokeWidth:1.2}),e[21]=f):f=e[21];let g;return e[22]!==u||e[23]!==r||e[24]!==p||e[25]!==h?(g=(0,l.jsx)(Tt,{tooltip:p,disabled:u,onClick:r,variant:h,"data-testid":"run-button",children:f}),e[22]=u,e[23]=r,e[24]=p,e[25]=h,e[26]=g):g=e[26],g};var ia=W(H(),1);const kd=t=>{let e=(0,ia.c)(5),{cellId:r,className:n}=t,a=Z(_n).get(r);if(!a)return null;let s=a.type==="delete_cell"?"mo-ai-deleted-cell":"mo-ai-generated-cell",i;e[0]!==s||e[1]!==n?(i=V(s,n),e[0]=s,e[1]=n,e[2]=i):i=e[2];let o;return e[3]===i?o=e[4]:(o=(0,l.jsx)("div",{className:i}),e[3]=i,e[4]=o),o},Sd=t=>{let e=(0,ia.c)(15),{cellId:r}=t,n=Va(),a=Z(_n),s;e[0]!==r||e[1]!==a?(s=a.get(r),e[0]=r,e[1]=a,e[2]=s):s=e[2];let i=s,o=Tn(r),{deleteStagedCell:c,removeStagedCell:d}=cs(n);if(!i)return null;let u;e[3]!==r||e[4]!==c||e[5]!==d||e[6]!==i?(u=g=>{(g==="accept"?oa:ca)(r,i,d,c)},e[3]=r,e[4]=c,e[5]=d,e[6]=i,e[7]=u):u=e[7];let m=u,h,p;e[8]===m?(h=e[9],p=e[10]):(h=()=>m("accept"),p=()=>m("reject"),e[8]=m,e[9]=h,e[10]=p);let f;return e[11]!==o||e[12]!==h||e[13]!==p?(f=(0,l.jsx)("div",{className:"flex items-center justify-end gap-1.5 w-full pb-1 pt-2",children:(0,l.jsx)(K1,{isLoading:!1,onAccept:h,onDecline:p,size:"xs",runCell:o})}),e[11]=o,e[12]=h,e[13]=p,e[14]=f):f=e[14],f};function oa(t,e,r,n){switch(e.type){case"delete_cell":n(t);break;default:r(t);break}}function ca(t,e,r,n){switch(e.type){case"update_cell":{let a=Ga(t);if(!a){Ve.error("Editor for this cell not found",{cellId:t});break}G0(a,e.previousCode),r(t);break}case"add_cell":n(t);break;case"delete_cell":r(t);break}}var Id=W(H(),1);const Rd=t=>{let e=(0,Id.c)(13),{cellId:r,hide:n}=t,a=N0(r);if(!a||n)return;let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)(on,{size:13,className:"mt-[3px] text-destructive"}),e[0]=s):s=e[0];let i;e[1]===a.errorType?i=e[2]:(i=(0,l.jsxs)("span",{className:"font-bold text-destructive",children:[a.errorType,":"]}),e[1]=a.errorType,e[2]=i);let o;e[3]===a.errorMessage?o=e[4]:(o=(0,l.jsx)("span",{className:"whitespace-pre-wrap",children:a.errorMessage}),e[3]=a.errorMessage,e[4]=o);let c;e[5]!==i||e[6]!==o?(c=(0,l.jsxs)("div",{className:"flex items-start gap-1.5",children:[s,(0,l.jsxs)("p",{children:[i," ",o]})]}),e[5]=i,e[6]=o,e[7]=c):c=e[7];let d;e[8]===a.codeblock?d=e[9]:(d=a.codeblock&&(0,l.jsx)("pre",{lang:"sql",className:"text-xs bg-muted/80 rounded p-2 pb-0 mx-3 font-medium whitespace-pre-wrap",children:a.codeblock}),e[8]=a.codeblock,e[9]=d);let u;return e[10]!==c||e[11]!==d?(u=(0,l.jsxs)("div",{className:"p-3 text-sm flex flex-col text-muted-foreground gap-1.5 bg-destructive/4",children:[c,d]}),e[10]=c,e[11]=d,e[12]=u):u=e[12],u};var da=W(H(),1),ua=v.createContext(null);const ma=(0,v.memo)(()=>(0,v.use)(ua));ma.displayName="DragHandle";function Ed(t){return t?t.x===0&&t.y===0&&t.scaleX===1&&t.scaleY===1:!0}const ha=v.forwardRef((t,e)=>{let r=(0,da.c)(21),n,a,s;r[0]===t?(n=r[1],a=r[2],s=r[3]):({cellId:a,canMoveX:n,...s}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s);let i;r[4]===a?i=r[5]:(i=a.toString(),r[4]=a,r[5]=i);let o;r[6]===i?o=r[7]:(o={id:i},r[6]=i,r[7]=o);let{attributes:c,listeners:d,setNodeRef:u,transform:m,transition:h,isDragging:p}=_l(o),f;r[8]===m?f=r[9]:(f=Ed(m)?null:m,r[8]=m,r[9]=f);let g=f,x=g==null?void 0:h,b;return r[10]!==c||r[11]!==n||r[12]!==a||r[13]!==p||r[14]!==d||r[15]!==s||r[16]!==e||r[17]!==u||r[18]!==g||r[19]!==x?(b=(0,l.jsx)(pa,{ref:e,cellId:a,canMoveX:n,...s,attributes:c,listeners:d,setNodeRef:u,transform:g,transition:x,isDragging:p}),r[10]=c,r[11]=n,r[12]=a,r[13]=p,r[14]=d,r[15]=s,r[16]=e,r[17]=u,r[18]=g,r[19]=x,r[20]=b):b=r[20],b});ha.displayName="SortableCell";var pa=v.forwardRef((t,e)=>{let r=(0,da.c)(35),n,a,s,i,o,c,d,u;if(r[0]!==e||r[1]!==t){let{cellId:p,canMoveX:f,children:g,attributes:x,listeners:b,setNodeRef:y,transform:j,transition:w,isDragging:_,...N}=t;n=g;let C;r[10]!==f||r[11]!==j?(C=j?jr.Transform.toString({x:f?j.x:0,y:j.y,scaleX:1,scaleY:1}):void 0,r[10]=f,r[11]=j,r[12]=C):C=r[12];let I=_?2:void 0,R;r[13]!==C||r[14]!==I||r[15]!==w?(R={transform:C,transition:w,zIndex:I,position:"relative"},r[13]=C,r[14]=I,r[15]=w,r[16]=R):R=r[16],s=R;let k;r[17]===Symbol.for("react.memo_cache_sentinel")?(k=(0,l.jsx)(Xe,{strokeWidth:1,size:20}),r[17]=k):k=r[17];let S;r[18]!==x||r[19]!==b?(S=(0,l.jsx)("div",{...x,...b,onMouseDown:Nr.preventFocus,"data-testid":"drag-button",className:"py-px cursor-grab opacity-50 hover:opacity-100 hover-action hover:bg-muted rounded border border-transparent hover:border-border active:bg-accent",children:k}),r[18]=x,r[19]=b,r[20]=S):S=r[20],a=S;let z=!!j;i=-1,r[21]!==e||r[22]!==y?(o=E=>{bs(e,y)(E)},r[21]=e,r[22]=y,r[23]=o):o=r[23],c=N,d=_,u=V(N.className,z&&"is-moving","outline-hidden rounded-lg"),r[0]=e,r[1]=t,r[2]=n,r[3]=a,r[4]=s,r[5]=i,r[6]=o,r[7]=c,r[8]=d,r[9]=u}else n=r[2],a=r[3],s=r[4],i=r[5],o=r[6],c=r[7],d=r[8],u=r[9];let m;r[24]!==n||r[25]!==a?(m=(0,l.jsx)(ua.Provider,{value:a,children:n}),r[24]=n,r[25]=a,r[26]=m):m=r[26];let h;return r[27]!==s||r[28]!==i||r[29]!==o||r[30]!==c||r[31]!==d||r[32]!==u||r[33]!==m?(h=(0,l.jsx)("div",{tabIndex:i,ref:o,...c,"data-is-dragging":d,className:u,style:s,children:m}),r[27]=s,r[28]=i,r[29]=o,r[30]=c,r[31]=d,r[32]=u,r[33]=m,r[34]=h):h=r[34],h});pa.displayName="SortableCellInternal";var yt=W(H(),1);function fa(t,e){let r=(0,yt.c)(9),n;r[0]!==t||r[1]!==e?(n=c=>{t.current!==null&&!t.current.contains(c.relatedTarget)&&e.current!==null&&L1(e.current)},r[0]=t,r[1]=e,r[2]=n):n=r[2];let a=je(n),s;r[3]!==t||r[4]!==e?(s=c=>{if(!(t.current!==document.activeElement||e.current===null||P1(e.current.state)!=="active")){for(let d of A1)if(c.key===d.key&&d.run){d.run(e.current),c.preventDefault(),c.stopPropagation();break}e.current.focus()}},r[3]=t,r[4]=e,r[5]=s):s=r[5];let i=je(s),o;return r[6]!==a||r[7]!==i?(o={closeCompletionHandler:a,resumeCompletionHandler:i},r[6]=a,r[7]=i,r[8]=o):o=r[8],o}function xa(t){let e=(0,yt.c)(16),{cellId:r,cellConfig:n,languageAdapter:a,editorView:s}=t,i=sp(r),o=rp(),c;e[0]===r?c=e[1]:(c=$0(r),e[0]=r,e[1]=c);let d=Z(c),u=!n.hide_code||i||d,m=a==="markdown",h=m&&!u,p;e[2]!==r||e[3]!==s||e[4]!==u||e[5]!==o?(p=y=>{var w;if(u)return;let j=(y==null?void 0:y.focus)??!0;o.add(r),j&&((w=s.current)==null||w.focus())},e[2]=r,e[3]=s,e[4]=u,e[5]=o,e[6]=p):p=e[6];let f=je(p),g;e[7]!==h||e[8]!==f?(g=()=>{h&&f({focus:!0})},e[7]=h,e[8]=f,e[9]=g):g=e[9];let x=je(g),b;return e[10]!==u||e[11]!==m||e[12]!==h||e[13]!==f||e[14]!==x?(b={isCellCodeShown:u,isMarkdown:m,isMarkdownCodeHidden:h,showHiddenCode:f,showHiddenCodeIfMarkdown:x},e[10]=u,e[11]=m,e[12]=h,e[13]=f,e[14]=x,e[15]=b):b=e[15],b}var zd=t=>{let{cellId:e,mode:r}=t,n=S0(e);Rc().countRender(),Ve.debug("Rendering Cell",e);let a=(0,v.useRef)(null);return(0,v.useImperativeHandle)(n,()=>({get editorView(){return Ec(a)},get editorViewOrNull(){return a.current}}),[a]),e==="setup"?(0,l.jsx)(Md,{...t,cellId:e,editorView:a,setEditorView:s=>{a.current=s}}):r==="edit"?(0,l.jsx)(Dd,{...t,cellId:e,editorView:a,setEditorView:s=>{a.current=s}}):(0,l.jsx)(ga,{cellId:e})},ga=(0,v.forwardRef)((t,e)=>{var g;let r=(0,yt.c)(18),{cellId:n}=t,a=Wt(n),s=Ft(n),i;r[0]===Symbol.for("react.memo_cache_sentinel")?(i=_r("marimo-cell","hover-actions-parent z-10",{published:!0}),r[0]=i):i=r[0];let o=i,c=$a((g=s.output)==null?void 0:g.mimetype);if(s.errored||s.interrupted||s.stopped||c)return null;let d;r[1]!==a.name||r[2]!==n?(d=wn(n,a.name),r[1]=a.name,r[2]=n,r[3]=d):d=r[3];let u=s.output,m;r[4]!==a.edited||r[5]!==s?(m=qa(s,a.edited),r[4]=a.edited,r[5]=s,r[6]=m):m=r[6];let h;r[7]===s.status?h=r[8]:(h=cn(s.status),r[7]=s.status,r[8]=h);let p;r[9]!==n||r[10]!==s.output||r[11]!==m||r[12]!==h?(p=(0,l.jsx)(jn,{allowExpand:!1,forceExpand:!0,className:"output-area",cellId:n,output:u,stale:m,loading:h}),r[9]=n,r[10]=s.output,r[11]=m,r[12]=h,r[13]=p):p=r[13];let f;return r[14]!==e||r[15]!==d||r[16]!==p?(f=(0,l.jsx)("div",{tabIndex:-1,ref:e,className:o,...d,children:p}),r[14]=e,r[15]=d,r[16]=p,r[17]=f):f=r[17],f});ga.displayName="ReadonlyCellComponent";var Dd=({theme:t,showPlaceholder:e,cellId:r,canDelete:n,userConfig:a,isCollapsed:s,collapseCount:i,canMoveX:o,editorView:c,setEditorView:d})=>{var pe;let u=(0,v.useRef)(null),m=Wt(r),h=Ft(r),p=(0,v.useRef)(null),f=(0,v.useRef)(null),g=(0,v.useRef)(null),x=We(),b=Z(Rt),y=Nt(ks),j=As(),w=Tn(r),{sendStdin:_}=Ze(),[N,C]=(0,v.useState)(),I=m.config.disabled||h.status==="disabled-transitively",R=Xa({executionTime:h.runElapsedTimeMs??m.lastExecutionTime,status:h.status,errored:h.errored,interrupted:h.interrupted,stopped:h.stopped}),k=m.edited||h.interrupted||h.staleInputs&&!I,S=cn(h.status),z=(h.status==="queued"||m.edited||h.staleInputs)&&!h.interrupted,E=(0,v.useCallback)(()=>c.current,[c]),{closeCompletionHandler:O,resumeCompletionHandler:P}=fa(u,c),{isCellCodeShown:D,isMarkdown:M,isMarkdownCodeHidden:T,showHiddenCode:L,showHiddenCodeIfMarkdown:A}=xa({cellId:r,cellConfig:m.config,languageAdapter:N,editorView:c,editorViewParentRef:f}),q=vs(r,{canMoveX:o,editorView:c,cellActionDropdownRef:p}),X=D0(h.outline),K=!bn(h.output),$=qa(h,m.edited),Q=h.consoleOutputs.length>0,B=a.display.cell_output,le=K&&B==="above",F=K&&B==="below",[G,Y]=(0,v.useState)(!1),[J,ee]=(0,v.useState)(!1);Ic({ref:g,skip:!M,onResize:ie=>{let ue=ie.height&&ie.height<68,he=T&&(ue||B==="below");Y(he),X&&he?ee(!0):J&&ee(!1)}});let se=ie=>(0,l.jsx)(wp,{tooltip:"Edit markdown",className:V("z-20 relative",ie),onClick:L}),ae=K&&(0,l.jsxs)("div",{className:"relative",onDoubleClick:A,children:[(0,l.jsx)("div",{className:"absolute top-5 -left-8 z-10 print:hidden",children:(0,l.jsx)(fd,{isCollapsed:s,onClick:()=>{s?x.expandCell({cellId:r}):x.collapseCell({cellId:r})},canCollapse:X})}),T&&F&&se("top-3"),(0,l.jsx)(jn,{allowExpand:!0,forceExpand:T,className:"output-area",cellId:r,output:h.output,stale:$,loading:cn(h.status)}),T&&le&&se("bottom-3")]}),de=_r("marimo-cell","hover-actions-parent z-10",{interactive:!0,"needs-run":k,"has-error":h.errored,stopped:h.stopped,disabled:m.config.disabled,stale:h.status==="disabled-transitively",borderless:T&&K&&!q["data-selected"]}),ce=je(ie=>{y({cellId:r,initialPrompt:ie.prompt,triggerImmediately:ie.triggerImmediately})}),ve=()=>{if(m.config.disabled)return"This cell is disabled";if(h.status==="disabled-transitively")return"This cell has a disabled ancestor"},me=((pe=h.serialization)==null?void 0:pe.toLowerCase())==="valid";return(0,l.jsx)(Rs,{children:(0,l.jsx)(la,{cellId:r,getEditorView:E,children:(0,l.jsxs)(ha,{tabIndex:-1,ref:u,"data-status":h.status,onBlur:O,onKeyDown:P,cellId:r,canMoveX:o,title:ve(),children:[(0,l.jsxs)("div",{tabIndex:-1,...q,className:V(de,q.className,"focus:ring-1 focus:ring-(--blue-7) focus:ring-offset-0"),ref:g,...wn(r,m.name),children:[B==="above"&&ae,(0,l.jsxs)("div",{className:V("tray"),"data-hidden":T,children:[(0,l.jsx)(kd,{cellId:r}),(0,l.jsx)("div",{className:"absolute right-2 -top-4 z-10",children:(0,l.jsx)(Zr,{edited:m.edited,status:h.status,cellConfig:m.config,needsRun:k,hasOutput:K,hasConsoleOutput:Q,cellActionDropdownRef:p,cellId:r,name:m.name,getEditorView:E,onRun:w})}),(0,l.jsx)(va,{cellId:r,className:V(T&&le&&"-top-7",T&&F&&"-bottom-8",T&&J&&"-left-[3.8rem]"),actions:x}),(0,l.jsx)(ys,{theme:t,showPlaceholder:e,id:r,code:m.code,config:m.config,status:h.status,serializedEditorState:m.serializedEditorState,runCell:w,setEditorView:d,userConfig:a,editorViewRef:c,editorViewParentRef:f,hidden:!D,hasOutput:K,showHiddenCode:L,languageAdapter:N,setLanguageAdapter:C,outputArea:B}),(0,l.jsx)(Qr,{className:V(T&&B==="below"&&"top-14"),edited:m.edited,status:h.status,isCellStatusInline:G,uninstantiated:R,disabled:m.config.disabled,runElapsedTimeMs:h.runElapsedTimeMs,runStartTimestamp:h.runStartTimestamp,lastRunStartTimestamp:h.lastRunStartTimestamp,staleInputs:h.staleInputs,interrupted:h.interrupted}),(0,l.jsx)("div",{className:"shoulder-bottom hover-action",children:n&&D&&(0,l.jsx)(sa,{status:h.status,connectionState:b.state,onClick:()=>{!S&&!qe(b.state)&&j({cellId:r})}})})]}),(0,l.jsx)(Rd,{cellId:r,hide:h.errored&&!$}),B==="below"&&ae,h.serialization&&(0,l.jsxs)("div",{className:"py-1 px-2 flex items-center justify-end gap-2 last:rounded-b",children:[me&&(0,l.jsx)("a",{href:"https://links.marimo.app/reusable-definitions",target:"_blank",className:"hover:underline text-muted-foreground text-xs font-bold",rel:"noopener",children:"reusable"}),(0,l.jsx)(te,{content:(0,l.jsx)("span",{className:"max-w-16 text-xs",children:me&&"This function or class can be imported into other Python notebooks or modules."||(0,l.jsxs)(l.Fragment,{children:["This definition can't be reused in other Python modules:",(0,l.jsx)("br",{}),(0,l.jsx)("br",{}),(0,l.jsx)("pre",{children:h.serialization}),(0,l.jsx)("br",{}),"Click this icon to learn more."]})}),children:me?(0,l.jsx)("a",{href:"https://links.marimo.app/reusable-definitions",target:"_blank",rel:"noopener",children:(0,l.jsx)(zp,{size:16,strokeWidth:1.5,className:"rounded-lg text-muted-foreground"})}):(0,l.jsx)("a",{href:"https://links.marimo.app/reusable-definitions",target:"_blank",rel:"noopener",children:(0,l.jsx)(ps,{size:16,strokeWidth:1.5,className:"rounded-lg text-muted-foreground"})})})]}),(0,l.jsx)(Cs,{consoleOutputs:h.consoleOutputs,stale:z,cellName:h.serialization?"_":m.name,onRefactorWithAI:ce,onClear:()=>{x.clearCellConsoleOutput({cellId:r})},onSubmitDebugger:(ie,ue)=>{x.setStdinResponse({cellId:r,response:ie,outputIndex:ue}),_({text:ie})},cellId:r,debuggerActive:h.debuggerActive}),(0,l.jsx)(bd,{cellId:r})]}),(0,l.jsx)(Sd,{cellId:r}),s&&(0,l.jsx)(aa,{onClick:()=>x.expandCell({cellId:r}),count:i,cellId:r})]})})})},Qr=(0,v.memo)(t=>{let e=(0,yt.c)(19),{className:r,disabled:n,edited:a,interrupted:s,isCellStatusInline:i,lastRunStartTimestamp:o,runElapsedTimeMs:c,runStartTimestamp:d,staleInputs:u,status:m,uninstantiated:h}=t,p=n===void 0?!1:n,f;e[0]!==p||e[1]!==a||e[2]!==s||e[3]!==o||e[4]!==c||e[5]!==d||e[6]!==u||e[7]!==m||e[8]!==h?(f=(0,l.jsx)(Q1,{status:m,staleInputs:u,interrupted:s,editing:!0,edited:a,disabled:p,elapsedTime:c,runStartTimestamp:d,uninstantiated:h,lastRunStartTimestamp:o}),e[0]=p,e[1]=a,e[2]=s,e[3]=o,e[4]=c,e[5]=d,e[6]=u,e[7]=m,e[8]=h,e[9]=f):f=e[9];let g=f,x;e[10]===r?x=e[11]:(x=V("shoulder-right z-20",r),e[10]=r,e[11]=x);let b=!i&&g,y;e[12]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)(ma,{}),e[12]=y):y=e[12];let j=i&&g,w;e[13]===j?w=e[14]:(w=(0,l.jsxs)("div",{className:"flex gap-2 items-end",children:[y,j]}),e[13]=j,e[14]=w);let _;return e[15]!==x||e[16]!==b||e[17]!==w?(_=(0,l.jsxs)("div",{className:x,children:[b,w]}),e[15]=x,e[16]=b,e[17]=w,e[18]=_):_=e[18],_});Qr.displayName="CellRightSideActions";var va=(0,v.memo)(t=>{let e=(0,yt.c)(21),r=Z(Rt),{className:n,actions:a,cellId:s}=t,i;e[0]!==a||e[1]!==s?(i=w=>{let _=w===void 0?{}:w;return a.createNewCell({cellId:s,before:!1,..._})},e[0]=a,e[1]=s,e[2]=i):i=e[2];let o=je(i),c;e[3]!==a||e[4]!==s?(c=w=>{let _=w===void 0?{}:w;return a.createNewCell({cellId:s,before:!0,..._})},e[3]=a,e[4]=s,e[5]=c):c=e[5];let d=je(c),u=Ka(r.state),m;e[6]===n?m=e[7]:(m=V("absolute flex flex-col gap-[2px] justify-center h-full left-[-34px] z-20",n),e[6]=n,e[7]=m);let h;e[8]===Symbol.for("react.memo_cache_sentinel")?(h=et("cell.createAbove"),e[8]=h):h=e[8];let p=u?d:void 0,f;e[9]!==r.state||e[10]!==p?(f=(0,l.jsx)(na,{tooltipContent:h,connectionState:r.state,onClick:p}),e[9]=r.state,e[10]=p,e[11]=f):f=e[11];let g;e[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)("div",{className:"flex-1"}),e[12]=g):g=e[12];let x;e[13]===Symbol.for("react.memo_cache_sentinel")?(x=et("cell.createBelow"),e[13]=x):x=e[13];let b=u?o:void 0,y;e[14]!==r.state||e[15]!==b?(y=(0,l.jsx)(na,{tooltipContent:x,connectionState:r.state,onClick:b}),e[14]=r.state,e[15]=b,e[16]=y):y=e[16];let j;return e[17]!==m||e[18]!==f||e[19]!==y?(j=(0,l.jsxs)("div",{className:m,children:[f,g,y]}),e[17]=m,e[18]=f,e[19]=y,e[20]=j):j=e[20],j});va.displayName="CellLeftSideActions";var Zr=(0,v.memo)(t=>{let e=(0,yt.c)(27),{edited:r,status:n,cellConfig:a,needsRun:s,hasOutput:i,hasConsoleOutput:o,onRun:c,cellActionDropdownRef:d,cellId:u,getEditorView:m,name:h,includeCellActions:p}=t,f=p===void 0?!0:p,g=Z(Rt),x=Ka(g.state),b=!s&&"hover-action",y;e[0]===b?y=e[1]:(y=V(b),e[0]=b,e[1]=y);let j=x?c:St.NOOP,w;e[2]!==a||e[3]!==g.state||e[4]!==r||e[5]!==s||e[6]!==n||e[7]!==j?(w=(0,l.jsx)(Cd,{edited:r,onClick:j,connectionState:g.state,status:n,config:a,needsRun:s}),e[2]=a,e[3]=g.state,e[4]=r,e[5]=s,e[6]=n,e[7]=j,e[8]=w):w=e[8];let _;e[9]!==g.state||e[10]!==n?(_=(0,l.jsx)(kc,{status:n,connectionState:g.state}),e[9]=g.state,e[10]=n,e[11]=_):_=e[11];let N;e[12]!==d||e[13]!==a||e[14]!==u||e[15]!==m||e[16]!==o||e[17]!==i||e[18]!==f||e[19]!==h||e[20]!==n?(N=f&&(0,l.jsx)(U1,{ref:d,cellId:u,status:n,getEditorView:m,name:h,config:a,hasOutput:i,hasConsoleOutput:o,children:(0,l.jsx)(Tt,{variant:"green",tooltip:null,"data-testid":"cell-actions-button",children:(0,l.jsx)(In,{strokeWidth:1.5})})}),e[12]=d,e[13]=a,e[14]=u,e[15]=m,e[16]=o,e[17]=i,e[18]=f,e[19]=h,e[20]=n,e[21]=N):N=e[21];let C;return e[22]!==y||e[23]!==w||e[24]!==_||e[25]!==N?(C=(0,l.jsxs)(Nc,{className:y,children:[w,_,N]}),e[22]=y,e[23]=w,e[24]=_,e[25]=N,e[26]=C):C=e[26],C});Zr.displayName="CellToolbar";var Md=({theme:t,showPlaceholder:e,cellId:r,canDelete:n,userConfig:a,canMoveX:s,editorView:i,setEditorView:o})=>{var A;let c=(0,v.useRef)(null),d=Wt(r),u=Ft(r),m=(0,v.useRef)(null),h=(0,v.useRef)(null),p=Z(Rt),f=We(),g=Ze(),x=As(),b=Nt(ks),y=Tn(r),j=d.config.disabled||u.status==="disabled-transitively",w=Xa({executionTime:u.runElapsedTimeMs??d.lastExecutionTime,status:u.status,errored:u.errored,interrupted:u.interrupted,stopped:u.stopped}),_=d.edited||u.interrupted||u.staleInputs&&!j,N=u.status==="running"||u.status==="queued",C=(u.status==="queued"||d.edited||u.staleInputs)&&!u.interrupted,I=(0,v.useCallback)(()=>i.current,[i]),{isCellCodeShown:R,showHiddenCode:k}=xa({cellId:r,cellConfig:d.config,languageAdapter:"python",editorView:i,editorViewParentRef:h}),{closeCompletionHandler:S,resumeCompletionHandler:z}=fa(c,i),E=vs(r,{canMoveX:s,editorView:i,cellActionDropdownRef:m}),O=!bn(u.output),P=u.consoleOutputs.length>0,D=$a((A=u.output)==null?void 0:A.mimetype),M=_r("marimo-cell","hover-actions-parent z-10 border shadow-sm","border-(--blue-5)! rounded-sm!",{"needs-run":_,"has-error":u.errored,stopped:u.stopped}),T=je(q=>{b({cellId:r,initialPrompt:q.prompt,triggerImmediately:q.triggerImmediately})}),L=()=>{if(d.config.disabled)return"This cell is disabled";if(u.status==="disabled-transitively")return"This cell has a disabled ancestor"};return(0,l.jsx)(Rs,{children:(0,l.jsx)(la,{cellId:r,getEditorView:I,children:(0,l.jsxs)("div",{"data-status":u.status,ref:c,...Ds(E,{className:V(M,"focus:ring-1 focus:ring-(--blue-7) focus:ring-offset-0"),onBlur:S,onKeyDown:z}),...wn(r,d.name),title:L(),tabIndex:-1,"data-setup-cell":!0,children:[(0,l.jsxs)("div",{className:V("tray"),"data-hidden":!R,children:[(0,l.jsx)("div",{className:"absolute right-2 -top-4 z-10",children:(0,l.jsx)(Zr,{edited:d.edited,status:u.status,cellConfig:d.config,needsRun:_,hasOutput:O,hasConsoleOutput:P,cellActionDropdownRef:m,cellId:r,name:d.name,getEditorView:I,onRun:y,includeCellActions:!0})}),(0,l.jsx)(ys,{theme:t,showPlaceholder:e,id:r,code:d.code,config:d.config,status:u.status,serializedEditorState:d.serializedEditorState,runCell:y,setEditorView:o,userConfig:a,editorViewRef:i,editorViewParentRef:h,hidden:!R,hasOutput:O,showHiddenCode:k,languageAdapter:"python",setLanguageAdapter:St.NOOP,showLanguageToggles:!1}),(0,l.jsx)(Qr,{edited:d.edited,status:u.status,isCellStatusInline:!1,uninstantiated:w,disabled:d.config.disabled,runElapsedTimeMs:u.runElapsedTimeMs,runStartTimestamp:u.runStartTimestamp,lastRunStartTimestamp:u.lastRunStartTimestamp,staleInputs:u.staleInputs,interrupted:u.interrupted}),(0,l.jsx)("div",{className:"shoulder-bottom hover-action",children:n&&(0,l.jsx)(sa,{connectionState:p.state,status:u.status,onClick:()=>{!N&&!qe(p.state)&&x({cellId:r})}})})]}),(0,l.jsxs)("div",{className:"py-1 px-2 flex justify-end gap-2 last:rounded-b",children:[(0,l.jsx)("span",{className:"text-muted-foreground text-xs font-bold",children:"setup cell"}),(0,l.jsx)(te,{content:(0,l.jsxs)("span",{className:"max-w-16",children:["This ",(0,l.jsx)("b",{children:"setup cell"})," is guaranteed to run before all other cells. Include ",(0,l.jsx)("br",{}),"initialization or imports and constants required by top-level functions."]}),children:(0,l.jsx)(ps,{size:16,strokeWidth:1.5,className:"rounded-lg text-muted-foreground"})})]}),D&&(0,l.jsx)(jn,{allowExpand:!0,forceExpand:!0,className:"output-area",cellId:r,output:u.output,stale:!1,loading:N}),(0,l.jsx)(Cs,{consoleOutputs:u.consoleOutputs,stale:C,cellName:"_",onRefactorWithAI:T,onClear:()=>{f.clearCellConsoleOutput({cellId:r})},onSubmitDebugger:(q,X)=>{f.setStdinResponse({cellId:r,response:q,outputIndex:X}),g.sendStdin({text:q})},cellId:r,debuggerActive:u.debuggerActive})]})})})};const ba=(0,v.memo)(zd);var Od=class{constructor(t){Wa(this,"cache",new Map);this.ttl=t.ttl}cleanupExpiredEntries(){let t=Date.now();for(let[e,r]of this.cache.entries())t-r.timestamp>this.ttl&&this.cache.delete(e)}get(t){this.cleanupExpiredEntries();let e=this.cache.get(t);if(e){if(Date.now()-e.timestamp>this.ttl){this.cache.delete(t);return}return e.data}}set(t,e){this.cache.set(t,{data:e,timestamp:Date.now()})}clear(){this.cache.clear()}};function Td(t,e){let r=/^(\d+)\.(\d+)\.(\d+)(?:-([\w.-]+))?(?:\+([\w.-]+))?$/,n=a=>{let s=a.match(r);if(!s)return null;let[,i,o,c,d]=s;return{major:Number.parseInt(i,10),minor:Number.parseInt(o,10),patch:Number.parseInt(c,10),preRelease:d||""}};try{let a=n(t),s=n(e);return!a||!s?t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"}):a.major===s.major?a.minor===s.minor?a.patch===s.patch?a.preRelease===""&&s.preRelease!==""?1:a.preRelease!==""&&s.preRelease===""?-1:a.preRelease.localeCompare(s.preRelease):a.patch-s.patch:a.minor-s.minor:a.major-s.major}catch{return t.localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})}}const Ad=(t,e)=>Td(e,t);function Pd(t){return t.replaceAll(/\[.*]/g,"").trim()}var Ld=W(H(),1),ya=new Od({ttl:300*1e3}),Fd=Ya({info:Ya({provides_extra:Ja().array().nullable()}),releases:e1(Ja(),Z0())});function ja(t){let e=(0,Ld.c)(5),r;e[0]===t?r=e[1]:(r=Pd(t),e[0]=t,e[1]=r);let n=r,a,s;return e[2]===n?(a=e[3],s=e[4]):(a=async()=>{let i=ya.get(n);if(i)return i;let o=await fetch(`https://pypi.org/pypi/${n}/json`,{method:"GET"});if(!o.ok)throw Error(`HTTP ${o.status}: ${o.statusText}`);let c=Fd.transform(Wd).parse(await o.json());return ya.set(n,c),c},s=[n],e[2]=n,e[3]=a,e[4]=s),An(a,s)}function Wd(t){return{versions:Object.keys(t.releases).toSorted(Ad),extras:t.info.provides_extra??[]}}var ot=W(H(),1);function wa(t){let e=t.match(/^([^[]+)(?:\[([^\]]+)])?$/);if(!e)return{name:t,extras:[]};let[,r,n]=e;return{name:r,extras:n?n.split(",").map(a=>a.trim()):[]}}function Vd(t,e){return e.length===0?t:`${t}[${e.join(",")}]`}const Bd=()=>{let t=(0,ot.c)(69),{packageAlert:e,packageLogs:r}=js(),{clearPackageAlert:n}=_s(),[a]=xn(),s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={},t[0]=s):s=t[0];let[i,o]=(0,v.useState)(s),c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c={},t[1]=c):c=t[1];let[d,u]=(0,v.useState)(c);if(e===null)return null;let m=a.package_management.manager!=="pixi";if(mp(e)){let h;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[(0,l.jsx)(Fn,{className:"w-5 h-5 inline-block mr-2"}),"Missing packages"]}),t[2]=h):h=t[2];let p;t[3]!==n||t[4]!==e.id?(p=()=>n(e.id),t[3]=n,t[4]=e.id,t[5]=p):p=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,l.jsx)($e,{className:"w-5 h-5"}),t[6]=f):f=t[6];let g;t[7]===p?g=t[8]:(g=(0,l.jsxs)("div",{className:"flex justify-between",children:[h,(0,l.jsx)(oe,{variant:"text","data-testid":"remove-banner-button",size:"icon",onClick:p,children:f})]}),t[7]=p,t[8]=g);let x;t[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)("p",{children:"The following packages were not found:"}),t[9]=x):x=t[9];let b;if(t[10]!==i||t[11]!==m||t[12]!==e.packages||t[13]!==d){let N;t[15]!==i||t[16]!==m||t[17]!==d?(N=(C,I)=>{let R=wa(C),k=d[C]||R.extras;return(0,l.jsxs)("tr",{className:"font-mono text-sm",children:[(0,l.jsx)("td",{className:"pr-2 py-1 align-middle",children:(0,l.jsx)(Nn,{size:"1rem"})}),(0,l.jsx)("td",{className:"pr-2 py-1 align-middle",children:(0,l.jsx)(Kd,{packageName:R.name,selectedExtras:k,onExtrasChange:S=>u(z=>({...z,[C]:S}))})}),m&&(0,l.jsx)("td",{className:"pr-2 py-1 align-middle",children:(0,l.jsx)(Gd,{value:i[C]??"latest",onChange:S=>o(z=>({...z,[C]:S})),packageName:R.name})})]},I)},t[15]=i,t[16]=m,t[17]=d,t[18]=N):N=t[18],b=e.packages.map(N),t[10]=i,t[11]=m,t[12]=e.packages,t[13]=d,t[14]=b}else b=t[14];let y;t[19]===b?y=t[20]:(y=(0,l.jsxs)("div",{children:[x,(0,l.jsx)("table",{className:"list-disc ml-2 mt-1",children:(0,l.jsx)("tbody",{children:b})})]}),t[19]=b,t[20]=y);let j;t[21]!==n||t[22]!==i||t[23]!==e.id||t[24]!==e.isolated||t[25]!==e.packages||t[26]!==d||t[27]!==a.package_management.manager?(j=(0,l.jsx)("div",{className:"ml-auto flex flex-row items-baseline",children:e.isolated?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)($d,{manager:a.package_management.manager,packages:e.packages.map(N=>{let C=wa(N),I=d[N]||C.extras;return Vd(C.name,I)}),versions:i,clearPackageAlert:()=>n(e.id)}),!It()&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"px-2 text-sm",children:"with"})," ",(0,l.jsx)(Ud,{})]})]}):(0,l.jsxs)("p",{children:["If you set up a"," ",(0,l.jsx)(jf,{href:"https://docs.python.org/3/tutorial/venv.html#creating-virtual-environments",children:"virtual environment"}),", marimo can install these packages for you."]})}),t[21]=n,t[22]=i,t[23]=e.id,t[24]=e.isolated,t[25]=e.packages,t[26]=d,t[27]=a.package_management.manager,t[28]=j):j=t[28];let w;t[29]!==y||t[30]!==j?(w=(0,l.jsxs)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:[y,j]}),t[29]=y,t[30]=j,t[31]=w):w=t[31];let _;return t[32]!==w||t[33]!==g?(_=(0,l.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-12 min-w-[400px] z-200 opacity-95 max-w-[600px]",children:(0,l.jsxs)(zt,{kind:"danger",className:"flex flex-col rounded py-3 px-5 animate-in slide-in-from-left overflow-auto max-h-[80vh] scrollbar-thin",children:[g,w]})}),t[32]=w,t[33]=g,t[34]=_):_=t[34],_}if(dp(e)){let h;t[35]===e.packages?h=t[36]:(h=Hd(e.packages),t[35]=e.packages,t[36]=h);let{status:p,title:f,titleIcon:g,description:x}=h;p==="installed"&&setTimeout(()=>n(e.id),1e4);let b=p==="failed"?"danger":"info",y;t[37]!==f||t[38]!==g?(y=(0,l.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[g,f]}),t[37]=f,t[38]=g,t[39]=y):y=t[39];let j;t[40]!==n||t[41]!==e.id?(j=()=>n(e.id),t[40]=n,t[41]=e.id,t[42]=j):j=t[42];let w;t[43]===Symbol.for("react.memo_cache_sentinel")?(w=(0,l.jsx)($e,{className:"w-5 h-5"}),t[43]=w):w=t[43];let _;t[44]===j?_=t[45]:(_=(0,l.jsx)(oe,{variant:"text","data-testid":"remove-banner-button",size:"icon",onClick:j,children:w}),t[44]=j,t[45]=_);let N;t[46]!==y||t[47]!==_?(N=(0,l.jsxs)("div",{className:"flex justify-between",children:[y,_]}),t[46]=y,t[47]=_,t[48]=N):N=t[48];let C=p==="installed"&&"text-accent-foreground",I;t[49]===C?I=t[50]:(I=V("flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",C),t[49]=C,t[50]=I);let R;t[51]===x?R=t[52]:(R=(0,l.jsx)("p",{children:x}),t[51]=x,t[52]=R);let k;t[53]===e.packages?k=t[54]:(k=Object.entries(e.packages),t[53]=e.packages,t[54]=k);let S;t[55]!==p||t[56]!==k?(S=(0,l.jsx)("ul",{className:"list-disc ml-2 mt-1",children:k.map((P,D)=>{let[M,T]=P;return(0,l.jsxs)("li",{className:V("flex items-center gap-1 font-mono text-sm",T==="installing"&&"font-semibold",T==="failed"&&"text-destructive",T==="installed"&&"text-accent-foreground",T==="installed"&&p==="failed"&&"text-muted-foreground"),children:[(0,l.jsx)(qd,{status:T}),M]},D)})}),t[55]=p,t[56]=k,t[57]=S):S=t[57];let z;t[58]===r?z=t[59]:(z=Object.keys(r).length>0&&(0,l.jsx)(Xd,{packageLogs:r}),t[58]=r,t[59]=z);let E;t[60]!==I||t[61]!==R||t[62]!==S||t[63]!==z?(E=(0,l.jsxs)("div",{className:I,children:[R,S,z]}),t[60]=I,t[61]=R,t[62]=S,t[63]=z,t[64]=E):E=t[64];let O;return t[65]!==E||t[66]!==b||t[67]!==N?(O=(0,l.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-12 min-w-[400px] z-200 opacity-95 max-w-[600px] ",children:(0,l.jsxs)(zt,{kind:b,className:"flex flex-col rounded pt-3 pb-4 px-5 overflow-auto max-h-[80vh] scrollbar-thin",children:[N,E]})}),t[65]=E,t[66]=b,t[67]=N,t[68]=O):O=t[68],O}return is(e),null};function Hd(t){let e=new Set(Object.values(t)),r=e.has("queued")||e.has("installing")?"installing":e.has("failed")?"failed":"installed";return r==="installing"?{status:"installing",title:"Installing packages",titleIcon:(0,l.jsx)(Ge,{className:"w-5 h-5 inline-block mr-2"}),description:"Installing packages:"}:r==="installed"?{status:"installed",title:"All packages installed!",titleIcon:(0,l.jsx)(Us,{className:"w-5 h-5 inline-block mr-2"}),description:"Installed packages:"}:{status:"failed",title:"Some packages failed to install",titleIcon:(0,l.jsx)(Fn,{className:"w-5 h-5 inline-block mr-2"}),description:"See error logs."}}var qd=t=>{let e=(0,ot.c)(4),{status:r}=t;switch(r){case"queued":{let n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(Nn,{size:"1rem"}),e[0]=n):n=e[0],n}case"installing":{let n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(Ge,{size:"1rem"}),e[1]=n):n=e[1],n}case"installed":{let n;return e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(lh,{size:"1rem"}),e[2]=n):n=e[2],n}case"failed":{let n;return e[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)($e,{size:"1rem"}),e[3]=n):n=e[3],n}default:return is(r),null}},$d=t=>{let e=(0,ot.c)(10),{manager:r,packages:n,versions:a,clearPackageAlert:s}=t,{sendInstallMissingPackages:i}=Ze(),o;e[0]!==s||e[1]!==r||e[2]!==n||e[3]!==i||e[4]!==a?(o=async()=>{s();let m={...a};for(let h of n)m[h]=m[h]??"";await i({manager:r,versions:m}).catch(Yd)},e[0]=s,e[1]=r,e[2]=n,e[3]=i,e[4]=a,e[5]=o):o=e[5];let c,d;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(Ge,{className:"w-4 h-4 mr-2"}),d=(0,l.jsx)("span",{className:"font-semibold",children:"Install"}),e[6]=c,e[7]=d):(c=e[6],d=e[7]);let u;return e[8]===o?u=e[9]:(u=(0,l.jsxs)(oe,{variant:"outline","data-testid":"install-packages-button",size:"sm",onClick:o,children:[c,d]}),e[8]=o,e[9]=u),u},Ud=()=>{let t=(0,ot.c)(17),[e,r]=xn(),{saveUserConfig:n}=Ze(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=Fp(h1),t[0]=a):a=t[0];let s;t[1]===e?s=t[2]:(s={resolver:a,defaultValues:e},t[1]=e,t[2]=s);let i=Pp(s),o;t[3]!==n||t[4]!==r?(o=async p=>{await n({config:p}).then(()=>{r(p)})},t[3]=n,t[4]=r,t[5]=o):o=t[5];let c=o,d;t[6]!==i||t[7]!==c?(d=i.handleSubmit(c),t[6]=i,t[7]=c,t[8]=d):d=t[8];let u;t[9]===i.control?u=t[10]:(u=(0,l.jsx)("div",{className:"flex flex-col gap-3",children:(0,l.jsx)(Dp,{control:i.control,name:"package_management.manager",render:Qd})}),t[9]=i.control,t[10]=u);let m;t[11]!==d||t[12]!==u?(m=(0,l.jsx)("form",{onChange:d,className:"flex flex-col gap-5",children:u}),t[11]=d,t[12]=u,t[13]=m):m=t[13];let h;return t[14]!==i||t[15]!==m?(h=(0,l.jsx)(Lp,{...i,children:m}),t[14]=i,t[15]=m,t[16]=h):h=t[16],h},Kd=t=>{let e=(0,ot.c)(12),{packageName:r,selectedExtras:n,onExtrasChange:a}=t,[s,i]=(0,v.useState)(!1),{isPending:o,error:c,data:d}=ja(r),u;e[0]!==a||e[1]!==n?(u=(f,g)=>{a(g?[...n,f]:n.filter(x=>x!==f))},e[0]=a,e[1]=n,e[2]=u):u=e[2];let m=u,h=!o&&!c,p;if(e[3]!==h||e[4]!==m||e[5]!==s||e[6]!==r||e[7]!==(d==null?void 0:d.extras)||e[8]!==n){let f=((d==null?void 0:d.extras)??[]).filter(Zd),g;e[10]===r?g=e[11]:(g=(0,l.jsx)("span",{className:"shrink-0 flex-1",children:r}),e[10]=r,e[11]=g),p=(0,l.jsxs)("div",{className:"flex items-center max-w-72",children:[g,n.length>0?(0,l.jsxs)("span",{className:"flex items-center min-w-0 flex-1",children:[(0,l.jsx)("span",{className:"shrink-0",children:"["}),(0,l.jsxs)(ft,{open:s&&h,onOpenChange:x=>{h&&i(x)},children:[(0,l.jsx)(ht,{asChild:!0,children:(0,l.jsx)("button",{className:"hover:bg-muted/50 rounded text-sm px-1 transition-colors border border-muted-foreground/30 hover:border-muted-foreground/60 min-w-0 flex-1 truncate text-left",title:`Selected extras: ${n.join(", ")}`,type:"button",children:n.join(",")})}),(0,l.jsxs)(pt,{align:"start",className:"w-64 p-0 max-h-96 flex flex-col",children:[n.length>0&&(0,l.jsx)("div",{className:"p-2 bg-popover border-b border-border",children:(0,l.jsx)("div",{className:"flex flex-wrap gap-1 p-1 min-h-[24px]",children:n.map(x=>(0,l.jsxs)("span",{className:"inline-flex items-center gap-1 px-1 py-0.5 text-sm font-mono border border-muted-foreground/30 hover:border-muted-foreground/60 rounded-sm cursor-pointer group transition-colors",onClick:()=>m(x,!1),children:[x,(0,l.jsx)($e,{className:"w-3 h-3 opacity-60 group-hover:opacity-100"})]},x))})}),(0,l.jsx)("div",{className:"overflow-y-auto flex-1",children:f.map(x=>(0,l.jsx)(xs,{checked:n.includes(x),onCheckedChange:b=>{m(x,b)},className:"font-mono text-sm",onSelect:eu,children:x},x))})]})]}),(0,l.jsx)("span",{className:"shrink-0",children:"]"})]}):f.length>0?(0,l.jsxs)(ft,{open:s&&h,onOpenChange:x=>{h&&i(x)},children:[(0,l.jsx)(ht,{asChild:!0,children:(0,l.jsx)("button",{disabled:!h,className:V("hover:bg-muted/50 rounded text-sm ml-2 transition-colors border border-muted-foreground/30 hover:border-muted-foreground/60 h-5 w-5 flex items-center justify-center p-0",!h&&"opacity-50 cursor-not-allowed"),title:h?"Add extras":"Loading extras...",type:"button",children:(0,l.jsx)(zn,{className:"w-3 h-3 shrink-0"})})}),(0,l.jsxs)(pt,{align:"start",className:"w-64 p-0 max-h-96 flex flex-col",children:[(0,l.jsx)("div",{className:"p-2 bg-popover border-b border-border",children:(0,l.jsx)("span",{className:"text-muted-foreground italic text-sm",children:"Package extras"})}),(0,l.jsx)("div",{className:"overflow-y-auto flex-1",children:f.map(x=>(0,l.jsx)(xs,{checked:n.includes(x),onCheckedChange:b=>{m(x,b)},className:"font-mono text-sm",onSelect:tu,children:x},x))})]})]}):null]}),e[3]=h,e[4]=m,e[5]=s,e[6]=r,e[7]=d==null?void 0:d.extras,e[8]=n,e[9]=p}else p=e[9];return p},Gd=t=>{let e=(0,ot.c)(16),{value:r,onChange:n,packageName:a}=t,{error:s,isPending:i,data:o}=ja(a);if(s){let m;e[0]===n?m=e[1]:(m=f=>n(f.target.value),e[0]=n,e[1]=m);let h;e[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)("option",{value:"latest",children:"latest"}),e[2]=h):h=e[2];let p;return e[3]!==m||e[4]!==r?(p=(0,l.jsx)(te,{content:"Failed to fetch package versions",children:(0,l.jsx)(kn,{value:r,onChange:m,disabled:!0,className:"inline-flex ml-2 w-24 text-ellipsis",children:h})}),e[3]=m,e[4]=r,e[5]=p):p=e[5],p}let c;e[6]===n?c=e[7]:(c=m=>n(m.target.value),e[6]=n,e[7]=c);let d;e[8]!==i||e[9]!==o?(d=i?(0,l.jsx)("option",{value:"latest",children:"latest"}):["latest",...o.versions.slice(0,100)].map(ru),e[8]=i,e[9]=o,e[10]=d):d=e[10];let u;return e[11]!==i||e[12]!==c||e[13]!==d||e[14]!==r?(u=(0,l.jsx)(kn,{value:r,onChange:c,disabled:i,className:"inline-flex ml-2 w-24 text-ellipsis",children:d}),e[11]=i,e[12]=c,e[13]=d,e[14]=r,e[15]=u):u=e[15],u},Xd=t=>{let e=(0,ot.c)(13),{packageLogs:r}=t,[n,a]=(0,v.useState)(!0);if(Object.keys(r).length===0)return null;let s;e[0]===n?s=e[1]:(s=()=>a(!n),e[0]=n,e[1]=s);let i;e[2]===n?i=e[3]:(i=n?(0,l.jsx)(ut,{className:"w-4 h-4"}):(0,l.jsx)(Sn,{className:"w-4 h-4"}),e[2]=n,e[3]=i);let o;e[4]!==s||e[5]!==i?(o=(0,l.jsxs)("button",{onClick:s,className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",type:"button",children:[i,"Installation logs"]}),e[4]=s,e[5]=i,e[6]=o):o=e[6];let c;e[7]!==n||e[8]!==r?(c=n&&(0,l.jsx)("div",{className:"mt-3 space-y-3 w-full",children:Object.entries(r).map(nu)}),e[7]=n,e[8]=r,e[9]=c):c=e[9];let d;return e[10]!==o||e[11]!==c?(d=(0,l.jsxs)("div",{className:"mt-4 border-t border-border pt-4 w-full",children:[o,c]}),e[10]=o,e[11]=c,e[12]=d):d=e[12],d};function Yd(t){Ve.error(t)}function Jd(t){return(0,l.jsx)("option",{value:t,children:t},t)}function Qd(t){let{field:e}=t;return(0,l.jsxs)(Ap,{children:[(0,l.jsx)(Tp,{children:(0,l.jsx)(kn,{"data-testid":"install-package-manager-select",onChange:r=>e.onChange(r.target.value),value:e.value,disabled:e.disabled,className:"inline-flex mr-2",children:p1.map(Jd)})}),(0,l.jsx)(Mp,{})]})}function Zd(t){return!/^(dev|test|testing)$/i.test(t)}function eu(t){return t.preventDefault()}function tu(t){return t.preventDefault()}function ru(t){return(0,l.jsx)("option",{value:t,children:t},t)}function nu(t){let[e,r]=t;return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("h4",{className:"font-mono text-sm font-medium mb-2 text-foreground",children:e}),(0,l.jsx)("div",{className:"border border-border rounded w-full",children:(0,l.jsx)("pre",{className:"p-3 text-xs font-mono bg-background max-h-64 overflow-y-auto text-muted-foreground whitespace-pre-wrap scrollbar-thin",children:r||"No logs available"})})]},e)}var lu=t=>{let{transform:e}=t;return{...e,x:0}},au=W(H(),1),su={threshold:{x:0,y:.1}};const iu=v.memo(t=>{let e=(0,au.c)(23),{children:r,multiColumn:n}=t,{dropCellOverCell:a,dropCellOverColumn:s,moveColumn:i,compactColumns:o}=We(),[c,d]=(0,v.useState)(null),[u,m]=(0,v.useState)(null),[h]=f1(),p;e:{if(h.width==="columns"){p=M1.EMPTY;break e}let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O=[lu],e[0]=O):O=e[0],p=O}let f=p,g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g={activationConstraint:{distance:8}},e[1]=g):g=e[1];let x;e[2]===Symbol.for("react.memo_cache_sentinel")?(x={coordinateGetter:bc},e[2]=x):x=e[2];let b=Ki(qn(Ur,g),qn(qr,x)),y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=O=>{d(O.active.id),m(gr().cellIds)},e[3]=y):y=e[3];let j=je(y),w;e[4]===u?w=e[5]:(w=()=>{d(null),m(null)},e[4]=u,e[5]=w);let _=je(w),N;e[6]===c?N=e[7]:(N=O=>{let P=O.droppableContainers.filter(ou);if(c&&jt(c))return Fr({...O,droppableContainers:P});let D=Qi({...O,droppableContainers:P}),M=Lr(D.length>0?D:Un({...O,droppableContainers:P}),"id");if(!M)return[];$t(jt(M),`Expected column id. Got: ${M}`);let T=gr().cellIds.get(M);if($t(T,`Expected column. Got: ${M}`),T&&T.topLevelIds.length===0)return[{id:M}];let L=new Set(T.topLevelIds),A=Fr({...O,droppableContainers:O.droppableContainers.filter(q=>q.id!==M&&L.has(q.id))});if(A.length>0){let q=A[0].id;return $t(en(q),`Expected cell id. Got: ${q}`),[{id:q}]}return[]},e[6]=c,e[7]=N);let C=N,I;e[8]!==a||e[9]!==s||e[10]!==i?(I=O=>{let{active:P,over:D}=O,M=D==null?void 0:D.id;if(!(M==null||P.id===M)){if(en(P.id)){if(jt(M)){s({cellId:P.id,columnId:M});return}if(en(M)){a({cellId:P.id,overCellId:M});return}}jt(P.id)&&jt(M)&&i({column:P.id,overColumn:M})}},e[8]=a,e[9]=s,e[10]=i,e[11]=I):I=e[11];let R=je(I),k;e[12]===o?k=e[13]:(k=O=>{let{active:P,over:D}=O;D===null||P.id===D.id||o()},e[12]=o,e[13]=k);let S=je(k),z=n?C:Fr,E;return e[14]!==r||e[15]!==_||e[16]!==S||e[17]!==R||e[18]!==j||e[19]!==f||e[20]!==b||e[21]!==z?(E=(0,l.jsx)(Yo,{autoScroll:su,sensors:b,collisionDetection:z,modifiers:f,onDragEnd:S,onDragStart:j,onDragCancel:_,onDragOver:R,children:r}),e[14]=r,e[15]=_,e[16]=S,e[17]=R,e[18]=j,e[19]=f,e[20]=b,e[21]=z,e[22]=E):E=e[22],E});function en(t){return typeof t=="string"&&!t.startsWith("tree_")}function jt(t){return typeof t=="string"&&t.startsWith("tree_")}function ou(t){return jt(t.id)}var cu=W(H(),1),du=t=>{let e=(0,cu.c)(13),{className:r,size:n,gap:a,durationMs:s}=t,i=n===void 0?8:n,o=a===void 0?"gap-1":a,c=s===void 0?1200:s,d=`${c}ms`,u;e[0]===d?u=e[1]:(u={animationDuration:d},e[0]=d,e[1]=u);let m=u,h;e[2]!==r||e[3]!==o?(h=_r("flex",o,r),e[2]=r,e[3]=o,e[4]=h):h=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=[0,1,2],e[5]=p):p=e[5];let f;e[6]!==m||e[7]!==c||e[8]!==i?(f=p.map(x=>(0,l.jsx)(Rh,{width:i,height:i,className:"fill-current text-current animate-ellipsis-dot",style:{...m,animationDelay:`${c/3*x}ms`}},x)),e[6]=m,e[7]=c,e[8]=i,e[9]=f):f=e[9];let g;return e[10]!==h||e[11]!==f?(g=(0,l.jsx)("div",{className:h,"aria-label":"Loading",children:f}),e[10]=h,e[11]=f,e[12]=g):g=e[12],g},uu=W(H(),1);const _a=t=>{let e=(0,uu.c)(11),{title:r,children:n,show:a,delayMs:s,kind:i}=t,o=s===void 0?2e3:s,c=i===void 0?"info":i;if(!a)return null;let d;e[0]===r?d=e[1]:(d=r&&(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsx)("span",{className:"font-bold text-lg flex items-center mb-1",children:r})}),e[0]=r,e[1]=d);let u;e[2]===n?u=e[3]:(u=(0,l.jsx)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:(0,l.jsx)("div",{children:n})}),e[2]=n,e[3]=u);let m;e[4]!==c||e[5]!==d||e[6]!==u?(m=(0,l.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-1/2 transform -translate-x-1/2 z-200 opacity-95",children:(0,l.jsxs)(zt,{kind:c,className:"flex flex-col rounded py-2 px-4 animate-in slide-in-from-top w-fit",children:[d,u]})}),e[4]=c,e[5]=d,e[6]=u,e[7]=m):m=e[7];let h=m,p;return e[8]!==h||e[9]!==o?(p=(0,l.jsx)(yn,{milliseconds:o,children:h}),e[8]=h,e[9]=o,e[10]=p):p=e[10],p};var mu=W(H(),1),hu=1e3,pu=5e3;const fu=()=>{let t=(0,mu.c)(3),e=Z(F1),r=Z(W1),n;return t[0]!==r||t[1]!==e?(n=e&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(yn,{milliseconds:hu,children:(0,l.jsx)("div",{className:"absolute top-4 m-0 flex items-center min-h-[28px] left-1/2 transform -translate-x-1/2 z-200 ",children:(0,l.jsx)(te,{content:"Connecting to a marimo runtime",children:(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)(du,{size:5,className:"text-yellow-500"})})})})}),(0,l.jsx)(_a,{show:e,delayMs:pu,children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(kr,{className:"h-4 w-4"}),(0,l.jsx)("p",{children:"Connecting to a marimo runtime ..."})]})})]})||r&&(0,l.jsx)(_a,{show:r,kind:"danger",children:(0,l.jsx)("div",{className:"flex items-center gap-2",children:(0,l.jsx)("p",{children:"Failed to connect."})})}),t[0]=r,t[1]=e,t[2]=n):n=t[2],n};var xu=W(H(),1),Na=v.forwardRef((t,e)=>{let r=(0,xu.c)(60),{columnId:n,canDelete:a,canMoveLeft:s,canMoveRight:i,footer:o,...c}=t,d;r[0]===n?d=r[1]:(d={id:n},r[0]=n,r[1]=d);let{attributes:u,listeners:m,setNodeRef:h,transform:p,transition:f,isDragging:g,isOver:x}=_l(d),b;r[2]===p?b=r[3]:(b=p?jr.Transform.toString({x:p.x,y:0,scaleX:1,scaleY:1}):void 0,r[2]=p,r[3]=b);let y=g?2:void 0,j;r[4]!==b||r[5]!==y||r[6]!==f?(j={transform:b,transition:f,zIndex:y,position:"relative","--gutter-width":"50px"},r[4]=b,r[5]=y,r[6]=f,r[7]=j):j=r[7];let w=j,{deleteColumn:_,moveColumn:N,addColumn:C}=We(),I=vu,R;r[8]!==n||r[9]!==N?(R=()=>N({column:n,overColumn:"_left_"}),r[8]=n,r[9]=N,r[10]=R):R=r[10];let k=!s,S;r[11]===Symbol.for("react.memo_cache_sentinel")?(S=(0,l.jsx)(ah,{className:"size-4"}),r[11]=S):S=r[11];let z;r[12]!==R||r[13]!==k?(z=(0,l.jsx)(te,{content:"Move column left",side:"top",delayDuration:300,children:(0,l.jsx)(oe,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",onClick:R,disabled:k,children:S})}),r[12]=R,r[13]=k,r[14]=z):z=r[14];let E;r[15]!==n||r[16]!==N?(E=()=>N({column:n,overColumn:"_right_"}),r[15]=n,r[16]=N,r[17]=E):E=r[17];let O=!i,P;r[18]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)(Sn,{className:"size-4"}),r[18]=P):P=r[18];let D;r[19]!==O||r[20]!==E?(D=(0,l.jsx)(te,{content:"Move column right",side:"top",delayDuration:300,children:(0,l.jsx)(oe,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",onClick:E,disabled:O,children:P})}),r[19]=O,r[20]=E,r[21]=D):D=r[21];let M;r[22]===Symbol.for("react.memo_cache_sentinel")?(M=(0,l.jsx)(z1,{className:"size-4 opacity-0 group-hover:opacity-50 transition-opacity duration-200"}),r[22]=M):M=r[22];let T;r[23]!==u||r[24]!==m?(T=(0,l.jsx)("div",{className:"flex gap-2 h-full grow cursor-grab active:cursor-grabbing items-center justify-center","data-testid":"column-drag-spacer",...u,...m,children:M}),r[23]=u,r[24]=m,r[25]=T):T=r[25];let L;r[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,l.jsx)(ht,{asChild:!0,children:(0,l.jsx)(oe,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",children:(0,l.jsx)(In,{className:"size-4"})})}),r[26]=L):L=r[26];let A;r[27]!==n||r[28]!==_?(A=()=>_({columnId:n}),r[27]=n,r[28]=_,r[29]=A):A=r[29];let q=!a,X;r[30]===Symbol.for("react.memo_cache_sentinel")?(X=(0,l.jsx)($e,{className:"mr-2 size-4"}),r[30]=X):X=r[30];let K;r[31]!==A||r[32]!==q?(K=(0,l.jsxs)(ft,{children:[L,(0,l.jsx)(pt,{align:"end",children:(0,l.jsxs)(Cr,{onClick:A,disabled:q,children:[X,"Delete column"]})})]}),r[31]=A,r[32]=q,r[33]=K):K=r[33];let $;r[34]!==C||r[35]!==n?($=()=>{C({columnId:n}),requestAnimationFrame(I)},r[34]=C,r[35]=n,r[36]=$):$=r[36];let Q;r[37]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,l.jsx)(zn,{className:"size-4"}),r[37]=Q):Q=r[37];let B;r[38]===$?B=r[39]:(B=(0,l.jsx)(te,{content:"Add column",side:"top",delayDuration:300,children:(0,l.jsx)(oe,{variant:"text",size:"xs",className:"hover:bg-(--gray-3) aspect-square p-0 w-7 h-7",onClick:$,children:Q})}),r[38]=$,r[39]=B);let le;r[40]!==D||r[41]!==T||r[42]!==K||r[43]!==B||r[44]!==z?(le=(0,l.jsxs)("div",{className:"px-2 pt-3 pb-0 group flex items-center rounded-t-lg overflow-hidden",children:[z,D,T,K,B]}),r[40]=D,r[41]=T,r[42]=K,r[43]=B,r[44]=z,r[45]=le):le=r[45];let F=le,G;r[46]!==e||r[47]!==h?(G=se=>{bs(e,h)(se)},r[46]=e,r[47]=h,r[48]=G):G=r[48];let Y=V(g?"":c.className,g?"z-20":"z-1 hover:z-10 focus-within:z-10",x&&"bg-accent/20"),J;r[49]!==F||r[50]!==c.children?(J=(0,l.jsxs)("div",{className:"bg-(--slate-1) rounded-lg",children:[F,c.children]}),r[49]=F,r[50]=c.children,r[51]=J):J=r[51];let ee;return r[52]!==o||r[53]!==g||r[54]!==c||r[55]!==w||r[56]!==G||r[57]!==Y||r[58]!==J?(ee=(0,l.jsxs)("div",{tabIndex:-1,ref:G,...c,style:w,"data-is-dragging":g,className:Y,children:[J,o]}),r[52]=o,r[53]=g,r[54]=c,r[55]=w,r[56]=G,r[57]=Y,r[58]=J,r[59]=ee):ee=r[59],ee});Na.displayName="SortableColumn";const gu=(0,v.memo)(Na);function vu(){let t=document.getElementById("App");t&&t.scrollTo({left:t.scrollLeft+1e3,behavior:"smooth"})}var Ca=W(H(),1),{getColumnWidth:bu,saveColumnWidth:yu}=T0;const ka=(0,v.memo)(t=>{let e=(0,Ca.c)(20),r=(0,v.useRef)(null);if(t.width==="columns"){let s=t.canDelete,i=t.columnId,o=t.canMoveLeft,c=t.canMoveRight,d=t.footer,u;e[0]===t.index?u=e[1]:(u=bu(t.index),e[0]=t.index,e[1]=u);let m;e[2]===t.index?m=e[3]:(m=f=>{yu(t.index,f)},e[2]=t.index,e[3]=m);let h;e[4]!==t.children||e[5]!==u||e[6]!==m?(h=(0,l.jsx)(ju,{startingWidth:u,onResize:m,children:t.children}),e[4]=t.children,e[5]=u,e[6]=m,e[7]=h):h=e[7];let p;return e[8]!==t.canDelete||e[9]!==t.canMoveLeft||e[10]!==t.canMoveRight||e[11]!==t.columnId||e[12]!==t.footer||e[13]!==h?(p=(0,l.jsx)(gu,{tabIndex:-1,ref:r,canDelete:s,columnId:i,canMoveLeft:o,canMoveRight:c,className:"group/column",footer:d,children:h}),e[8]=t.canDelete,e[9]=t.canMoveLeft,e[10]=t.canMoveRight,e[11]=t.columnId,e[12]=t.footer,e[13]=h,e[14]=p):p=e[14],p}let n;e[15]===t.children?n=e[16]:(n=(0,l.jsx)("div",{"data-testid":"cell-column",className:"flex flex-col gap-5",children:t.children}),e[15]=t.children,e[16]=n);let a;return e[17]!==t.footer||e[18]!==n?(a=(0,l.jsxs)(l.Fragment,{children:[n,t.footer]}),e[17]=t.footer,e[18]=n,e[19]=a):a=e[19],a});ka.displayName="Column";var ju=t=>{let e=(0,Ca.c)(15),{startingWidth:r,onResize:n,children:a}=t,s;e[0]!==n||e[1]!==r?(s={startingWidth:r,onResize:n},e[0]=n,e[1]=r,e[2]=s):s=e[2];let{resizableDivRef:i,handleRefs:o,style:c}=n1(s),d=wu,u;e[3]===o.left?u=e[4]:(u=d(o.left),e[3]=o.left,e[4]=u);let m;e[5]!==a||e[6]!==i||e[7]!==c?(m=(0,l.jsx)("div",{ref:i,className:"flex flex-col gap-5 box-content min-h-[100px] px-11 pt-3 pb-6 min-w-[500px] z-1",style:c,children:a}),e[5]=a,e[6]=i,e[7]=c,e[8]=m):m=e[8];let h;e[9]===o.right?h=e[10]:(h=d(o.right),e[9]=o.right,e[10]=h);let p;return e[11]!==u||e[12]!==m||e[13]!==h?(p=(0,l.jsxs)("div",{className:"flex flex-row",children:[u,m,h]}),e[11]=u,e[12]=m,e[13]=h,e[14]=p):p=e[14],p};function wu(t){return(0,l.jsx)("div",{ref:t,className:`w-[3px] cursor-col-resize transition-colors duration-200 z-100
          relative before:content-[''] before:absolute before:inset-y-0 before:-left-[3px]
          before:right-[-3px] before:w-[9px] before:z-[-1]
          hover/column:bg-[var(--slate-3)] dark:hover/column:bg-[var(--slate-5)]
          hover/column:hover:bg-primary/60 dark:hover/column:hover:bg-primary/60`})}var Sa=W(H(),1);const _u=t=>{let e=(0,Sa.c)(10),{width:r}=t,{banners:n}=fp(),{removeBanner:a}=vp();if(n.length===0)return null;let s=r==="columns"&&"sticky left-12 w-full max-w-[80vw]",i;e[0]===s?i=e[1]:(i=V("flex flex-col gap-4 mb-5 print:hidden",s),e[0]=s,e[1]=i);let o;if(e[2]!==n||e[3]!==a){let d;e[5]===a?d=e[6]:(d=u=>(0,l.jsxs)(zt,{kind:u.variant||"info",className:"flex flex-col rounded p-3",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)("span",{className:"font-bold text-lg flex items-center mb-2",children:[(0,l.jsx)(on,{className:"w-5 h-5 inline-block mr-2"}),u.title]}),(0,l.jsx)(oe,{"data-testid":"remove-banner-button",variant:"text",size:"icon",onClick:()=>a(u.id),children:(0,l.jsx)($e,{className:"w-5 h-5"})})]}),(0,l.jsxs)("div",{className:"flex justify-between items-end",children:[(0,l.jsx)("span",{children:of({html:u.description})}),u.action==="restart"&&(0,l.jsx)(Nu,{})]})]},u.id),e[5]=a,e[6]=d),o=n.map(d),e[2]=n,e[3]=a,e[4]=o}else o=e[4];let c;return e[7]!==i||e[8]!==o?(c=(0,l.jsx)("div",{className:i,children:o}),e[7]=i,e[8]=o,e[9]=c):c=e[9],c};var Nu=()=>{let t=(0,Sa.c)(3),e=vh(),r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)(kp,{className:"w-3 h-3 mr-2"}),t[0]=r):r=t[0];let n;return t[1]===e?n=t[2]:(n=(0,l.jsxs)(oe,{"data-testid":"restart-session-button",variant:"link",size:"xs",onClick:e,children:[r,"Restart"]}),t[1]=e,t[2]=n),n},Cu=W(H(),1),ku=ur(t=>{let e=t(un);for(let r of e.cellIds.inOrderIds){let n=e.cellRuntime[r];if(n.status==="idle"&&n.consoleOutputs.some(a=>a.channel==="stdin"&&a.response===void 0))return!0}return!1});const Su=()=>{let t=(0,Cu.c)(3),e=Z(ku),r=Iu;if(!e)return null;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)("div",{className:"flex justify-between",children:(0,l.jsx)("span",{className:"font-bold text-lg flex items-center mb-1",children:"Program waiting for input"})}),t[0]=n):n=t[0];let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(uf,{className:"inline",children:"stdin"}),t[1]=a):a=t[1];let s;return t[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)(yn,{milliseconds:2e3,children:(0,l.jsx)("div",{className:"flex flex-col gap-4 mb-5 fixed top-5 left-1/2 transform -translate-x-1/2 z-200 opacity-95",children:(0,l.jsxs)(zt,{kind:"info",className:"flex flex-col rounded py-2 px-4 animate-in slide-in-from-top w-fit",children:[n,(0,l.jsx)("div",{className:"flex flex-col gap-4 justify-between items-start text-muted-foreground text-base",children:(0,l.jsx)("div",{children:(0,l.jsxs)("p",{children:["The program is still running, but blocked on"," ",a,".",(0,l.jsx)(oe,{variant:"link",className:"h-auto font-normal",onClick:r,children:"Jump to the cell"})]})})})]})})}),t[2]=s):s=t[2],s};function Iu(){let t=document.querySelector("[data-stdin-blocking]");t?(t.scrollIntoView({behavior:"smooth",block:"center"}),requestAnimationFrame(()=>{t.focus()})):Ve.error("No element with data-stdin-blocking found")}function Ru(){os(Eu)}function Eu(){let t=setTimeout(zu,100);return()=>clearTimeout(t)}function zu(){requestAnimationFrame(Du)}function Du(){let t=window.location.hash,e=uh(t);if(e)Mu(e);else try{Ia()}catch(r){let n=r;Ve.warn("Error focusing first editor",n)}}function Ia(){var n,a;let{cellIds:t,cellData:e,cellHandles:r}=gr();for(let s of t.iterateTopLevelIds){let i=r[s];if(!((n=e[s])!=null&&n.config.hide_code)&&((a=i==null?void 0:i.current)!=null&&a.editorView)){i.current.editorView.focus();return}}}var Ra=!1;function Mu(t){var r,n;if(Ra)return;let e=document.querySelector(`[data-cell-name="${t}"]`);if(e){if(e.scrollIntoView({behavior:"smooth",block:"start"}),Ra=!0,e instanceof HTMLElement){e.focus();let{cellHandles:a}=gr(),s=e.dataset.cellId;if(!s){Ve.error(`Missing cellId for cell with name ${t}`);return}let i=(n=(r=a[s])==null?void 0:r.current)==null?void 0:n.editorView;i&&i.focus()}}else Ve.warn(`Cannot focus cell with name ${t} because it was not found`),Ia()}var dr=W(H(),1);const Ou=t=>{let e=(0,dr.c)(8),r=Z(F0),n=t.appConfig.width==="columns",a;e[0]===t?a=e[1]:(a=(0,l.jsx)(Tu,{...t}),e[0]=t,e[1]=a);let s;e[2]!==r||e[3]!==a?(s=(0,l.jsx)(jl,{"data-testid":"column-container",items:r,strategy:ic,children:a}),e[2]=r,e[3]=a,e[4]=s):s=e[4];let i;return e[5]!==n||e[6]!==s?(i=(0,l.jsx)(iu,{multiColumn:n,children:s}),e[5]=n,e[6]=s,e[7]=i):i=e[7],i};var Tu=t=>{let e=(0,dr.c)(28),{mode:r,userConfig:n,appConfig:a}=t,s=We(),{theme:i}=V1(),{toggleSidebarPanel:o}=hr();Ru(),Re("global.focusTop",s.focusTopCell),Re("global.focusBottom",s.focusBottomCell),Re("global.toggleSidebar",o),Re("global.foldCode",s.foldAll),Re("global.unfoldCode",s.unfoldAll),Re("global.formatAll",Lu),Re("cell.hideCode",St.NOOP),Re("cell.format",St.NOOP);let c=dn(),d=I0(),u=c.getColumnIds(),m=s.scrollToTarget,h;e[0]!==d||e[1]!==m?(h=()=>{d!==null&&m()},e[0]=d,e[1]=m,e[2]=h):h=e[2];let p;e[3]!==c||e[4]!==d||e[5]!==m?(p=[c,d,m],e[3]=c,e[4]=d,e[5]=m,e[6]=p):p=e[6],(0,v.useEffect)(h,p);let f=B1,g,x,b,y;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,l.jsx)(Bd,{}),x=(0,l.jsx)(wc,{}),b=(0,l.jsx)(Su,{}),y=(0,l.jsx)(fu,{}),e[7]=g,e[8]=x,e[9]=b,e[10]=y):(g=e[7],x=e[8],b=e[9],y=e[10]);let j;e[11]===a.width?j=e[12]:(j=(0,l.jsx)(_u,{width:a.width}),e[11]=a.width,e[12]=j);let w=a.width==="columns"&&"grid grid-flow-col auto-cols-min gap-6",_;e[13]===w?_=e[14]:(_=V(w),e[13]=w,e[14]=_);let N=u.map((k,S)=>(0,l.jsx)(Au,{columnId:k,index:S,columnsLength:u.length,appConfig:a,mode:r,userConfig:n,theme:i},k)),C;e[15]!==_||e[16]!==N?(C=(0,l.jsx)("div",{className:_,children:N}),e[15]=_,e[16]=N,e[17]=C):C=e[17];let I;e[18]===Symbol.for("react.memo_cache_sentinel")?(I=(0,l.jsx)(If,{}),e[18]=I):I=e[18];let R;return e[19]!==f||e[20]!==a||e[21]!==j||e[22]!==C||e[23]!==g||e[24]!==x||e[25]!==b||e[26]!==y?(R=(0,l.jsxs)(f,{className:"pb-[40vh]",invisible:!1,appConfig:a,innerClassName:"pr-4",children:[g,x,b,y,j,C,I]}),e[19]=f,e[20]=a,e[21]=j,e[22]=C,e[23]=g,e[24]=x,e[25]=b,e[26]=y,e[27]=R):R=e[27],R},Au=t=>{let e=(0,dr.c)(54),{columnId:r,index:n,columnsLength:a,appConfig:s,mode:i,userConfig:o,theme:c}=t,d=dn(),u,m,h,p,f,g,x,b,y,j,w,_,N,C;if(e[0]!==s.width||e[1]!==d||e[2]!==r||e[3]!==a||e[4]!==n||e[5]!==i||e[6]!==c||e[7]!==o){let k=d.get(r);$t(k,`Expected column for: ${r}`);let S;e[22]===d?S=e[23]:(S=d.hasOnlyOneId(),e[22]=d,e[23]=S);let z=S,E;e[24]===d.inOrderIds?E=e[25]:(E=d.inOrderIds.includes(Y0),e[24]=d.inOrderIds,e[25]=E);let O=E;m=ka,w=r,_=n,N=n>0,C=n<a-1,p=s.width,f=a>1;let P=s.width==="columns"&&"opacity-0 group-hover/column:opacity-100",D;e[26]===P?D=e[27]:(D=V(P),e[26]=P,e[27]=D),e[28]!==r||e[29]!==D?(g=(0,l.jsx)(Pu,{columnId:r,className:D}),e[28]=r,e[29]=D,e[30]=g):g=e[30],u=jl,h=`column-${n+1}`,x=k.topLevelIds,b=cc,e[31]!==O||e[32]!==n||e[33]!==i||e[34]!==c||e[35]!==o?(y=n===0&&O&&(0,l.jsx)(ba,{cellId:"setup",theme:c,showPlaceholder:!1,canDelete:!0,mode:i,userConfig:o,isCollapsed:!1,collapseCount:0,canMoveX:!1},"setup"),e[31]=O,e[32]=n,e[33]=i,e[34]=c,e[35]=o,e[36]=y):y=e[36],j=k.topLevelIds.map(M=>M==="setup"?null:(0,l.jsx)(ba,{cellId:M,theme:c,showPlaceholder:z,canDelete:!z,mode:i,userConfig:o,isCollapsed:k.isCollapsed(M),collapseCount:k.getCount(M),canMoveX:s.width==="columns"},M)),e[0]=s.width,e[1]=d,e[2]=r,e[3]=a,e[4]=n,e[5]=i,e[6]=c,e[7]=o,e[8]=u,e[9]=m,e[10]=h,e[11]=p,e[12]=f,e[13]=g,e[14]=x,e[15]=b,e[16]=y,e[17]=j,e[18]=w,e[19]=_,e[20]=N,e[21]=C}else u=e[8],m=e[9],h=e[10],p=e[11],f=e[12],g=e[13],x=e[14],b=e[15],y=e[16],j=e[17],w=e[18],_=e[19],N=e[20],C=e[21];let I;e[37]!==u||e[38]!==h||e[39]!==x||e[40]!==b||e[41]!==y||e[42]!==j?(I=(0,l.jsxs)(u,{id:h,items:x,strategy:b,children:[y,j]}),e[37]=u,e[38]=h,e[39]=x,e[40]=b,e[41]=y,e[42]=j,e[43]=I):I=e[43];let R;return e[44]!==m||e[45]!==p||e[46]!==f||e[47]!==g||e[48]!==I||e[49]!==w||e[50]!==_||e[51]!==N||e[52]!==C?(R=(0,l.jsx)(m,{columnId:w,index:_,canMoveLeft:N,canMoveRight:C,width:p,canDelete:f,footer:g,children:I}),e[44]=m,e[45]=p,e[46]=f,e[47]=g,e[48]=I,e[49]=w,e[50]=_,e[51]=N,e[52]=C,e[53]=R):R=e[53],R},Pu=t=>{let e=(0,dr.c)(18),{columnId:r,className:n}=t,{createNewCell:a}=We(),[s,i]=nh(!1),o=Z(ls),c=Z(ss),d;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=V("mb-0 rounded-none sm:px-4 md:px-5 lg:px-8 tracking-wide no-wrap whitespace-nowrap","hover:bg-accent hover:text-accent-foreground font-semibold uppercase text-xs"),e[0]=d):d=e[0];let u=d,m;e[1]!==o||e[2]!==r||e[3]!==a||e[4]!==s||e[5]!==i.toggle||e[6]!==c?(m=()=>s?(0,l.jsx)(Y1,{onClose:i.toggle}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(oe,{className:u,variant:"text",size:"sm",disabled:!c,onClick:()=>a({cellId:{type:"__end__",columnId:r},before:!1}),children:[(0,l.jsx)(Gs,{className:"mr-2 size-4 shrink-0"}),"Python"]}),(0,l.jsxs)(oe,{className:u,variant:"text",size:"sm",disabled:!c,onClick:()=>{zr({autoInstantiate:!0,createNewCell:a}),a({cellId:{type:"__end__",columnId:r},before:!1,code:pr.markdown.defaultCode,hideCode:!0})},children:[(0,l.jsx)(Xs,{className:"mr-2 size-4 shrink-0"}),"Markdown"]}),(0,l.jsxs)(oe,{className:u,variant:"text",size:"sm",disabled:!c,onClick:()=>{zr({autoInstantiate:!0,createNewCell:a}),a({cellId:{type:"__end__",columnId:r},before:!1,code:pr.sql.defaultCode})},children:[(0,l.jsx)(Ba,{className:"mr-2 size-4 shrink-0"}),"SQL"]}),(0,l.jsx)(te,{content:o?null:(0,l.jsx)("span",{children:"Enable via settings under AI Assist"}),delayDuration:100,asChild:!1,children:(0,l.jsxs)(oe,{className:u,variant:"text",size:"sm",disabled:!o||!c,onClick:i.toggle,children:[(0,l.jsx)(Sr,{className:"mr-2 size-4 shrink-0"}),"Generate with AI"]})})]}),e[1]=o,e[2]=r,e[3]=a,e[4]=s,e[5]=i.toggle,e[6]=c,e[7]=m):m=e[7];let h=m,p=!s&&"w-fit",f=s&&"w-full max-w-4xl shadow-lg shadow-(color:--blue-3)",g=s&&"opacity-100",x;e[8]!==n||e[9]!==p||e[10]!==f||e[11]!==g?(x=V("shadow-sm border border-border rounded transition-all duration-200 overflow-hidden divide-x divide-border flex",p,f,n,g),e[8]=n,e[9]=p,e[10]=f,e[11]=g,e[12]=x):x=e[12];let b;e[13]===h?b=e[14]:(b=h(),e[13]=h,e[14]=b);let y;return e[15]!==x||e[16]!==b?(y=(0,l.jsx)("div",{className:"flex justify-center mt-4 pt-6 pb-32 group gap-4 w-full print:hidden",children:(0,l.jsx)("div",{className:x,children:b})}),e[15]=x,e[16]=b,e[17]=y):y=e[17],y};function Lu(){A0()}var Fu=r1(t=>T1().syncCellIds(t),400);const Wu={onCellIdsChange:(t,e)=>{dt.get(Qp)||t.isEmpty()||e.isEmpty()||v0(t.inOrderIds,e.inOrderIds)||Fu({cell_ids:t.inOrderIds})}};var Vu=W(H(),1);const Ea=t=>{let e=(0,Vu.c)(70),{userConfig:r,appConfig:n,hideControls:a}=t,s=a===void 0?!1:a;b0(Ua,Wu.onCellIdsChange);let{setCells:i,mergeAllColumns:o,collapseAllCells:c,expandAllCells:d}=We(),u=Z(Jp),m=Z(j0),h=Z(L0),p=gf(),f=Nt(np),{sendComponentValues:g,sendInterrupt:x}=Ze(),b=u.mode==="edit",y=u.mode==="present",j=Z(O0),w;e[0]===g?w=e[1]:(w=()=>(ws.INSTANCE.start(g),Bu),e[0]=g,e[1]=w);let _;e[2]===Symbol.for("react.memo_cache_sentinel")?(_=[],e[2]=_):_=e[2],(0,v.useEffect)(w,_);let N=r.runtime.auto_instantiate,C;e[3]!==i||e[4]!==f?(C=(ce,ve)=>{i(ce),f({names:ce.map(Hu),codes:ce.map(qu),configs:ce.map($u),layout:ve})},e[3]=i,e[4]=f,e[5]=C):C=e[5];let I;e[6]===Symbol.for("react.memo_cache_sentinel")?(I=_1(),e[6]=I):I=e[6];let R;e[7]!==C||e[8]!==r.runtime.auto_instantiate?(R={autoInstantiate:N,setCells:C,sessionId:I},e[7]=C,e[8]=r.runtime.auto_instantiate,e[9]=R):R=e[9];let{connection:k}=gp(R),S,z;e[10]!==n.app_title||e[11]!==p?(S=()=>{document.title=n.app_title||Ha.basename(p??"")||"Untitled Notebook"},z=[n.app_title,p],e[10]=n.app_title,e[11]=p,e[12]=S,e[13]=z):(S=e[12],z=e[13]),(0,v.useEffect)(S,z);let E=br(n.width),O;e[14]!==n.width||e[15]!==o||e[16]!==E?(O=()=>{E==="columns"&&n.width!=="columns"&&o()},e[14]=n.width,e[15]=o,e[16]=E,e[17]=O):O=e[17];let P;e[18]!==n.width||e[19]!==o||e[20]!==m||e[21]!==E?(P=[n.width,E,o,m],e[18]=n.width,e[19]=o,e[20]=m,e[21]=E,e[22]=P):P=e[22],(0,v.useEffect)(O,P);let D=cf(),M=df(),T=bh(),L;e[23]===D?L=e[24]:(L=()=>{D()},e[23]=D,e[24]=L),Re("global.runStale",L);let A;e[25]===x?A=e[26]:(A=()=>{x()},e[25]=x,e[26]=A),Re("global.interrupt",A);let q;e[27]===T?q=e[28]:(q=()=>{T()},e[27]=T,e[28]=q),Re("global.hideCode",q);let X;e[29]===M?X=e[30]:(X=()=>{M()},e[29]=M,e[30]=X),Re("global.runAll",X);let K;e[31]===c?K=e[32]:(K=()=>{c()},e[31]=c,e[32]=K),Re("global.collapseAllSections",K);let $;e[33]===d?$=e[34]:($=()=>{d()},e[33]=d,e[34]=$),Re("global.expandAllSections",$);let Q;e[35]!==n||e[36]!==r||e[37]!==u.mode?(Q=(0,l.jsx)(Ou,{mode:u.mode,userConfig:r,appConfig:n}),e[35]=n,e[36]=r,e[37]=u.mode,e[38]=Q):Q=e[38];let B=Q,le=n.width,F;e[39]===Symbol.for("react.memo_cache_sentinel")?(F=V("pt-4 sm:pt-12 pb-2 mb-4 print:hidden z-50","sticky left-0"),e[39]=F):F=e[39];let G;e[40]!==p||e[41]!==b?(G=b&&(0,l.jsx)("div",{className:"flex items-center justify-center container",children:(0,l.jsx)(Ni,{filename:p})}),e[40]=p,e[41]=b,e[42]=G):G=e[42];let Y;e[43]!==k||e[44]!==G?(Y=(0,l.jsx)(xp,{connection:k,className:F,children:G}),e[43]=k,e[44]=G,e[45]=Y):Y=e[45];let J;e[46]!==n||e[47]!==B||e[48]!==h||e[49]!==u.mode?(J=h&&(0,l.jsx)(cp,{appConfig:n,mode:u.mode,children:B}),e[46]=n,e[47]=B,e[48]=h,e[49]=u.mode,e[50]=J):J=e[50];let ee;e[51]!==n.width||e[52]!==k||e[53]!==j||e[54]!==Y||e[55]!==J?(ee=(0,l.jsxs)(up,{connection:k,isRunning:j,width:le,children:[Y,J]}),e[51]=n.width,e[52]=k,e[53]=j,e[54]=Y,e[55]=J,e[56]=ee):ee=e[56];let se;e[57]===Symbol.for("react.memo_cache_sentinel")?(se=(0,l.jsx)(Oi,{}),e[57]=se):se=e[57];let ae;e[58]!==n||e[59]!==k||e[60]!==s||e[61]!==y||e[62]!==j||e[63]!==D||e[64]!==x||e[65]!==T?(ae=!s&&(0,l.jsx)(Ir,{children:(0,l.jsx)(vi,{presenting:y,onTogglePresenting:T,onInterrupt:x,onRun:D,connectionState:k.state,running:j,appConfig:n})}),e[58]=n,e[59]=k,e[60]=s,e[61]=y,e[62]=j,e[63]=D,e[64]=x,e[65]=T,e[66]=ae):ae=e[66];let de;return e[67]!==ee||e[68]!==ae?(de=(0,l.jsxs)(l.Fragment,{children:[ee,se,ae]}),e[67]=ee,e[68]=ae,e[69]=de):de=e[69],de};function Bu(){ws.INSTANCE.stop()}function Hu(t){return t.name}function qu(t){return t.code}function $u(t){return t.config}const za=t=>Z(E0)[t.capability]?t.children:null;var Uu=W(H(),1);const Ae=(0,v.forwardRef)((t,e)=>{let r=(0,Uu.c)(18),n,a,s,i,o;r[0]===t?(n=r[1],a=r[2],s=r[3],i=r[4],o=r[5]):({children:n,tooltip:o,selected:i,className:a,...s}=t,r[0]=t,r[1]=n,r[2]=a,r[3]=s,r[4]=i,r[5]=o);let c=!i&&"hover:bg-(--sage-3)",d=i&&"bg-(--sage-4)",u;r[6]!==a||r[7]!==c||r[8]!==d?(u=V("h-full flex items-center p-2 text-sm shadow-inset font-mono cursor-pointer rounded",c,d,a),r[6]=a,r[7]=c,r[8]=d,r[9]=u):u=r[9];let m;r[10]!==n||r[11]!==e||r[12]!==s||r[13]!==u?(m=(0,l.jsx)("div",{ref:e,className:u,...s,children:n}),r[10]=n,r[11]=e,r[12]=s,r[13]=u,r[14]=m):m=r[14];let h=m;if(o){let p;return r[15]!==h||r[16]!==o?(p=(0,l.jsx)(te,{content:o,side:"top",delayDuration:200,children:h}),r[15]=h,r[16]=o,r[17]=p):p=r[17],p}return h});Ae.displayName="FooterItem";var Ku=W(H(),1);const Gu=()=>{var p,f;let t=(0,Ku.c)(17),e=Z(b1),r=Z(ls),n=((p=e==null?void 0:e.models)==null?void 0:p.chat_model)||"openai/gpt-4o",a=((f=e==null?void 0:e.models)==null?void 0:f.edit_model)||n,{handleClick:s}=us();if(!r){let g;t[0]===s?g=t[1]:(g=()=>s("ai"),t[0]=s,t[1]=g);let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)(Sr,{className:"h-4 w-4 opacity-60"}),t[2]=x):x=t[2];let b;return t[3]===g?b=t[4]:(b=(0,l.jsx)(Ae,{tooltip:"Assist is disabled",selected:!1,onClick:g,"data-testid":"footer-ai-disabled",children:x}),t[3]=g,t[4]=b),b}let i;t[5]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("b",{children:"Chat model:"}),t[5]=i):i=t[5];let o,c;t[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)("br",{}),c=(0,l.jsx)("b",{children:"Edit model:"}),t[6]=o,t[7]=c):(o=t[6],c=t[7]);let d;t[8]!==n||t[9]!==a?(d=(0,l.jsxs)(l.Fragment,{children:[i," ",n,o,c," ",a]}),t[8]=n,t[9]=a,t[10]=d):d=t[10];let u;t[11]===s?u=t[12]:(u=()=>s("ai"),t[11]=s,t[12]=u);let m;t[13]===Symbol.for("react.memo_cache_sentinel")?(m=(0,l.jsx)(Sr,{className:"h-4 w-4"}),t[13]=m):m=t[13];let h;return t[14]!==d||t[15]!==u?(h=(0,l.jsx)(Ae,{tooltip:d,onClick:u,selected:!1,"data-testid":"footer-ai-enabled",children:m}),t[14]=d,t[15]=u,t[16]=h):h=t[16],h};var Xu=W(H(),1),Yu=3e4;const Ju=()=>{let t=(0,Xu.c)(26),e=Z(Rt).state,r=w1(),n,a;t[0]!==e||t[1]!==r?(n=async()=>{if(e===at.OPEN){if(It())return{isHealthy:!0,lastChecked:new Date,error:void 0};try{return{isHealthy:await r.isHealthy(),lastChecked:new Date,error:void 0}}catch(w){let _=w;return{isHealthy:!1,lastChecked:new Date,error:_ instanceof Error?_.message:"Unknown error"}}}},a=[r,e],t[0]=e,t[1]=r,t[2]=n,t[3]=a):(n=t[2],a=t[3]);let{isFetching:s,error:i,data:o,refetch:c}=An(n,a),d=e===at.OPEN?Yu:null,u;t[4]===d?u=t[5]:(u={delayMs:d,whenVisible:!0},t[4]=d,t[5]=u),Ls(c,u);let m;t[6]!==e||t[7]!==o||t[8]!==i?(m=()=>[t1(e.toLowerCase()),o!=null&&o.lastChecked?o.isHealthy?"\u2713 Healthy":"\u2717 Unhealthy":"Health: Unknown",i?`Error: ${i}`:""].filter(Boolean).join(`
`),t[6]=e,t[7]=o,t[8]=i,t[9]=m):m=t[9];let h=m,p;t[10]!==e||t[11]!==(o==null?void 0:o.isHealthy)||t[12]!==(o==null?void 0:o.lastChecked)||t[13]!==s?(p=()=>s||e===at.CONNECTING?(0,l.jsx)(kr,{size:"small"}):e===at.CLOSING?(0,l.jsx)(kr,{className:"text-destructive",size:"small"}):e===at.OPEN?o!=null&&o.isHealthy?(0,l.jsx)(ms,{className:"w-4 h-4 text-(--green-9)"}):o!=null&&o.lastChecked?(0,l.jsx)(on,{className:"w-4 h-4 text-(--yellow-9)"}):(0,l.jsx)(ms,{className:"w-4 h-4"}):(0,l.jsx)(Xt,{className:"w-4 h-4 text-red-500"}),t[10]=e,t[11]=o==null?void 0:o.isHealthy,t[12]=o==null?void 0:o.lastChecked,t[13]=s,t[14]=p):p=t[14];let f=p,g=h(),x;t[15]===e?x=t[16]:(x=e===at.OPEN&&(0,l.jsx)("div",{className:"mt-2 text-xs text-muted-foreground",children:"Click to refresh health status"}),t[15]=e,t[16]=x);let b;t[17]!==g||t[18]!==x?(b=(0,l.jsxs)("div",{className:"text-sm whitespace-pre-line",children:[g,x]}),t[17]=g,t[18]=x,t[19]=b):b=t[19];let y;t[20]===f?y=t[21]:(y=f(),t[20]=f,t[21]=y);let j;return t[22]!==c||t[23]!==b||t[24]!==y?(j=(0,l.jsx)(Ae,{tooltip:b,selected:!1,onClick:c,"data-testid":"footer-backend-status",children:y}),t[22]=c,t[23]=b,t[24]=y,t[25]=j):j=t[25],j};var Qu=W(H(),1);const Zu=t=>{let e=(0,Qu.c)(3),r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,l.jsx)("path",{d:"M205.28 31.36c14.096 14.88 20.016 35.2 22.512 63.68c6.626 0 12.805 1.47 16.976 7.152l7.792 10.56A17.55 17.55 0 0 1 256 123.2v28.688c-.008 3.704-1.843 7.315-4.832 9.504C215.885 187.222 172.35 208 128 208c-49.066 0-98.19-28.273-123.168-46.608c-2.989-2.189-4.825-5.8-4.832-9.504V123.2c0-3.776 1.2-7.424 3.424-10.464l7.792-10.544c4.173-5.657 10.38-7.152 16.992-7.152c2.496-28.48 8.4-48.8 22.512-63.68C77.331 3.165 112.567.06 127.552 0H128c14.72 0 50.4 2.88 77.28 31.36m-77.264 47.376c-3.04 0-6.544.176-10.272.544c-1.312 4.896-3.248 9.312-6.08 12.128c-11.2 11.2-24.704 12.928-31.936 12.928c-6.802 0-13.927-1.42-19.744-5.088c-5.502 1.808-10.786 4.415-11.136 10.912c-.586 12.28-.637 24.55-.688 36.824c-.026 6.16-.05 12.322-.144 18.488c.024 3.579 2.182 6.903 5.44 8.384C79.936 185.92 104.976 192 128.016 192c23.008 0 48.048-6.08 74.512-18.144c3.258-1.48 5.415-4.805 5.44-8.384c.317-18.418.062-36.912-.816-55.312h.016c-.342-6.534-5.648-9.098-11.168-10.912c-5.82 3.652-12.927 5.088-19.728 5.088c-7.232 0-20.72-1.728-31.936-12.928c-2.832-2.816-4.768-7.232-6.08-12.128a106 106 0 0 0-10.24-.544m-26.941 43.93c5.748 0 10.408 4.66 10.408 10.409v19.183c0 5.749-4.66 10.409-10.408 10.409s-10.408-4.66-10.408-10.409v-19.183c0-5.748 4.66-10.408 10.408-10.408m53.333 0c5.749 0 10.409 4.66 10.409 10.409v19.183c0 5.749-4.66 10.409-10.409 10.409c-5.748 0-10.408-4.66-10.408-10.409v-19.183c0-5.748 4.66-10.408 10.408-10.408M81.44 28.32c-11.2 1.12-20.64 4.8-25.44 9.92c-10.4 11.36-8.16 40.16-2.24 46.24c4.32 4.32 12.48 7.2 21.28 7.2c6.72 0 19.52-1.44 30.08-12.16c4.64-4.48 7.52-15.68 7.2-27.04c-.32-9.12-2.88-16.64-6.72-19.84c-4.16-3.68-13.6-5.28-24.16-4.32m68.96 4.32c-3.84 3.2-6.4 10.72-6.72 19.84c-.32 11.36 2.56 22.56 7.2 27.04c10.56 10.72 23.36 12.16 30.08 12.16c8.8 0 16.96-2.88 21.28-7.2c5.92-6.08 8.16-34.88-2.24-46.24c-4.8-5.12-14.24-8.8-25.44-9.92c-10.56-.96-20 .64-24.16 4.32M128 56c-2.56 0-5.6.16-8.96.48c.32 1.76.48 3.68.64 5.76c0 1.44 0 2.88-.16 4.48c3.2-.32 5.92-.32 8.48-.32s5.28 0 8.48.32c-.16-1.6-.16-3.04-.16-4.48c.16-2.08.32-4 .64-5.76c-3.36-.32-6.4-.48-8.96-.48"}),e[0]=r):r=e[0];let n;return e[1]===t?n=e[2]:(n=(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1.24em",height:"1em",viewBox:"0 0 256 208",fill:"currentColor",...t,children:r}),e[1]=t,e[2]=n),n};var em=W(H(),1),tm=ur(t=>t(v1).completion.copilot);const rm=()=>{let t=(0,em.c)(1);if(Z(tm)==="github"){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)(nm,{}),t[0]=e):e=t[0],e}return null};var Da=Ve.get("[copilot-status-bar]"),nm=()=>{let t=Z(ns),e=Z(d1)!==null,{handleClick:r}=us(),n=()=>r("ai"),a=t?"Ready":"Not connected",s=Nt(ns),i=Nt(u1);return os(()=>{let o=m1(),c=!0;return(async()=>{try{if(await o.initializePromise.catch(u=>{throw Da.error("Failed to initialize",u),o.close(),u}),!c)return;let d=await o.signedIn();if(!c)return;s(d),i(d?"signedIn":"signedOut")}catch(d){if(!c)return;Da.warn("Connection failed",d),s(!1),i("connectionError"),Ut({title:"GitHub Copilot Connection Error",description:"Failed to connect to GitHub Copilot. Check settings and try again.",variant:"danger",action:(0,l.jsx)(oe,{variant:"link",onClick:n,children:"Settings"})})}})(),()=>{c=!1}}),(0,l.jsx)(Ae,{tooltip:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("b",{children:"GitHub Copilot:"})," ",a]}),selected:!1,onClick:n,"data-testid":"footer-copilot-status",children:(0,l.jsx)("span",{children:e?(0,l.jsx)(kr,{className:"h-4 w-4"}):(0,l.jsx)(Zu,{className:V("h-4 w-4",!t&&"opacity-60")})})})},At=W(H(),1);const lm=()=>{let t=(0,At.c)(18),[e,r]=(0,v.useState)(0),n=Z(Rt),{getUsageStats:a}=Ze(),s,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>r(om),i={delayMs:1e4,whenVisible:!0},t[0]=s,t[1]=i):(s=t[0],i=t[1]),Ls(s,i);let o;t[2]!==n.state||t[3]!==a?(o=async()=>It()||n.state!==at.OPEN?null:a(),t[2]=n.state,t[3]=a,t[4]=o):o=t[4];let c;t[5]!==n.state||t[6]!==e?(c=[e,n.state],t[5]=n.state,t[6]=e,t[7]=c):c=t[7];let{data:d}=An(o,c),u;t[8]===d?u=t[9]:(u=(d==null?void 0:d.gpu)&&d.gpu.length>0&&(0,l.jsx)(im,{gpus:d.gpu}),t[8]=d,t[9]=u);let m;t[10]===d?m=t[11]:(m=d&&(0,l.jsx)(am,{memory:d.memory,kernel:d.kernel,server:d.server}),t[10]=d,t[11]=m);let h;t[12]===d?h=t[13]:(h=d&&(0,l.jsx)(sm,{cpu:d.cpu}),t[12]=d,t[13]=h);let p;return t[14]!==u||t[15]!==m||t[16]!==h?(p=(0,l.jsxs)("div",{className:"flex gap-2 items-center px-1",children:[u,m,h]}),t[14]=u,t[15]=m,t[16]=h,t[17]=p):p=t[17],p};var am=t=>{let e=(0,At.c)(36),{memory:r,kernel:n,server:a}=t,{percent:s,total:i,available:o}=r,c;e[0]===s?c=e[1]:(c=Math.round(s),e[0]=s,e[1]=c);let d=c,u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u={maximumFractionDigits:2},e[2]=u):u=e[2];let m=Er(u),h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h={maximumFractionDigits:0},e[3]=h):h=e[3];let p=Er(h),f;e[4]!==m||e[5]!==p?(f=E=>E>1073741824?`${m.format(E/1073741824)} GB`:`${p.format(E/1048576)} MB`,e[4]=m,e[5]=p,e[6]=f):f=e[6];let g=f,x;e[7]===m?x=e[8]:(x=E=>m.format(E/1073741824),e[7]=m,e[8]=x);let b=x,y;e[9]===Symbol.for("react.memo_cache_sentinel")?(y=(0,l.jsx)("b",{children:"computer memory:"}),e[9]=y):y=e[9];let j=i-o,w;e[10]!==b||e[11]!==j?(w=b(j),e[10]=b,e[11]=j,e[12]=w):w=e[12];let _;e[13]!==b||e[14]!==i?(_=b(i),e[13]=b,e[14]=i,e[15]=_):_=e[15];let N;e[16]!==d||e[17]!==w||e[18]!==_?(N=(0,l.jsxs)("span",{children:[y," ",w," /"," ",_," GB (",d,"%)"]}),e[16]=d,e[17]=w,e[18]=_,e[19]=N):N=e[19];let C;e[20]!==g||e[21]!==a?(C=(a==null?void 0:a.memory)&&(0,l.jsxs)("span",{children:[(0,l.jsx)("b",{children:"marimo server:"})," ",g(a.memory)]}),e[20]=g,e[21]=a,e[22]=C):C=e[22];let I;e[23]!==g||e[24]!==n?(I=(n==null?void 0:n.memory)&&(0,l.jsxs)("span",{children:[(0,l.jsx)("b",{children:"kernel:"})," ",g(n.memory)]}),e[23]=g,e[24]=n,e[25]=I):I=e[25];let R;e[26]!==N||e[27]!==C||e[28]!==I?(R=(0,l.jsxs)("div",{className:"flex flex-col gap-1",children:[N,C,I]}),e[26]=N,e[27]=C,e[28]=I,e[29]=R):R=e[29];let k;e[30]===Symbol.for("react.memo_cache_sentinel")?(k=(0,l.jsx)(Bs,{className:"w-4 h-4"}),e[30]=k):k=e[30];let S;e[31]===d?S=e[32]:(S=(0,l.jsxs)("div",{className:"flex items-center gap-1","data-testid":"memory-usage-bar",children:[k,(0,l.jsx)(tn,{percent:d,colorClassName:"bg-primary"})]}),e[31]=d,e[32]=S);let z;return e[33]!==R||e[34]!==S?(z=(0,l.jsx)(te,{delayDuration:200,content:R,children:S}),e[33]=R,e[34]=S,e[35]=z):z=e[35],z},sm=t=>{let e=(0,At.c)(11),{cpu:r}=t,{percent:n}=r,a;e[0]===n?a=e[1]:(a=Math.round(n),e[0]=n,e[1]=a);let s=a,i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)("b",{children:"CPU:"}),e[2]=i):i=e[2];let o;e[3]===s?o=e[4]:(o=(0,l.jsxs)("span",{children:[i," ",s,"%"]}),e[3]=s,e[4]=o);let c;e[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsx)(Z1,{className:"w-4 h-4"}),e[5]=c):c=e[5];let d;e[6]===s?d=e[7]:(d=(0,l.jsxs)("div",{className:"flex items-center gap-1","data-testid":"cpu-bar",children:[c,(0,l.jsx)(tn,{percent:s,colorClassName:"bg-primary"})]}),e[6]=s,e[7]=d);let u;return e[8]!==o||e[9]!==d?(u=(0,l.jsx)(te,{delayDuration:200,content:o,children:d}),e[8]=o,e[9]=d,e[10]=u):u=e[10],u},im=t=>{let e=(0,At.c)(20),{gpus:r}=t,n;e[0]===r?n=e[1]:(n=Math.round(r.reduce(cm,0)/r.length),e[0]=r,e[1]=n);let a=n,s;e[2]===Symbol.for("react.memo_cache_sentinel")?(s={maximumFractionDigits:2},e[2]=s):s=e[2];let i=Er(s),o;e[3]===Symbol.for("react.memo_cache_sentinel")?(o={maximumFractionDigits:0},e[3]=o):o=e[3];let c=Er(o),d;e[4]!==i||e[5]!==c?(d=x=>x>1073741824?`${i.format(x/1073741824)} GB`:`${c.format(x/1048576)} MB`,e[4]=i,e[5]=c,e[6]=d):d=e[6];let u=d,m;if(e[7]!==u||e[8]!==r){let x;e[10]===u?x=e[11]:(x=b=>(0,l.jsxs)("span",{children:[(0,l.jsxs)("b",{children:["GPU ",b.index," (",b.name,"):"]})," ",u(b.memory.used)," / ",u(b.memory.total)," (",Math.round(b.memory.percent),"%)"]},b.index),e[10]=u,e[11]=x),m=r.map(x),e[7]=u,e[8]=r,e[9]=m}else m=e[9];let h;e[12]===m?h=e[13]:(h=(0,l.jsx)("div",{className:"flex flex-col gap-1",children:m}),e[12]=m,e[13]=h);let p;e[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,l.jsx)(qs,{className:"w-4 h-4"}),e[14]=p):p=e[14];let f;e[15]===a?f=e[16]:(f=(0,l.jsxs)("div",{className:"flex items-center gap-1","data-testid":"gpu-bar",children:[p,(0,l.jsx)(tn,{percent:a,colorClassName:"bg-(--grass-9)"})]}),e[15]=a,e[16]=f);let g;return e[17]!==h||e[18]!==f?(g=(0,l.jsx)(te,{delayDuration:200,content:h,children:f}),e[17]=h,e[18]=f,e[19]=g):g=e[19],g},tn=t=>{let e=(0,At.c)(7),{percent:r,colorClassName:n}=t,a;e[0]===n?a=e[1]:(a=V("h-full bg-primary",n),e[0]=n,e[1]=a);let s=`${r}%`,i;e[2]===s?i=e[3]:(i={width:s},e[2]=s,e[3]=i);let o;return e[4]!==a||e[5]!==i?(o=(0,l.jsx)("div",{className:"h-3 w-20 bg-(--slate-4) rounded-lg overflow-hidden border",children:(0,l.jsx)("div",{className:a,style:i})}),e[4]=a,e[5]=i,e[6]=o):o=e[6],o};function om(t){return t+1}function cm(t,e){return t+e.memory.percent}const Ma=ur(!1);function rn(t,e,r=new Set){if(r.has(t))return new Set;r.add(t);let n=new Set;for(let a of e(t)){n.add(a);for(let s of rn(a,e,r))n.add(s)}return n}function dm(t,e){var a,s,i;let r=new Map;for(let o of t)r.set(o,{variables:new Set,parents:new Set,children:new Set});for(let o of Object.values(e))if(o.dataType!=="module")for(let c of o.declaredBy){(a=r.get(c))==null||a.variables.add(o.name);for(let d of o.usedBy)c!==d&&((s=r.get(d))==null||s.parents.add(c),(i=r.get(c))==null||i.children.add(d))}let n={};for(let[o,c]of r.entries())n[o]={parents:c.parents,children:c.children,variables:[...c.variables],ancestors:rn(o,d=>{var u;return((u=r.get(d))==null?void 0:u.parents)??new Set}),descendants:rn(o,d=>{var u;return((u=r.get(d))==null?void 0:u.children)??new Set})};return n}const um=ur(t=>{let e=t(Ua),r=t(z0);return dm(e.inOrderIds,r)});function mm(t,e){return e?t.usedBy.includes(e.id)||t.declaredBy.includes(e.id)?!0:t.declaredBy.some(r=>e.graph.parents.has(r))?t.usedBy.some(r=>e.graph.parents.has(r)):!!t.declaredBy.some(r=>e.graph.children.has(r)):!1}var hm=W(H(),1);const pm=()=>{let t=(0,hm.c)(6),[e,r]=mr(Ma),n;t[0]===r?n=t[1]:(n=()=>r(fm),t[0]=r,t[1]=n);let a;t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(Vs,{className:"h-4 w-4"}),t[2]=a):a=t[2];let s;return t[3]!==e||t[4]!==n?(s=(0,l.jsx)(Ae,{tooltip:"Toggle Minimap",selected:e,onClick:n,"data-testid":"footer-minimap",children:a}),t[3]=e,t[4]=n,t[5]=s):s=t[5],s};function fm(t){return!t}var xm=W(H(),1);const gm=()=>{let t=(0,xm.c)(13),e=Z(Zh),[r,n]=mr(B0),[a,s]=(0,v.useState)(!1);if(!C0()||e==="disabled")return null;let i=e?"Real-time collaboration active":"Connecting to real-time collaboration",o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsx)(Ys,{className:"w-4 h-4"}),t[0]=o):o=t[0];let c;t[1]===i?c=t[2]:(c=(0,l.jsx)(pf,{asChild:!0,children:(0,l.jsx)(Ae,{tooltip:i,selected:!1,"data-testid":"footer-rtc-status",children:o})}),t[1]=i,t[2]=c);let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsx)("h4",{className:"font-medium leading-none",children:"Username"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground",children:"Set your username for real-time collaboration"})]}),t[3]=d):d=t[3];let u;t[4]===n?u=t[5]:(u=p=>n(p.target.value),t[4]=n,t[5]=u);let m;t[6]!==u||t[7]!==r?(m=(0,l.jsx)(ff,{className:"w-80",children:(0,l.jsxs)("div",{className:"space-y-4",children:[d,(0,l.jsx)(Dn,{value:r,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",onChange:u,placeholder:"Enter your username"})]})}),t[6]=u,t[7]=r,t[8]=m):m=t[8];let h;return t[9]!==a||t[10]!==c||t[11]!==m?(h=(0,l.jsxs)(xf,{open:a,onOpenChange:s,children:[c,m]}),t[9]=a,t[10]=c,t[11]=m,t[12]=h):h=t[12],h};var vm=W(H(),1);const bm=t=>{let e=(0,vm.c)(104),{className:r}=t,{saveUserConfig:n}=Ze(),[a,s]=x1(),i=xn()[0],[o,c]=(0,v.useState)(!1),d,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{let re=window.matchMedia("(min-width: 768px)"),U=()=>{re.matches&&c(!1)};return re.addEventListener("change",U),()=>re.removeEventListener("change",U)},u=[],e[0]=d,e[1]=u):(d=e[0],u=e[1]),(0,v.useEffect)(d,u);let m;e[2]!==i||e[3]!==n||e[4]!==s?(m=async re=>{let U={...i,runtime:{...i.runtime,auto_instantiate:re}};await n({config:U}).then(()=>s(U))},e[2]=i,e[3]=n,e[4]=s,e[5]=m):m=e[5];let h=m,p;e[6]!==n||e[7]!==s||e[8]!==a?(p=async re=>{let U={...a,runtime:{...a.runtime,on_cell_change:re?"autorun":"lazy"}};await n({config:U}).then(()=>s(U))},e[6]=n,e[7]=s,e[8]=a,e[9]=p):p=e[9];let f=p,g;e[10]!==n||e[11]!==s||e[12]!==a?(g=async re=>{let U={...a,runtime:{...a.runtime,auto_reload:re}};await n({config:U}).then(()=>s(U))},e[10]=n,e[11]=s,e[12]=a,e[13]=g):g=e[13];let x=g,b;e[14]!==i.runtime.auto_instantiate||e[15]!==i.runtime.auto_reload||e[16]!==i.runtime.on_cell_change?(b=!i.runtime.auto_instantiate&&i.runtime.on_cell_change==="lazy"&&(It()||i.runtime.auto_reload!=="autorun"),e[14]=i.runtime.auto_instantiate,e[15]=i.runtime.auto_reload,e[16]=i.runtime.on_cell_change,e[17]=b):b=e[17];let y=b,j;e[18]===r?j=e[19]:(j=V("flex items-center",r),e[18]=r,e[19]=j);let w=i.runtime.auto_instantiate?"Disable autorun on startup":"Enable autorun on startup",_;e[20]!==i.runtime.auto_instantiate||e[21]!==h?(_=()=>h(!i.runtime.auto_instantiate),e[20]=i.runtime.auto_instantiate,e[21]=h,e[22]=_):_=e[22];let N;e[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsx)("span",{children:"on startup: "}),e[23]=N):N=e[23];let C;e[24]===i.runtime.auto_instantiate?C=e[25]:(C=i.runtime.auto_instantiate?(0,l.jsx)(Ke,{size:14}):(0,l.jsx)(Ue,{size:14}),e[24]=i.runtime.auto_instantiate,e[25]=C);let I=i.runtime.auto_instantiate?"autorun":"lazy",R;e[26]===I?R=e[27]:(R=(0,l.jsx)("span",{children:I}),e[26]=I,e[27]=R);let k;e[28]!==C||e[29]!==R?(k=(0,l.jsxs)("div",{className:"font-prose text-sm flex items-center gap-1 whitespace-nowrap",children:[N,C,R]}),e[28]=C,e[29]=R,e[30]=k):k=e[30];let S;e[31]!==k||e[32]!==w||e[33]!==_?(S=(0,l.jsx)(Et,{name:"runtime.auto_instantiate",children:(0,l.jsx)(Ae,{tooltip:w,selected:!1,onClick:_,"data-testid":"footer-autorun-startup",children:k})}),e[31]=k,e[32]=w,e[33]=_,e[34]=S):S=e[34];let z;e[35]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)("div",{className:"border-r border-border h-6 mx-1"}),e[35]=z):z=e[35];let E=i.runtime.on_cell_change==="autorun"?"Disable autorun":"Enable autorun",O;e[36]!==i.runtime.on_cell_change||e[37]!==f?(O=()=>f(i.runtime.on_cell_change!=="autorun"),e[36]=i.runtime.on_cell_change,e[37]=f,e[38]=O):O=e[38];let P;e[39]===Symbol.for("react.memo_cache_sentinel")?(P=(0,l.jsx)("span",{children:"on cell change: "}),e[39]=P):P=e[39];let D;e[40]===i.runtime.on_cell_change?D=e[41]:(D=(0,l.jsxs)("div",{className:"font-prose text-sm flex items-center gap-1 whitespace-nowrap",children:[P,i.runtime.on_cell_change==="autorun"?(0,l.jsx)(Ke,{size:14}):(0,l.jsx)(Ue,{size:14}),(0,l.jsx)("span",{children:i.runtime.on_cell_change})]}),e[40]=i.runtime.on_cell_change,e[41]=D);let M;e[42]!==E||e[43]!==O||e[44]!==D?(M=(0,l.jsx)(Et,{name:"runtime.on_cell_change",children:(0,l.jsx)(Ae,{tooltip:E,selected:!1,onClick:O,"data-testid":"footer-autorun-cell-change",children:D})}),e[42]=E,e[43]=O,e[44]=D,e[45]=M):M=e[45];let T;e[46]!==i.runtime.auto_reload||e[47]!==x?(T=!It()&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"border-r border-border h-6 mx-1"}),(0,l.jsx)(Et,{name:"runtime.auto_reload",children:(0,l.jsx)(Ae,{tooltip:null,selected:!1,"data-testid":"footer-module-reload",children:(0,l.jsxs)(ft,{children:[(0,l.jsxs)(ht,{className:"font-prose text-sm flex items-center gap-1 whitespace-nowrap",children:[(0,l.jsx)("span",{children:"on module change: "}),i.runtime.auto_reload==="off"&&(0,l.jsx)(Xt,{size:14}),i.runtime.auto_reload==="lazy"&&(0,l.jsx)(Ue,{size:14}),i.runtime.auto_reload==="autorun"&&(0,l.jsx)(Ke,{size:14}),(0,l.jsx)("span",{children:i.runtime.auto_reload}),(0,l.jsx)(ut,{size:14})]}),(0,l.jsx)(pt,{children:["off","lazy","autorun"].map(re=>(0,l.jsxs)(Cr,{onClick:()=>x(re),children:[re==="off"&&(0,l.jsx)(Xt,{size:14,className:"mr-2 text-muted-foreground"}),re==="lazy"&&(0,l.jsx)(Ue,{size:14,className:"mr-2 text-muted-foreground"}),re==="autorun"&&(0,l.jsx)(Ke,{size:14,className:"mr-2 text-muted-foreground"}),re]},re))})]})})})]}),e[46]=i.runtime.auto_reload,e[47]=x,e[48]=T):T=e[48];let L;e[49]!==S||e[50]!==M||e[51]!==T?(L=(0,l.jsxs)("div",{className:"hidden md:flex md:items-center",children:[S,z,M,T]}),e[49]=S,e[50]=M,e[51]=T,e[52]=L):L=e[52];let A;e[53]===y?A=e[54]:(A=y?(0,l.jsx)(Ue,{size:16,className:"text-muted-foreground"}):(0,l.jsx)(Ke,{size:16,className:"text-amber-500"}),e[53]=y,e[54]=A);let q;e[55]===Symbol.for("react.memo_cache_sentinel")?(q=(0,l.jsx)(ut,{size:14}),e[55]=q):q=e[55];let X;e[56]===A?X=e[57]:(X=(0,l.jsx)(ht,{asChild:!0,children:(0,l.jsx)(Ae,{tooltip:"Runtime reactivity",selected:!1,"data-testid":"footer-runtime-settings",children:(0,l.jsxs)("div",{className:"flex items-center gap-1",children:[A,q]})})}),e[56]=A,e[57]=X);let K,$;e[58]===Symbol.for("react.memo_cache_sentinel")?(K=(0,l.jsx)(Wh,{children:"Runtime reactivity"}),$=(0,l.jsx)(mt,{}),e[58]=K,e[59]=$):(K=e[58],$=e[59]);let Q;e[60]===i.runtime.auto_instantiate?Q=e[61]:(Q=i.runtime.auto_instantiate?(0,l.jsx)(Ke,{size:14,className:"text-amber-500"}):(0,l.jsx)(Ue,{size:14,className:"text-muted-foreground"}),e[60]=i.runtime.auto_instantiate,e[61]=Q);let B;e[62]===Symbol.for("react.memo_cache_sentinel")?(B=(0,l.jsx)("div",{className:"text-sm font-medium",children:"On startup"}),e[62]=B):B=e[62];let le=i.runtime.auto_instantiate?"autorun":"lazy",F;e[63]===le?F=e[64]:(F=(0,l.jsxs)("div",{children:[B,(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:le})]}),e[63]=le,e[64]=F);let G;e[65]!==Q||e[66]!==F?(G=(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[Q,F]}),e[65]=Q,e[66]=F,e[67]=G):G=e[67];let Y;e[68]!==i.runtime.auto_instantiate||e[69]!==h?(Y=(0,l.jsx)(Ps,{checked:i.runtime.auto_instantiate,onCheckedChange:h,size:"sm"}),e[68]=i.runtime.auto_instantiate,e[69]=h,e[70]=Y):Y=e[70];let J;e[71]!==G||e[72]!==Y?(J=(0,l.jsx)(Et,{name:"runtime.auto_instantiate",children:(0,l.jsxs)("div",{className:"flex items-center justify-between px-2 py-2",children:[G,Y]})}),e[71]=G,e[72]=Y,e[73]=J):J=e[73];let ee;e[74]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,l.jsx)(mt,{}),e[74]=ee):ee=e[74];let se;e[75]===i.runtime.on_cell_change?se=e[76]:(se=i.runtime.on_cell_change==="autorun"?(0,l.jsx)(Ke,{size:14,className:"text-amber-500"}):(0,l.jsx)(Ue,{size:14,className:"text-muted-foreground"}),e[75]=i.runtime.on_cell_change,e[76]=se);let ae;e[77]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,l.jsx)("div",{className:"text-sm font-medium",children:"On cell change"}),e[77]=ae):ae=e[77];let de;e[78]===i.runtime.on_cell_change?de=e[79]:(de=(0,l.jsxs)("div",{children:[ae,(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:i.runtime.on_cell_change})]}),e[78]=i.runtime.on_cell_change,e[79]=de);let ce;e[80]!==se||e[81]!==de?(ce=(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[se,de]}),e[80]=se,e[81]=de,e[82]=ce):ce=e[82];let ve=i.runtime.on_cell_change==="autorun",me;e[83]!==f||e[84]!==ve?(me=(0,l.jsx)(Ps,{checked:ve,onCheckedChange:f,size:"sm"}),e[83]=f,e[84]=ve,e[85]=me):me=e[85];let pe;e[86]!==ce||e[87]!==me?(pe=(0,l.jsx)(Et,{name:"runtime.on_cell_change",children:(0,l.jsxs)("div",{className:"flex items-center justify-between px-2 py-2",children:[ce,me]})}),e[86]=ce,e[87]=me,e[88]=pe):pe=e[88];let ie;e[89]!==i.runtime.auto_reload||e[90]!==x?(ie=!It()&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(mt,{}),(0,l.jsx)(Et,{name:"runtime.auto_reload",children:(0,l.jsxs)("div",{className:"px-2 py-1",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[i.runtime.auto_reload==="off"&&(0,l.jsx)(Xt,{size:14,className:"text-muted-foreground"}),i.runtime.auto_reload==="lazy"&&(0,l.jsx)(Ue,{size:14,className:"text-muted-foreground"}),i.runtime.auto_reload==="autorun"&&(0,l.jsx)(Ke,{size:14,className:"text-amber-500"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-sm font-medium",children:"On module change"}),(0,l.jsx)("div",{className:"text-xs text-muted-foreground",children:i.runtime.auto_reload})]})]}),(0,l.jsx)("div",{className:"space-y-1",children:["off","lazy","autorun"].map(re=>(0,l.jsxs)("button",{onClick:()=>x(re),className:V("w-full flex items-center px-2 py-1 text-sm rounded hover:bg-accent",re===i.runtime.auto_reload&&"bg-accent"),children:[re==="off"&&(0,l.jsx)(Xt,{size:12,className:"mr-2"}),re==="lazy"&&(0,l.jsx)(Ue,{size:12,className:"mr-2"}),re==="autorun"&&(0,l.jsx)(Ke,{size:12,className:"mr-2"}),(0,l.jsx)("span",{className:"capitalize",children:re}),re===i.runtime.auto_reload&&(0,l.jsx)("span",{className:"ml-auto",children:"\u2713"})]},re))})]})})]}),e[89]=i.runtime.auto_reload,e[90]=x,e[91]=ie):ie=e[91];let ue;e[92]!==J||e[93]!==pe||e[94]!==ie?(ue=(0,l.jsxs)(pt,{align:"start",className:"w-64",children:[K,$,J,ee,pe,ie]}),e[92]=J,e[93]=pe,e[94]=ie,e[95]=ue):ue=e[95];let he;e[96]!==o||e[97]!==X||e[98]!==ue?(he=(0,l.jsx)("div",{className:"flex md:hidden",children:(0,l.jsxs)(ft,{open:o,onOpenChange:c,children:[X,ue]})}),e[96]=o,e[97]=X,e[98]=ue,e[99]=he):he=e[99];let ye;return e[100]!==L||e[101]!==he||e[102]!==j?(ye=(0,l.jsxs)("div",{className:j,children:[L,he]}),e[100]=L,e[101]=he,e[102]=j,e[103]=ye):ye=e[103],ye};var ym=W(H(),1);const jm=()=>{let t=(0,ym.c)(24),{selectedPanel:e,isTerminalOpen:r}=sn(),{toggleApplication:n,toggleTerminal:a}=hr(),s=Z(q0),i=wm,o=hs.find(_m);$t(o,"Error panel not found");let c;t[0]===a?c=t[1]:(c=()=>{a()},t[0]=a,t[1]=c),Re("global.toggleTerminal",c);let d=Ae,u=o.tooltip,m=e===o.type,h=()=>n(o.type),p=i(o,s>0?"text-destructive":""),f;t[2]===s?f=t[3]:(f=(0,l.jsx)("span",{className:"ml-1 font-mono mt-0.5",children:s}),t[2]=s,t[3]=f);let g;t[4]!==d||t[5]!==o||t[6]!==m||t[7]!==h||t[8]!==p||t[9]!==f?(g=(0,l.jsxs)(d,{tooltip:u,selected:m,onClick:h,"data-testid":"footer-errors",children:[p,f]}),t[4]=d,t[5]=o,t[6]=m,t[7]=h,t[8]=p,t[9]=f,t[10]=g):g=t[10];let x;t[11]===a?x=t[12]:(x=()=>a(),t[11]=a,t[12]=x);let b;t[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,l.jsx)(Sp,{className:"h-5 w-5"}),t[13]=b):b=t[13];let y;t[14]!==r||t[15]!==x?(y=(0,l.jsx)(za,{capability:"terminal",children:(0,l.jsx)(Ae,{tooltip:"Open terminal",selected:r,onClick:x,"data-testid":"footer-terminal",children:b})}),t[14]=r,t[15]=x,t[16]=y):y=t[16];let j,w;t[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,l.jsx)(bm,{}),w=(0,l.jsx)("div",{className:"mx-auto"}),t[17]=j,t[18]=w):(j=t[17],w=t[18]);let _;t[19]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)(Ef,{children:(0,l.jsx)(te,{content:(0,l.jsx)("div",{className:"w-[200px]",children:"Kiosk mode is enabled. This allows you to view the outputs of the cells without the ability to edit them."}),children:(0,l.jsx)("span",{className:"text-muted-foreground text-sm mr-4",children:"kiosk mode"})})}),t[19]=_):_=t[19];let N;t[20]===Symbol.for("react.memo_cache_sentinel")?(N=(0,l.jsxs)("div",{className:"flex items-center shrink-0 min-w-0",children:[(0,l.jsx)(lm,{}),(0,l.jsx)(pm,{}),(0,l.jsx)(Gu,{}),(0,l.jsx)(rm,{}),(0,l.jsx)(gm,{}),(0,l.jsx)(Ju,{})]}),t[20]=N):N=t[20];let C;return t[21]!==y||t[22]!==g?(C=(0,l.jsxs)("footer",{className:"h-10 py-2 bg-background flex items-center text-muted-foreground text-md px-1 border-t border-border select-none no-print text-sm shadow-[0_0_4px_1px_rgba(0,0,0,0.1)] z-50 print:hidden hide-on-fullscreen overflow-x-auto overflow-y-hidden scrollbar-thin",children:[g,y,j,w,_,N]}),t[21]=y,t[22]=g,t[23]=C):C=t[23],C};function wm(t,e){let{Icon:r}=t;return(0,l.jsx)(r,{className:V("h-5 w-5",e)})}function _m(t){return t.type==="errors"}var Oa=W(H(),1);const Nm=t=>{let e=(0,Oa.c)(6),{children:r}=t,{openModal:n,closeModal:a}=af(),s;e[0]!==a||e[1]!==n?(s=()=>n((0,l.jsx)(Cm,{onClose:a})),e[0]=a,e[1]=n,e[2]=s):s=e[2];let i;return e[3]!==r||e[4]!==s?(i=(0,l.jsx)(C1,{onClick:s,children:r}),e[3]=r,e[4]=s,e[5]=i):i=e[5],i};var Cm=t=>{let e=(0,Oa.c)(9),{onClose:r}=t,n;e[0]===r?n=e[1]:(n=async u=>{u.preventDefault();let m=new FormData(u.target),h=m.get("rating"),p=m.get("message");fetch("https://marimo.io/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({rating:h,message:p})}),r(),Ut({title:"Feedback sent!",description:"Thank you for your feedback!"})},e[0]=r,e[1]=n);let a;e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,l.jsx)(ef,{children:"Send Feedback"}),e[2]=a):a=e[2];let s;e[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)("p",{className:"my-2 prose dark:prose-invert",children:"We want to hear from you \u2014 from minor bug reports to wishlist features and everything in between. Here are some ways you can get in touch:"}),e[3]=s):s=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsxs)("li",{className:"my-0",children:["Take our"," ",(0,l.jsx)("a",{href:gn.feedbackForm,target:"_blank",className:"underline",children:"two-minute survey."})]}),e[4]=i):i=e[4];let o;e[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsxs)("li",{className:"my-0",children:["File a"," ",(0,l.jsx)("a",{href:gn.issuesPage,target:"_blank",className:"underline",children:"GitHub issue."})]}),e[5]=o):o=e[5];let c;e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,l.jsxs)(Zp,{children:[a,(0,l.jsxs)(rf,{children:[s,(0,l.jsxs)("ul",{className:"list-disc ml-8 my-2 prose dark:prose-invert",children:[i,o,(0,l.jsxs)("li",{className:"my-0",children:["Chat with us on"," ",(0,l.jsx)("a",{href:gn.discordLink,target:"_blank",className:"underline",children:"Discord."})]})]}),(0,l.jsx)("p",{className:"my-2 prose dark:prose-invert",children:"We're excited you're here as we build the future of Python data tooling. Thanks for being part of our community!"})]})]}),e[6]=c):c=e[6];let d;return e[7]===n?d=e[8]:(d=(0,l.jsx)(tf,{className:"w-fit",children:(0,l.jsx)("form",{onSubmit:n,children:c})}),e[7]=n,e[8]=d),d},nn=W(H(),1);const km=()=>{let t=(0,nn.c)(10),{selectedPanel:e}=sn(),{toggleApplication:r}=hr(),n=Im,a,s;if(t[0]!==e||t[1]!==r){let u=hs.filter(Rm);a="h-full pt-4 pb-1 px-1 flex flex-col items-start text-muted-foreground text-md select-none no-print text-sm z-50 dark:bg-background print:hidden hide-on-fullscreen",s=u.map(m=>(0,l.jsx)(Ta,{tooltip:m.tooltip,selected:e===m.type,onClick:()=>r(m.type),children:n(m)},m.type)),t[0]=e,t[1]=r,t[2]=a,t[3]=s}else a=t[2],s=t[3];let i,o,c;t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(Nm,{children:(0,l.jsx)(Ta,{tooltip:"Send feedback!",selected:!1,children:(0,l.jsx)(Hs,{className:"h-5 w-5"})})}),o=(0,l.jsx)("div",{className:"flex-1"}),c=(0,l.jsx)(Sm,{}),t[4]=i,t[5]=o,t[6]=c):(i=t[4],o=t[5],c=t[6]);let d;return t[7]!==a||t[8]!==s?(d=(0,l.jsxs)("div",{className:a,children:[s,i,o,c]}),t[7]=a,t[8]=s,t[9]=d):d=t[9],d};var Sm=()=>{let t=(0,nn.c)(7),e=Z(R0),r;t[0]===e?r=t[1]:(r=e>0?(0,l.jsxs)("span",{children:[e," cell",e>1?"s":""," queued or running"]}):"No cells queued or running",t[0]=e,t[1]=r);let n;t[2]===e?n=t[3]:(n=(0,l.jsx)("div",{className:"flex flex-col-reverse gap-px overflow-hidden",children:Array.from({length:e}).map(Em)}),t[2]=e,t[3]=n);let a;return t[4]!==r||t[5]!==n?(a=(0,l.jsx)(te,{content:r,side:"right",delayDuration:200,children:n}),t[4]=r,t[5]=n,t[6]=a):a=t[6],a},Ta=t=>{let e=(0,nn.c)(17),r,n,a,s,i;e[0]===t?(r=e[1],n=e[2],a=e[3],s=e[4],i=e[5]):({children:r,tooltip:i,selected:s,className:n,...a}=t,e[0]=t,e[1]=r,e[2]=n,e[3]=a,e[4]=s,e[5]=i);let o=!s&&"hover:bg-(--sage-3)",c=s&&"bg-(--sage-4)",d;e[6]!==n||e[7]!==o||e[8]!==c?(d=V("flex items-center p-2 text-sm mx-px shadow-inset font-mono rounded",o,c,n),e[6]=n,e[7]=o,e[8]=c,e[9]=d):d=e[9];let u;e[10]!==r||e[11]!==a||e[12]!==d?(u=(0,l.jsx)("button",{className:d,...a,children:r}),e[10]=r,e[11]=a,e[12]=d,e[13]=u):u=e[13];let m;return e[14]!==u||e[15]!==i?(m=(0,l.jsx)(te,{content:i,side:"right",delayDuration:200,children:u}),e[14]=u,e[15]=i,e[16]=m):m=e[16],m};function Im(t,e){let{Icon:r}=t;return(0,l.jsx)(r,{className:V("h-5 w-5",e)})}function Rm(t){return!t.hidden&&t.position==="sidebar"}function Em(t,e){return(0,l.jsx)("div",{className:"shrink-0 h-1 w-2 bg-(--grass-6) border border-(--grass-7)"},e.toString())}var zm=W(H(),1);const Dm=t=>{let e=(0,zm.c)(4),{isOpen:r,children:n}=t,[a,s]=v.useState(!1),i,o;return e[0]!==a||e[1]!==r?(i=()=>{r&&!a&&s(!0)},o=[r,a],e[0]=a,e[1]=r,e[2]=i,e[3]=o):(i=e[2],o=e[3]),v.useEffect(i,o),a?n:null};var Pt=W(H(),1),Mm=t=>{let e=(0,Pt.c)(43),r=Z(Sf),n=Z(um),a=We(),s=kf(),i=t.cellId,o=n[t.cellId],c=Wt(t.cellId),d=c.code,u=Ft(t.cellId),m,h,p,f,g,x,b,y,j,w,_;if(e[0]!==a||e[1]!==s||e[2]!==r.focusedCellId||e[3]!==n||e[4]!==t.cellId||e[5]!==o||e[6]!==c.code||e[7]!==u.errored){m={id:i,graph:o,code:d,hasError:u.errored},r.focusedCellId&&n[r.focusedCellId]&&(f={id:r.focusedCellId,graph:n[r.focusedCellId]}),p=(f==null?void 0:f.id)===m.id,h=Pa(m.graph)?1.5:3;let k=()=>{p?s.blurCell():(a.focusCell({cellId:m.id,where:"exact"}),s.focusCell({cellId:m.id}))};y="button",j=m.id;let S=p?"text-primary-foreground":"text-(--gray-8) hover:text-(--gray-9)";e[19]===S?w=e[20]:(w=V("group bg-transparent text-left w-full flex relative justify-between items-center","border-none rounded cursor-pointer","h-[21px] pl-[51px] font-inherit",S),e[19]=S,e[20]=w),_=k,g=Vm;let z=p&&"bg-primary group-hover:bg-primary",E;e[21]===z?E=e[22]:(E=V("group-hover:bg-(--gray-2) flex h-full w-full px-0.5 items-center rounded",z),e[21]=z,e[22]=E),x=(0,l.jsx)("div",{className:E,children:(0,l.jsx)("div",{className:"truncate px-1 font-mono text-sm flex gap-1",title:m.code,children:m.graph.variables.length>0?(0,l.jsx)(Pm,{cell:m,selectedCell:f}):(0,l.jsx)("span",{className:"overflow-hidden text-ellipsis whitespace-nowrap max-w-full",children:Am(m.code)??(0,l.jsx)("span",{className:"italic",children:"empty"})})})}),b=V("absolute overflow-visible top-[10.5px] left-[calc(var(--spacing-extra-small,8px)+17px)] pointer-events-none",p?"z-30":"z-20",Wm({cell:m,selectedCell:f})),e[0]=a,e[1]=s,e[2]=r.focusedCellId,e[3]=n,e[4]=t.cellId,e[5]=o,e[6]=c.code,e[7]=u.errored,e[8]=m,e[9]=h,e[10]=p,e[11]=f,e[12]=g,e[13]=x,e[14]=b,e[15]=y,e[16]=j,e[17]=w,e[18]=_}else m=e[8],h=e[9],p=e[10],f=e[11],g=e[12],x=e[13],b=e[14],y=e[15],j=e[16],w=e[17],_=e[18];let N;e[23]===m.id?N=e[24]:(N=(0,l.jsxs)("title",{children:["Cell dependency connections for cell ",m.id]}),e[23]=m.id,e[24]=N);let C;e[25]!==m||e[26]!==h||e[27]!==p||e[28]!==t.cellPositions||e[29]!==f?(C=p?(0,l.jsx)(Lm,{cell:m,cellPositions:t.cellPositions,circleRadius:h}):(0,l.jsx)(Fm,{cell:m,selectedCell:f,circleRadius:h}),e[25]=m,e[26]=h,e[27]=p,e[28]=t.cellPositions,e[29]=f,e[30]=C):C=e[30];let I;e[31]!==N||e[32]!==C||e[33]!==b?(I=(0,l.jsxs)("svg",{className:b,width:"1",height:"1",children:[N,C]}),e[31]=N,e[32]=C,e[33]=b,e[34]=I):I=e[34];let R;return e[35]!==g||e[36]!==x||e[37]!==I||e[38]!==y||e[39]!==j||e[40]!==w||e[41]!==_?(R=(0,l.jsxs)("button",{type:y,"data-node-id":j,className:w,onClick:_,onMouseDown:g,children:[x,I]}),e[35]=g,e[36]=x,e[37]=I,e[38]=y,e[39]=j,e[40]=w,e[41]=_,e[42]=R):R=e[42],R},Om=t=>{let e=(0,Pt.c)(28),{open:r,setOpen:n}=t,a=dn(),s;e[0]===a.inOrderIds?s=e[1]:(s=Object.fromEntries(a.inOrderIds.map(Bm)),e[0]=a.inOrderIds,e[1]=s);let i=s,o;if(e[2]!==a){o=[];let j=0;for(let[w,_]of a.getColumns().entries())w>0&&o.push(j),j+=_.inOrderIds.length;e[2]=a,e[3]=o}else o=e[3];let c=r?"translate-x-0":"translate-x-[calc(100%+20px)]",d;e[4]===c?d=e[5]:(d=V("fixed top-14 right-5 z-50 bg-background/95 backdrop-blur-sm supports-backdrop-filter:bg-background/60 rounded-lg border shadow-lg w-64 flex flex-col max-h-[58vh]","motion-safe:transition-transform motion-safe:duration-200 motion-safe:ease-in-out",c),e[4]=c,e[5]=d);let u;e[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,l.jsx)("span",{className:"text-sm font-semibold",children:"Minimap"}),e[6]=u):u=e[6];let m;e[7]===n?m=e[8]:(m=()=>n(!1),e[7]=n,e[8]=m);let h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,l.jsx)($e,{className:"h-4 w-4"}),e[9]=h):h=e[9];let p;e[10]===m?p=e[11]:(p=(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[u,(0,l.jsx)(oe,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:m,children:h})]}),e[10]=m,e[11]=p);let f;if(e[12]!==a.inOrderIds||e[13]!==i||e[14]!==o){let j;e[16]!==i||e[17]!==o?(j=(w,_)=>{let N=o.includes(_);return(0,l.jsxs)(v.Fragment,{children:[N&&(0,l.jsx)("div",{className:"absolute left-5 w-[36px] h-px bg-(--gray-4) pointer-events-none","aria-hidden":"true"}),(0,l.jsx)(Mm,{cellId:w,cellPositions:i})]},w)},e[16]=i,e[17]=o,e[18]=j):j=e[18],f=a.inOrderIds.map(j),e[12]=a.inOrderIds,e[13]=i,e[14]=o,e[15]=f}else f=e[15];let g;e[19]===f?g=e[20]:(g=(0,l.jsx)("div",{className:"py-3 pl-3 pr-4 relative min-h-full",children:f}),e[19]=f,e[20]=g);let x;e[21]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)("div",{className:"h-0 overflow-hidden","aria-hidden":"true"}),e[21]=x):x=e[21];let b;e[22]===g?b=e[23]:(b=(0,l.jsxs)("div",{className:"overflow-y-auto overflow-x-hidden flex-1 scrollbar-none",children:[g,x]}),e[22]=g,e[23]=b);let y;return e[24]!==b||e[25]!==d||e[26]!==p?(y=(0,l.jsxs)("div",{className:d,children:[p,b]}),e[24]=b,e[25]=d,e[26]=p,e[27]=y):y=e[27],y};const Tm=()=>{let t=(0,Pt.c)(5),[e,r]=mr(Ma),n;t[0]===r?n=t[1]:(n=()=>r(Hm),t[0]=r,t[1]=n),Re("global.toggleMinimap",n);let a;return t[2]!==e||t[3]!==r?(a=(0,l.jsx)(Om,{open:e,setOpen:r}),t[2]=e,t[3]=r,t[4]=a):a=t[4],a};function Am(t){return t.split(`
`)[0].trim()||void 0}var Pm=t=>{let e=(0,Pt.c)(11),{cell:r,selectedCell:n}=t,a=H0(),s=r.id===(n==null?void 0:n.id),i;if(e[0]!==r.graph.variables||e[1]!==s||e[2]!==n||e[3]!==a){let c;e[5]!==s||e[6]!==n||e[7]!==a?(c=(d,u)=>{let m=a[d];return(0,l.jsxs)(v.Fragment,{children:[u>0&&", ",(0,l.jsx)("span",{className:V({"font-bold":s,"text-foreground":n===void 0,"text-primary font-medium":!s&&mm(m,n)}),children:d})]},d)},e[5]=s,e[6]=n,e[7]=a,e[8]=c):c=e[8],i=r.graph.variables.map(c),e[0]=r.graph.variables,e[1]=s,e[2]=n,e[3]=a,e[4]=i}else i=e[4];let o;return e[9]===i?o=e[10]:(o=(0,l.jsx)(l.Fragment,{children:i}),e[9]=i,e[10]=o),o},Lm=t=>{let e=(0,Pt.c)(12),{cell:r,cellPositions:n,circleRadius:a}=t,s;if(e[0]!==r.graph.children||e[1]!==r.graph.parents||e[2]!==r.id||e[3]!==n){s=[];let d=n[r.id]??0,u=new Set;for(let m of r.graph.parents)r.graph.children.has(m)&&u.add(m);for(let m of u){let h=n[m];if(h!==void 0){let p=(h-d)*21;s.push((0,l.jsx)("path",{d:`M -3 0 H -7 v ${p} h 14 v ${-p} H 3`,fill:"none",strokeWidth:"2",stroke:"currentColor"},`${r.id}-cycle-${m}`))}}for(let m of r.graph.parents){if(u.has(m))continue;let h=n[m];if(h!==void 0){let p=(h-d)*21;s.push((0,l.jsx)("path",{d:`M -3 0 H -7 v ${p} h -4`,fill:"none",strokeWidth:"2",stroke:"currentColor"},`${r.id}-up-${m}`))}}for(let m of r.graph.children){if(u.has(m))continue;let h=n[m];if(h!==void 0){let p=(h-d)*21;s.push((0,l.jsx)("path",{d:`M 3 0 H 7 v ${p} h 4`,fill:"none",strokeWidth:"2",stroke:"currentColor"},`${r.id}-down-${m}`))}}e[0]=r.graph.children,e[1]=r.graph.parents,e[2]=r.id,e[3]=n,e[4]=s}else s=e[4];let i;e[5]===a?i=e[6]:(i=(0,l.jsx)("circle",{r:a,fill:"currentColor",className:"pointer-events-auto"}),e[5]=a,e[6]=i);let o;e[7]===s?o=e[8]:(o=(0,l.jsx)("g",{className:"pen pointer-events-auto",children:s}),e[7]=s,e[8]=o);let c;return e[9]!==i||e[10]!==o?(c=(0,l.jsxs)("g",{transform:"translate(0, 0)",children:[i,o]}),e[9]=i,e[10]=o,e[11]=c):c=e[11],c};function Fm(t){let{cell:e,selectedCell:r,circleRadius:n}=t,a=e.graph.ancestors.size>0,s=e.graph.descendants.size>0;if(!r)return Aa({circleRadius:n,leftWisker:a,rightWisker:s});let i=r.graph.ancestors.has(e.id),o=r.graph.descendants.has(e.id);return Aa(i||o?{circleRadius:n,leftWisker:a,rightWisker:s,shift:i&&o?void 0:i?"left":"right"}:{circleRadius:n,leftWisker:!1,rightWisker:!1})}function Aa(t){let{circleRadius:e,leftWisker:r,rightWisker:n,shift:a}=t;return(0,l.jsxs)("g",{transform:`translate(${a===void 0?0:a==="left"?-14:14}, 0)`,children:[(0,l.jsxs)("g",{children:[r&&(0,l.jsx)("path",{d:"M 0 0 h -8",fill:"none",strokeWidth:"2",stroke:"currentColor"}),n&&(0,l.jsx)("path",{d:"M 0 0 h 8",fill:"none",strokeWidth:"2",stroke:"currentColor"})]}),(0,l.jsx)("circle",{r:e,fill:"currentColor",className:"pointer-events-auto"})]})}function Wm({cell:t,selectedCell:e}){return t.hasError?"text-destructive":!e&&!Pa(t.graph)?"text-foreground":(e==null?void 0:e.id)===t.id||e!=null&&e.graph.parents.has(t.id)||e!=null&&e.graph.children.has(t.id)?"text-primary":"text-(--gray-8)"}function Pa(t){return t.variables.length===0&&t.ancestors.size===0&&t.descendants.size===0}function Vm(t){return t.preventDefault()}function Bm(t,e){return[t,e]}function Hm(t){return!t}var qm=W(H(),1);const $m=()=>{let t=(0,qm.c)(46),[e,r]=(0,v.useState)(null),n=Z(_n),a;t[0]===n?a=t[1]:(a=[...n.keys()],t[0]=n,t[1]=a);let s=a,{deleteStagedCell:i,removeStagedCell:o}=cs(Va()),c=Os();if(n.size===0)return null;let d=Um,u;t[2]!==e||t[3]!==s?(u=T=>{let L=O1(e,s.length,T);r(L),d(s[L])},t[2]=e,t[3]=s,t[4]=u):u=t[4];let m=u,h;t[5]!==i||t[6]!==o||t[7]!==n?(h=()=>{for(let[T,L]of n)oa(T,L,o,i)},t[5]=i,t[6]=o,t[7]=n,t[8]=h):h=t[8];let p=h,f;t[9]!==i||t[10]!==o||t[11]!==n?(f=()=>{for(let[T,L]of n)ca(T,L,o,i)},t[9]=i,t[10]=o,t[11]=n,t[12]=f):f=t[12];let g=f,x;t[13]!==s||t[14]!==c?(x=()=>{c(s)},t[13]=s,t[14]=c,t[15]=x):x=t[15];let b=x,y,j;t[16]===Symbol.for("react.memo_cache_sentinel")?(y=V("fixed bottom-16 left-1/2 transform -translate-x-1/2 z-50 bg-background/95 backdrop-blur-sm supports-backdrop-filter:bg-background/80 border border-border rounded-lg px-3 py-2 flex items-center justify-between gap-2.5 w-100","shadow-[0_0_6px_0_#00A2C733]"),j=(0,l.jsx)(Sr,{className:"h-4 w-4 text-primary"}),t[16]=y,t[17]=j):(y=t[16],j=t[17]);let w;t[18]===m?w=t[19]:(w=()=>m("up"),t[18]=m,t[19]=w);let _;t[20]===Symbol.for("react.memo_cache_sentinel")?(_=(0,l.jsx)(Cn,{className:"h-3.5 w-3.5"}),t[20]=_):_=t[20];let N;t[21]===w?N=t[22]:(N=(0,l.jsx)(oe,{variant:"ghost",size:"icon",onClick:w,children:_}),t[21]=w,t[22]=N);let C=e===null?`${s.length} pending`:`${e+1} / ${s.length}`,I;t[23]===C?I=t[24]:(I=(0,l.jsx)("span",{className:"text-xs font-mono min-w-[3.5rem] text-center",children:C}),t[23]=C,t[24]=I);let R;t[25]===m?R=t[26]:(R=()=>m("down"),t[25]=m,t[26]=R);let k;t[27]===Symbol.for("react.memo_cache_sentinel")?(k=(0,l.jsx)(ut,{className:"h-3.5 w-3.5"}),t[27]=k):k=t[27];let S;t[28]===R?S=t[29]:(S=(0,l.jsx)(oe,{variant:"ghost",size:"icon",onClick:R,children:k}),t[28]=R,t[29]=S);let z;t[30]!==I||t[31]!==S||t[32]!==N?(z=(0,l.jsxs)("div",{className:"flex items-center",children:[N,I,S]}),t[30]=I,t[31]=S,t[32]=N,t[33]=z):z=t[33];let E;t[34]===Symbol.for("react.memo_cache_sentinel")?(E=(0,l.jsx)("div",{className:"h-5 w-px bg-border"}),t[34]=E):E=t[34];let O;t[35]!==p||t[36]!==b?(O=(0,l.jsx)(X1,{multipleCompletions:!0,onAccept:p,isLoading:!1,size:"xs",buttonStyles:"h-6.5",playButtonStyles:"h-6.5",runCell:b}),t[35]=p,t[36]=b,t[37]=O):O=t[37];let P;t[38]===g?P=t[39]:(P=(0,l.jsx)(G1,{multipleCompletions:!0,onDecline:g,size:"xs",className:"h-6.5"}),t[38]=g,t[39]=P);let D;t[40]!==O||t[41]!==P?(D=(0,l.jsxs)("div",{className:"flex items-center gap-1.5",children:[O,P]}),t[40]=O,t[41]=P,t[42]=D):D=t[42];let M;return t[43]!==z||t[44]!==D?(M=(0,l.jsxs)("div",{className:y,children:[j,z,E,D]}),t[43]=z,t[44]=D,t[45]=M):M=t[45],M};function Um(t){vf(t,"focus")}var Km=W(H(),1),Gm=v.lazy(()=>Ne(()=>import("./terminal-NtPz9Wz1.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]),import.meta.url)),Xm=v.lazy(()=>Ne(()=>import("./chat-panel-CjjOlUPZ.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([47,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,59,60,39,61,62,63,64,65,33,32,34,66,31,35,67,68,69,30,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,86,87,1,17,88,89,90,91,92,36,41,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,42,113,114,115,116,117,118,44,119,120,45,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279]),import.meta.url)),Ym=v.lazy(()=>Ne(()=>import("./agent-panel-CPGu8Erd.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([280,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,59,60,39,61,122,63,64,65,33,32,34,66,31,35,67,68,69,30,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,86,1,17,41,123,124,125,126,127,128,129,130,131,132,112,42,133,134,44,135,136,137,138,139,140,141,142,143,144,145,146,147,89,88,92,36,93,94,95,96,97,148,98,149,87,150,107,108,109,99,151,152,153,154,155,101,102,110,156,111,157,158,159,160,161,121,162,163,164,165,166,167,168,169,105,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,29,281,276,117,118,282,277,120,283,279,284]),import.meta.url)),Jm=v.lazy(()=>Ne(()=>import("./dependency-graph-panel-CoeP9rzE.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([285,48,122,63,64,11,12,5,6,7,8,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,1,2,16,17,41,169,92,36,93,94,95,96,97,286,272,152,287,288,289,147,89,88,91,100,149,130,154,42,161,121,290,118,291,140,292,45,293,112,170,162,171,294,295,150,107,108,109,57,58,59,61,99,131,296,146,297,298,299,278,300,301,302]),import.meta.url)),Qm=v.lazy(()=>Ne(()=>import("./datasources-panel-CQJ_xth2.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([303,48,123,6,7,63,64,11,12,5,8,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,304,153,42,44,87,130,131,305,17,112,93,95,96,16,144,272,306,274,307,88,89,308,92,36,41,94,97,91,98,309,310,150,107,108,109,57,58,59,61,2,90,99,103,311,118,119,312,45,147,313,110,314,315,114,115,116,316,290,317,318,319,120]),import.meta.url)),Zm=v.lazy(()=>Ne(()=>import("./documentation-panel-D-JV0cpO.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([320,48,63,64,11,12,5,6,7,8,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,152,41,274,153,42,44,151,154,97,96,155,112,321]),import.meta.url)),e0=v.lazy(()=>Ne(()=>import("./error-panel-DV7lr4JL.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([322,48,63,64,11,12,5,6,7,8,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,274,145,146,147,89,88,92,36,41,93,94,95,96,97,50,148,2,16,98,149,112]),import.meta.url)),t0=v.lazy(()=>Ne(()=>import("./file-explorer-panel-CPQDFtpj.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([323,48,324,123,6,7,124,20,125,126,127,128,24,143,63,64,11,12,5,8,52,4,3,9,51,10,13,14,15,18,65,19,21,22,23,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,144,145,146,147,89,88,92,36,41,93,94,95,96,97,50,148,2,16,98,149,87,150,107,108,109,57,58,59,61,17,99,151,152,153,42,44,154,155,101,102,110,156,111,157,112,158,159,160,161,121,162,163,164,165,56,166,167,325,282,138,139,326,327,1,131,132,273,328,329,279,330,171,331,137,135,299,332,312,333,45,334]),import.meta.url)),r0=v.lazy(()=>Ne(()=>import("./logs-panel-DsJnG9V6.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([335,48,336,11,12,5,6,7,8,63,64,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,274,146,147,89,88,92,36,41,93,94,95,96,97,112,138]),import.meta.url)),n0=v.lazy(()=>Ne(()=>import("./outline-panel-C9yH5I9w.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([337,48,63,64,11,12,5,6,7,8,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,274,338,154,112,339]),import.meta.url)),l0=v.lazy(()=>Ne(()=>import("./packages-panel-BPiwOYBi.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([340,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,59,60,39,61,62,63,64,65,33,32,34,66,31,35,67,68,69,30,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,86,87,1,17,88,89,90,91,92,36,41,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,42,113,114,115,116,117,118,44,119,120,45,121,341,274,305]),import.meta.url)),a0=v.lazy(()=>Ne(()=>import("./scratchpad-panel-C_xpdU9y.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([342,48,343,7,49,50,3,4,5,6,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,59,60,39,61,122,63,64,65,33,32,34,66,31,35,67,68,69,30,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,86,1,17,41,123,124,125,126,127,128,142,143,144,145,146,147,89,88,92,36,93,94,95,96,97,148,98,149,87,150,107,108,109,99,151,152,153,42,44,154,155,101,102,110,156,111,157,112,158,159,160,161,121,162,163,164,165,166,167,168,169,105,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,130,273,344,287,341,345,306,131,291,119,346,293,294,338,91,100,106,347,140,279,348,325,282,138,139,326,327,104,349,350,281,351,333,352,353,354,132,137]),import.meta.url)),s0=v.lazy(()=>Ne(()=>import("./secrets-panel-Bzd6Mi0U.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([355,274,5,6,7,8,307,52,20,4,11,12,88,89,3,9,51,10,13,14,15,308,92,36,37,24,38,39,40,41,93,54,25,94,95,96,97,91,98,65,53,21,22,23,87,147,64,101,66,34,31,313,110,111,28,42,44,119]),import.meta.url)),i0=v.lazy(()=>Ne(()=>import("./snippets-panel-BNdYY1W6.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([356,48,63,64,11,12,5,6,7,8,52,20,4,3,9,51,10,13,14,15,18,65,19,21,22,23,24,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,152,41,274,354,154,153,42,44,87,147,89,88,92,36,93,94,95,96,97,150,107,108,109,57,58,59,61,151,155,103,131,110,132,111,112,137,119,357]),import.meta.url)),o0=v.lazy(()=>Ne(()=>import("./tracing-panel-DBh_LItF.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([358,48,87,11,12,14,6,7,5,8]),import.meta.url)),c0=v.lazy(()=>Ne(()=>import("./variable-panel-91Oy0ioR.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([359,48,123,6,7,124,20,125,126,127,128,24,143,63,64,11,12,5,8,52,4,3,9,51,10,13,14,15,18,65,19,21,22,23,25,26,27,28,33,32,34,66,31,35,53,67,68,54,69,30,70,71,72,73,74,75,76,77,78,79,55,80,60,81,37,38,39,40,82,83,84,85,86,144,145,146,147,89,88,92,36,41,93,94,95,96,97,50,148,2,16,98,149,87,150,107,108,109,57,58,59,61,17,99,151,152,153,42,44,154,155,101,102,110,156,111,157,112,158,159,160,161,121,162,163,164,165,56,166,167,274,296,315,114,115,116,316,317,318,319,300,301,279]),import.meta.url)),d0=v.lazy(()=>Ne(()=>import("./cache-panel-ClGFjnuH.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([360,274,5,6,7,8,87,11,12,14,89,52,20,4,3,9,65,361,21,22,23,24,53,25,110,41,54,93,95,96,362,120,45]),import.meta.url));const u0=t=>{let e=(0,Km.c)(131),{children:r}=t,{isSidebarOpen:n,isTerminalOpen:a,selectedPanel:s}=sn(),{setIsSidebarOpen:i,setIsTerminalOpen:o}=hr(),c=v.useRef(null),d=v.useRef(null),u=(0,v.useId)(),m=(0,v.useId)(),h,p;e[0]===n?(h=e[1],p=e[2]):(h=()=>{if(!c.current)return;let Ie=c.current.isCollapsed();n&&Ie&&c.current.expand(),!n&&!Ie&&c.current.collapse(),requestAnimationFrame(h0)},p=[n],e[0]=n,e[1]=h,e[2]=p),(0,v.useEffect)(h,p);let f,g;e[3]===a?(f=e[4],g=e[5]):(f=()=>{if(!d.current)return;let Ie=d.current.isCollapsed();a&&Ie&&d.current.expand(),!a&&!Ie&&d.current.collapse(),requestAnimationFrame(f0)},g=[a],e[3]=a,e[4]=f,e[5]=g),(0,v.useEffect)(f,g);let x;e[6]===r?x=e[7]:(x=(0,l.jsx)(vr,{id:"app",className:"relative h-full",children:(0,l.jsx)(v.Suspense,{children:r})},"app"),e[6]=r,e[7]=x);let b=x,y=n?"resize-handle":"resize-handle-collapsed",j;e[8]===y?j=e[9]:(j=V("border-border no-print z-10",y,"vertical"),e[8]=y,e[9]=j);let w;e[10]===j?w=e[11]:(w=(0,l.jsx)(Qa,{onDragging:Za,className:j}),e[10]=j,e[11]=w);let _=w,N=a?"resize-handle":"resize-handle-collapsed",C;e[12]===N?C=e[13]:(C=V("border-border no-print z-20",N,"horizontal"),e[12]=N,e[13]=C);let I;e[14]===C?I=e[15]:(I=(0,l.jsx)(Qa,{onDragging:Za,className:C}),e[14]=C,e[15]=I);let R=I,k;e[16]===s?k=e[17]:(k=(0,l.jsx)("div",{className:"text-sm text-(--slate-11) uppercase tracking-wide font-semibold flex-1",children:s}),e[16]=s,e[17]=k);let S;e[18]===i?S=e[19]:(S=()=>i(!1),e[18]=i,e[19]=S);let z;e[20]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)($e,{className:"w-4 h-4"}),e[20]=z):z=e[20];let E;e[21]===S?E=e[22]:(E=(0,l.jsx)(oe,{"data-testid":"close-helper-pane",className:"m-0",size:"xs",variant:"text",onClick:S,children:z}),e[21]=S,e[22]=E);let O;e[23]!==k||e[24]!==E?(O=(0,l.jsxs)("div",{className:"p-3 border-b flex justify-between items-center",children:[k,E]}),e[23]=k,e[24]=E,e[25]=O):O=e[25];let P;e[26]===s?P=e[27]:(P=s==="files"&&(0,l.jsx)(t0,{}),e[26]=s,e[27]=P);let D;e[28]===s?D=e[29]:(D=s==="errors"&&(0,l.jsx)(e0,{}),e[28]=s,e[29]=D);let M;e[30]===s?M=e[31]:(M=s==="variables"&&(0,l.jsx)(c0,{}),e[30]=s,e[31]=M);let T;e[32]===s?T=e[33]:(T=s==="dependencies"&&(0,l.jsx)(Jm,{}),e[32]=s,e[33]=T);let L;e[34]===s?L=e[35]:(L=s==="packages"&&(0,l.jsx)(l0,{}),e[34]=s,e[35]=L);let A;e[36]===s?A=e[37]:(A=s==="outline"&&(0,l.jsx)(n0,{}),e[36]=s,e[37]=A);let q;e[38]===s?q=e[39]:(q=s==="datasources"&&(0,l.jsx)(Qm,{}),e[38]=s,e[39]=q);let X;e[40]===s?X=e[41]:(X=s==="documentation"&&(0,l.jsx)(Zm,{}),e[40]=s,e[41]=X);let K;e[42]===s?K=e[43]:(K=s==="snippets"&&(0,l.jsx)(i0,{}),e[42]=s,e[43]=K);let $;e[44]===s?$=e[45]:($=s==="scratchpad"&&(0,l.jsx)(a0,{}),e[44]=s,e[45]=$);let Q;e[46]===s?Q=e[47]:(Q=s==="chat"&&(0,l.jsx)(Xm,{}),e[46]=s,e[47]=Q);let B;e[48]===s?B=e[49]:(B=s==="agents"&&(0,l.jsx)(Ym,{}),e[48]=s,e[49]=B);let le;e[50]===s?le=e[51]:(le=s==="logs"&&(0,l.jsx)(r0,{}),e[50]=s,e[51]=le);let F;e[52]===s?F=e[53]:(F=s==="tracing"&&(0,l.jsx)(o0,{}),e[52]=s,e[53]=F);let G;e[54]===s?G=e[55]:(G=s==="secrets"&&(0,l.jsx)(s0,{}),e[54]=s,e[55]=G);let Y;e[56]===s?Y=e[57]:(Y=s==="cache"&&(0,l.jsx)(d0,{}),e[56]=s,e[57]=Y);let J;e[58]!==P||e[59]!==D||e[60]!==M||e[61]!==T||e[62]!==L||e[63]!==A||e[64]!==q||e[65]!==X||e[66]!==K||e[67]!==$||e[68]!==Q||e[69]!==B||e[70]!==le||e[71]!==F||e[72]!==G||e[73]!==Y?(J=(0,l.jsx)(v.Suspense,{children:(0,l.jsxs)(Ir,{children:[P,D,M,T,L,A,q,X,K,$,Q,B,le,F,G,Y]})}),e[58]=P,e[59]=D,e[60]=M,e[61]=T,e[62]=L,e[63]=A,e[64]=q,e[65]=X,e[66]=K,e[67]=$,e[68]=Q,e[69]=B,e[70]=le,e[71]=F,e[72]=G,e[73]=Y,e[74]=J):J=e[74];let ee;e[75]!==O||e[76]!==J?(ee=(0,l.jsx)(as,{children:(0,l.jsxs)("div",{className:"flex flex-col h-full flex-1 overflow-hidden mr-[-4px]",children:[O,J]})}),e[75]=O,e[76]=J,e[77]=ee):ee=e[77];let se=ee,ae=`helper-${u}`,de=n&&"border-r border-l border-(--slate-7)",ce;e[78]===de?ce=e[79]:(ce=V("dark:bg-(--slate-1) no-print print:hidden hide-on-fullscreen",de),e[78]=de,e[79]=ce);let ve;e[80]===Symbol.for("react.memo_cache_sentinel")?(ve=(Ie,Pe)=>{var Te;Pe===0&&Ie===10&&((Te=c.current)==null||Te.resize(30))},e[80]=ve):ve=e[80];let me,pe;e[81]===i?(me=e[82],pe=e[83]):(me=()=>i(!1),pe=()=>i(!0),e[81]=i,e[82]=me,e[83]=pe);let ie;e[84]!==se||e[85]!==_?(ie=(0,l.jsxs)("span",{className:"flex flex-row h-full",children:[se," ",_]}),e[84]=se,e[85]=_,e[86]=ie):ie=e[86];let ue;e[87]!==ae||e[88]!==ce||e[89]!==me||e[90]!==pe||e[91]!==ie?(ue=(0,l.jsx)(vr,{ref:c,id:ae,"data-testid":"helper",collapsedSize:0,collapsible:!0,className:ce,minSize:10,defaultSize:0,maxSize:75,onResize:ve,onCollapse:me,onExpand:pe,children:ie},"helper"),e[87]=ae,e[88]=ce,e[89]=me,e[90]=pe,e[91]=ie,e[92]=ue):ue=e[92];let he=ue,ye=`terminal-${m}`,re=a&&"border-(--slate-7)",U;e[93]===re?U=e[94]:(U=V("dark:bg-(--slate-1) no-print print:hidden hide-on-fullscreen",re),e[93]=re,e[94]=U);let Ye;e[95]===Symbol.for("react.memo_cache_sentinel")?(Ye=(Ie,Pe)=>{var Te;Pe===0&&Ie===10&&((Te=d.current)==null||Te.resize(30))},e[95]=Ye):Ye=e[95];let Be,He;e[96]===o?(Be=e[97],He=e[98]):(Be=()=>o(!1),He=()=>o(!0),e[96]=o,e[97]=Be,e[98]=He);let ct;e[99]===Symbol.for("react.memo_cache_sentinel")?(ct=(0,l.jsx)("div",{}),e[99]=ct):ct=e[99];let Je;e[100]===o?Je=e[101]:(Je=()=>o(!1),e[100]=o,e[101]=Je);let rt;e[102]!==a||e[103]!==Je?(rt=(0,l.jsx)(v.Suspense,{fallback:ct,children:(0,l.jsx)(Gm,{visible:a,onClose:Je})}),e[102]=a,e[103]=Je,e[104]=rt):rt=e[104];let nt;e[105]!==a||e[106]!==rt?(nt=(0,l.jsx)(Dm,{isOpen:a,children:rt}),e[105]=a,e[106]=rt,e[107]=nt):nt=e[107];let wt;e[108]!==ye||e[109]!==U||e[110]!==Be||e[111]!==He||e[112]!==nt||e[113]!==R?(wt=(0,l.jsxs)(vr,{ref:d,id:ye,"data-testid":"terminal",collapsedSize:0,collapsible:!0,className:U,minSize:10,defaultSize:0,maxSize:75,onResize:Ye,onCollapse:Be,onExpand:He,children:[R,nt]},"terminal"),e[108]=ye,e[109]=U,e[110]=Be,e[111]=He,e[112]=nt,e[113]=R,e[114]=wt):wt=e[114];let _t=wt,ke;e[115]===Symbol.for("react.memo_cache_sentinel")?(ke=bp("left"),e[115]=ke):ke=e[115];let _e;e[116]===Symbol.for("react.memo_cache_sentinel")?(_e=(0,l.jsx)(Ir,{children:(0,l.jsx)(km,{})}),e[116]=_e):_e=e[116];let be;e[117]===_t?be=e[118]:(be=(0,l.jsx)(za,{capability:"terminal",children:_t}),e[117]=_t,e[118]=be);let De;e[119]!==b||e[120]!==be?(De=(0,l.jsx)(vr,{children:(0,l.jsxs)(rs,{autoSaveId:"marimo:chrome:v1:l1",direction:"vertical",children:[b,be]})}),e[119]=b,e[120]=be,e[121]=De):De=e[121];let Se;e[122]===Symbol.for("react.memo_cache_sentinel")?(Se=(0,l.jsx)(c1,{}),e[122]=Se):Se=e[122];let xe;e[123]!==he||e[124]!==De?(xe=(0,l.jsxs)(rs,{autoSaveId:"marimo:chrome:v1:l2",direction:"horizontal",storage:ke,children:[_e,he,De,Se]}),e[123]=he,e[124]=De,e[125]=xe):xe=e[125];let ze,fe;e[126]===Symbol.for("react.memo_cache_sentinel")?(ze=(0,l.jsx)(Tm,{}),fe=(0,l.jsx)($m,{}),e[126]=ze,e[127]=fe):(ze=e[126],fe=e[127]);let ge;e[128]===Symbol.for("react.memo_cache_sentinel")?(ge=(0,l.jsx)(as,{children:(0,l.jsx)(Ir,{children:(0,l.jsx)(jm,{})})}),e[128]=ge):ge=e[128];let Oe;return e[129]===xe?Oe=e[130]:(Oe=(0,l.jsxs)(pp,{children:[xe,ze,fe,ge]}),e[129]=xe,e[130]=Oe),Oe};function m0(){window.dispatchEvent(new Event("resize"))}function h0(){requestAnimationFrame(m0)}function p0(){window.dispatchEvent(new Event("resize"))}function f0(){requestAnimationFrame(p0)}let La,ln,Fa;La=W(H(),1),ln=(0,v.lazy)(()=>Ne(()=>import("./command-palette-4W9o2iPI.js").then(async t=>(await t.__tla,t)),__vite__mapDeps([363,48,49,50,3,4,5,6,7,8,9,10,11,12,51,52,20,13,14,15,2,16,18,19,21,22,23,24,25,26,27,28,53,54,55,56,57,58,59,60,39,61,62,63,64,65,33,32,34,66,31,35,67,68,69,30,70,71,72,73,74,75,76,77,78,79,80,81,37,38,40,82,83,84,85,86,87,1,17,88,89,90,91,92,36,41,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,42,113,114,115,116,117,118,44,119,120,45,121,122,123,124,125,126,127,128,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,286,272,287,288,289,130,290,291,140,292,364,346,293,294,338,345,306,131,347,279,348,309,307,308,310,311,312,313,314,315,316,365,366,328,367,276,362,135,332,138,139,368,369,278,300,321]),import.meta.url)),Fa=new URL(window.location.href).searchParams.get(j1.showChrome)==="false",Ws=t=>{let e=(0,La.c)(10);if(Fa){let s;e[0]===t?s=e[1]:(s=(0,l.jsx)(Ea,{hideControls:!0,...t}),e[0]=t,e[1]=s);let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=(0,l.jsx)(ln,{}),e[2]=i):i=e[2];let o;return e[3]===s?o=e[4]:(o=(0,l.jsxs)(l.Fragment,{children:[s,i]}),e[3]=s,e[4]=o),o}let r;e[5]===t?r=e[6]:(r=(0,l.jsx)(Ea,{...t}),e[5]=t,e[6]=r);let n;e[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,l.jsx)(ln,{}),e[7]=n):n=e[7];let a;return e[8]===r?a=e[9]:(a=(0,l.jsxs)(u0,{children:[r,n]}),e[8]=r,e[9]=a),a}});export{zf as __tla,Ws as default};
