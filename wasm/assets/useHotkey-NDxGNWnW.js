import{s as g}from"./chunk-DZLz74EQ.js";import{c as v,d as C,l as S}from"./jotai-BTnrNcC1.js";import{t as b}from"./react-BcIddLXZ.js";import{t as w}from"./react-dom-D6bRRS5R.js";import{t as D}from"./compiler-runtime-Cr9loedd.js";import{a as E,c as y,d as O,u as _}from"./hotkeys-ClCtr3_I.js";import{f as H}from"./utils-DEDX0RLo.js";import{t as k}from"./useEventListener-D1FLsfmf.js";import{n as d}from"./useEvent-CRDKqG3C.js";w();var f=g(b(),1),N=(0,f.createContext)(null);function R(e){let r=(0,f.useRef)({});return f.createElement(N.Provider,{value:r},e.children)}var j=(0,f.createContext)({isSelected:!1}),x=C({});function q(){return v(x)}function z(){let e=S(x);return{registerAction:d((r,t)=>{e(o=>({...o,[r]:t}))}),unregisterAction:d(r=>{e(t=>{let{[r]:o,...a}=t;return a})})}}var A=g(D(),1);function B(e,r){let t=(0,A.c)(13),{registerAction:o,unregisterAction:a}=z(),i=v(H),n=r===O.NOOP,u;t[0]===r?u=t[1]:(u=s=>r(s),t[0]=r,t[1]=u);let m=d(u),c;t[2]!==r||t[3]!==i||t[4]!==e?(c=s=>{let h=i.getHotkey(e).key;y(h)(s)&&r(s)!==!1&&(s.preventDefault(),s.stopPropagation())},t[2]=r,t[3]=i,t[4]=e,t[5]=c):c=t[5];let P=d(c);k(document,"keydown",P);let l,p;t[6]!==n||t[7]!==m||t[8]!==o||t[9]!==e||t[10]!==a?(l=()=>{if(!n)return o(e,m),()=>a(e)},p=[m,e,n,o,a],t[6]=n,t[7]=m,t[8]=o,t[9]=e,t[10]=a,t[11]=l,t[12]=p):(l=t[11],p=t[12]),(0,f.useEffect)(l,p)}function F(e,r){let t=(0,A.c)(2),o;t[0]===r?o=t[1]:(o=a=>{for(let[i,n]of E.entries(r))y(i)(a)&&(_.debug("Satisfied",i,a),n(a)!==!1&&(a.preventDefault(),a.stopPropagation()))},t[0]=r,t[1]=o),k(e,"keydown",o)}export{R as a,j as i,F as n,q as r,B as t};
