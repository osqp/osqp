import{s as g}from"./chunk-DZLz74EQ.js";import{t as C}from"./react-BcIddLXZ.js";import{F as N,z as j}from"./zod-U2NFpcFA.js";import{t as E}from"./compiler-runtime-Cr9loedd.js";import{u as O}from"./hotkeys-ClCtr3_I.js";import{t as F}from"./jsx-runtime-mwDPpfh_.js";import{n as T,t as z}from"./cn-ZXtYmczU.js";import{c as I,i as J,l as U,n as V,s as A,t as D}from"./alert-dialog-8EwWlboa.js";var y=N({detail:j()}),v=N({error:j()});function S(r){if(!r)return"Unknown error";if(r instanceof Error){let e=y.safeParse(r.cause);return e.success?e.data.detail:q(r.message)}if(typeof r=="object"){let e=y.safeParse(r);if(e.success)return e.data.detail;let a=v.safeParse(r);if(a.success)return a.data.error}try{return JSON.stringify(r)}catch{return String(r)}}function q(r){let e=B(r);if(!e)return r;let a=y.safeParse(e);if(a.success)return a.data.detail;let t=v.safeParse(e);return t.success?t.data.error:r}function B(r){try{return JSON.parse(r)}catch{return r}}var G=class extends Error{constructor(r="The cell containing this UI element has not been run yet. Please run the cell first."){super(r),this.name="CellNotInitializedError"}},_=g(E(),1),H=g(C(),1),s=g(F(),1);const K=r=>{let e=(0,_.c)(23),{error:a,className:t,action:l}=r,[c,i]=(0,H.useState)(!1);if(!a)return null;O.error(a);let n;e[0]===a?n=e[1]:(n=S(a),e[0]=a,e[1]=n);let o=n,b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=()=>i(!0),e[2]=b):b=e[2];let d;e[3]===o?d=e[4]:(d=(0,s.jsx)("span",{className:"line-clamp-4",children:o}),e[3]=o,e[4]=d);let m;e[5]===l?m=e[6]:(m=l&&(0,s.jsx)("div",{className:"flex justify-end",children:l}),e[5]=l,e[6]=m);let f;e[7]!==t||e[8]!==d||e[9]!==m?(f=(0,s.jsxs)(P,{kind:"danger",className:t,clickable:!0,onClick:b,children:[d,m]}),e[7]=t,e[8]=d,e[9]=m,e[10]=f):f=e[10];let x;e[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,s.jsx)(I,{children:(0,s.jsx)(U,{className:"text-error",children:"Error"})}),e[11]=x):x=e[11];let u;e[12]===o?u=e[13]:(u=(0,s.jsx)("pre",{className:"text-error text-sm p-2 font-mono overflow-auto whitespace-pre-wrap",children:o}),e[12]=o,e[13]=u);let w;e[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,s.jsx)(A,{children:(0,s.jsx)(V,{autoFocus:!0,onClick:()=>i(!1),children:"Ok"})}),e[14]=w):w=e[14];let h;e[15]===u?h=e[16]:(h=(0,s.jsxs)(J,{className:"max-w-[80%] max-h-[80%] overflow-hidden flex flex-col",children:[x,u,w]}),e[15]=u,e[16]=h);let p;e[17]!==c||e[18]!==h?(p=(0,s.jsx)(D,{open:c,onOpenChange:i,children:h}),e[17]=c,e[18]=h,e[19]=p):p=e[19];let k;return e[20]!==p||e[21]!==f?(k=(0,s.jsxs)(s.Fragment,{children:[f,p]}),e[20]=p,e[21]=f,e[22]=k):k=e[22],k};var L=T("text-sm p-2 border whitespace-pre-wrap overflow-hidden",{variants:{kind:{danger:"text-error border-(--red-6) shadow-md-solid shadow-error bg-(--red-1)",info:"text-primary border-(--blue-6) shadow-md-solid shadow-accent bg-(--blue-1)",warn:"border-(--yellow-6) bg-(--yellow-2) dark:bg-(--yellow-4) text-(--yellow-11) dark:text-(--yellow-12)"},clickable:{true:"cursor-pointer"}},compoundVariants:[{clickable:!0,kind:"danger",className:"hover:bg-(--red-3)"},{clickable:!0,kind:"info",className:"hover:bg-(--blue-3)"},{clickable:!0,kind:"warn",className:"hover:bg-(--yellow-3)"}],defaultVariants:{kind:"info"}});const P=r=>{let e=(0,_.c)(14),a,t,l,c,i;e[0]===r?(a=e[1],t=e[2],l=e[3],c=e[4],i=e[5]):({kind:c,clickable:l,className:t,children:a,...i}=r,e[0]=r,e[1]=a,e[2]=t,e[3]=l,e[4]=c,e[5]=i);let n;e[6]!==t||e[7]!==l||e[8]!==c?(n=z(L({kind:c,clickable:l}),t),e[6]=t,e[7]=l,e[8]=c,e[9]=n):n=e[9];let o;return e[10]!==a||e[11]!==i||e[12]!==n?(o=(0,s.jsx)("div",{className:n,...i,children:a}),e[10]=a,e[11]=i,e[12]=n,e[13]=o):o=e[13],o};export{S as i,K as n,G as r,P as t};
