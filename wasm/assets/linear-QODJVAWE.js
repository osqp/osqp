import{c as I,i as v,a as w,b as J,f as A}from"./timer-DFzT7np-.js";import{bv as d,ct as K,bE as L,cu as P,cv as Q,cw as U,cx as W,cy as X,cz as Y,cA as Z,cB as _}from"./index-aRpq2G87.js";import{i as $}from"./init-DLRA0X12.js";function k(n){return n===null?NaN:+n}function*nn(n,r){if(r===void 0)for(let t of n)t!=null&&(t=+t)>=t&&(yield t);else{let t=-1;for(let e of n)(e=r(e,++t,n))!=null&&(e=+e)>=e&&(yield e)}}const x=d(K),j=x.right,tn=x.left;function y(n,r){r||(r=[]);var t,e=n?Math.min(r.length,n.length):0,a=r.slice();return function(i){for(t=0;t<e;++t)a[t]=n[t]*(1-i)+r[t]*i;return a}}function D(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function rn(n,r){return(D(r)?y:B)(n,r)}function B(n,r){var t,e=r?r.length:0,a=n?Math.min(e,n.length):0,i=new Array(a),u=new Array(e);for(t=0;t<a;++t)i[t]=p(n[t],r[t]);for(;t<e;++t)u[t]=r[t];return function(c){for(t=0;t<a;++t)u[t]=i[t](c);return u}}function V(n,r){var t=new Date;return n=+n,r=+r,function(e){return t.setTime(n*(1-e)+r*e),t}}function q(n,r){var t,e={},a={};for(t in n!==null&&typeof n=="object"||(n={}),r!==null&&typeof r=="object"||(r={}),r)t in n?e[t]=p(n[t],r[t]):a[t]=r[t];return function(i){for(t in e)a[t]=e[t](i);return a}}function p(n,r){var t,e=typeof r;return r==null||e==="boolean"?I(r):(e==="number"?v:e==="string"?(t=A(r))?(r=t,w):J:r instanceof A?w:r instanceof Date?V:D(r)?y:Array.isArray(r)?B:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?q:v)(n,r)}function z(n,r){return n=+n,r=+r,function(t){return Math.round(n*(1-t)+r*t)}}function E(n){return+n}d(k).center;var F=[0,1];function g(n){return n}function M(n,r){return(r-=n=+n)?function(e){return(e-n)/r}:(t=isNaN(r)?NaN:.5,function(){return t});var t}function en(n,r,t){var e=n[0],a=n[1],i=r[0],u=r[1];return a<e?(e=M(a,e),i=t(u,i)):(e=M(e,a),i=t(i,u)),function(c){return i(e(c))}}function an(n,r,t){var e=Math.min(n.length,r.length)-1,a=new Array(e),i=new Array(e),u=-1;for(n[e]<n[0]&&(n=n.slice().reverse(),r=r.slice().reverse());++u<e;)a[u]=M(n[u],n[u+1]),i[u]=t(r[u],r[u+1]);return function(c){var f=j(n,c,1,e)-1;return i[f](a[f](c))}}function O(n,r){return r.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function R(){var n,r,t,e,a,i,u=F,c=F,f=p,s=g;function h(){var o,m,N,b=Math.min(u.length,c.length);return s!==g&&(o=u[0],m=u[b-1],o>m&&(N=o,o=m,m=N),s=function(H){return Math.max(o,Math.min(m,H))}),e=b>2?an:en,a=i=null,l}function l(o){return o==null||isNaN(o=+o)?t:(a||(a=e(u.map(n),c,f)))(n(s(o)))}return l.invert=function(o){return s(r((i||(i=e(c,u.map(n),v)))(o)))},l.domain=function(o){return arguments.length?(u=Array.from(o,E),h()):u.slice()},l.range=function(o){return arguments.length?(c=Array.from(o),h()):c.slice()},l.rangeRound=function(o){return c=Array.from(o),f=z,h()},l.clamp=function(o){return arguments.length?(s=!!o||g,h()):s!==g},l.interpolate=function(o){return arguments.length?(f=o,h()):f},l.unknown=function(o){return arguments.length?(t=o,l):t},function(o,m){return n=o,r=m,h()}}function S(){return R()(g,g)}function T(n,r,t,e){var a,i=L(n,r,t);switch((e=P(e??",f")).type){case"s":var u=Math.max(Math.abs(n),Math.abs(r));return e.precision!=null||isNaN(a=W(i,u))||(e.precision=a),X(e,u);case"":case"e":case"g":case"p":case"r":e.precision!=null||isNaN(a=U(i,Math.max(Math.abs(n),Math.abs(r))))||(e.precision=a-(e.type==="e"));break;case"f":case"%":e.precision!=null||isNaN(a=Q(i))||(e.precision=a-2*(e.type==="%"))}return Y(e)}function C(n){var r=n.domain;return n.ticks=function(t){var e=r();return Z(e[0],e[e.length-1],t??10)},n.tickFormat=function(t,e){var a=r();return T(a[0],a[a.length-1],t??10,e)},n.nice=function(t){t==null&&(t=10);var e,a,i=r(),u=0,c=i.length-1,f=i[u],s=i[c],h=10;for(s<f&&(a=f,f=s,s=a,a=u,u=c,c=a);h-- >0;){if((a=_(f,s,t))===e)return i[u]=f,i[c]=s,r(i);if(a>0)f=Math.floor(f/a)*a,s=Math.ceil(s/a)*a;else{if(!(a<0))break;f=Math.ceil(f*a)/a,s=Math.floor(s*a)/a}e=a}return n},n}function G(){var n=S();return n.copy=function(){return O(n,G())},$.apply(n,arguments),C(n)}export{O as a,k as b,S as c,rn as d,V as e,y as f,z as g,E as h,p as i,C as j,g as k,G as l,j as m,nn as n,q as o,T as p,tn as q,R as t};
