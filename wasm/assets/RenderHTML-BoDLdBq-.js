import{s as d}from"./chunk-DZLz74EQ.js";import{t as p}from"./react-BcIddLXZ.js";import{n as u,t as h}from"./jsx-runtime-DvsdsEjx.js";import{n as E,r as m}from"./documentation-B7z6bB-t.js";import{t as g}from"./copy-icon-6ICckC-p.js";var x=d(u()),c=d(p()),s=d(h()),j=e=>{if(e instanceof m.Element&&!/^[A-Za-z][\w-]*$/.test(e.name))return c.createElement(c.Fragment)},b=(e,t)=>{if(t instanceof m.Element&&t.name==="body"){if((0,c.isValidElement)(e)&&"props"in e){let r=e.props.children;return(0,s.jsx)(s.Fragment,{children:r})}return}},v=(e,t)=>{if(t instanceof m.Element&&t.name==="html"){if((0,c.isValidElement)(e)&&"props"in e){let r=e.props.children;return(0,s.jsx)(s.Fragment,{children:r})}return}},y=e=>{if(e instanceof m.Element&&e.attribs&&e.name==="iframe"){let t=document.createElement("iframe");return Object.entries(e.attribs).forEach(([r,i])=>{r.startsWith('"')&&r.endsWith('"')&&(r=r.slice(1,-1)),t.setAttribute(r,i)}),(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:t.outerHTML}})}},F=e=>{if(e instanceof m.Element&&e.name==="script"){let t=e.attribs.src;if(!t)return;if(!document.querySelector(`script[src="${t}"]`)){let r=document.createElement("script");r.src=t,document.head.append(r)}return(0,s.jsx)(s.Fragment,{})}},I=(e,t,r)=>{var i,n;if(t instanceof m.Element&&t.name==="div"&&((n=(i=t.attribs)==null?void 0:i.class)!=null&&n.includes("codehilite")))return(0,s.jsx)(N,{children:e},r)},N=e=>{let t=(0,x.c)(6),{children:r}=e,i=(0,c.useId)(),n;t[0]===i?n=t[1]:(n=(0,s.jsx)("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,s.jsx)(g,{tooltip:!1,className:"p-1",value:()=>{var l;let o=(l=document.getElementById(i))==null?void 0:l.firstChild;return o&&o.textContent||""}})}),t[0]=i,t[1]=n);let a;return t[2]!==r||t[3]!==i||t[4]!==n?(a=(0,s.jsxs)("div",{className:"relative group codehilite-wrapper",id:i,children:[r,n]}),t[2]=r,t[3]=i,t[4]=n,t[5]=a):a=t[5],a};const _=({html:e,additionalReplacements:t=[]})=>{let r=[j,y,F,...t],i=[I,b,v];return E(e,{replace:(n,a)=>{for(let o of r){let l=o(n,a);if(l)return l}return n},transform:(n,a,o)=>{for(let l of i){let f=l(n,a,o);if(f)return f}return n}})};export{_ as t};
