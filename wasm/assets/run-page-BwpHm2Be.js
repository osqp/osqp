import{G as e,H as s,J as a,K as o,M as t,O as r,P as n,Q as i,S as l,T as c,U as m,V as d,W as h,X as b,Y as x,Z as f,_ as y,$ as p,a0 as u,a1 as g,a2 as _,a3 as j,a4 as k,a5 as v,a6 as w,a7 as S}from"./index-DpRd2AzK.js";import{u as N,A as C,R as I,a as P,C as T}from"./useMarimoWebSocket-BnOvHiTJ.js";const A=n=>{const l=e.c(14),{appConfig:c}=n,{setCells:m}=s();let d,h,b;l[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],l[0]=d):d=l[0],a.useEffect(E,d),l[1]===Symbol.for("react.memo_cache_sentinel")?(h=i(),l[1]=h):h=l[1],l[2]!==m?(b={autoInstantiate:!0,setCells:m,sessionId:h},l[2]=m,l[3]=b):b=l[3];const{connection:x}=N(b),f=o(t);let y,p,u;return l[4]!==x?(y=r.jsx(P,{connection:x,className:"sm:pt-8"}),l[4]=x,l[5]=y):y=l[5],l[6]!==c?(p=r.jsx(T,{appConfig:c,mode:"read"}),l[6]=c,l[7]=p):p=l[7],l[8]!==c.width||l[9]!==x||l[10]!==f||l[11]!==y||l[12]!==p?(u=r.jsxs(C,{connection:x,isRunning:f,width:c.width,children:[y,p]}),l[8]=c.width,l[9]=x,l[10]=f,l[11]=y,l[12]=p,l[13]=u):u=l[13],u};function W(){I.INSTANCE.stop()}function E(){return I.INSTANCE.start(n),W}const R=()=>{const s=e.c(4);if(!l())return null;let a;s[0]===Symbol.for("react.memo_cache_sentinel")?(a=c(),s[0]=a):a=s[0];const o=a;if(!o)return null;let t,n,i;return s[1]===Symbol.for("react.memo_cache_sentinel")?(t=r.jsx("a",{href:m.githubPage,target:"_blank",className:"underline",rel:"noreferrer",children:"marimo"}),s[1]=t):t=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsxs("span",{children:["This is a static Python notebook built using"," ",t,".",r.jsx("br",{}),"Some interactive features may not work, see ways to run or edit this."]}),s[2]=n):n=s[2],s[3]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsxs("div",{className:"px-4 py-2 bg-[var(--sky-2)] border-b border-[var(--sky-7)] text-md text-[var(--sky-11)] font-semibold flex justify-between items-center gap-4 no-print",children:[n,r.jsx("span",{className:"flex-shrink-0",children:r.jsx(F,{code:o})})]}),s[3]=i):i=s[3],i},F=s=>{const a=e.c(81),{code:o}=s;let t;if(a[0]===Symbol.for("react.memo_cache_sentinel")){t=d()||"notebook.py";const e=t.lastIndexOf("/");-1!==e&&(t=t.slice(e+1)),a[0]=t}else t=a[0];const n=window.location.href;let i,l,c,S,N,C,I,P,T,A,W,E,R,F,M,O,Y,z,B,D,G,H,J,K,Q,U,V,X,Z,$,q,L,ee,se,ae,oe,te;if(a[1]!==o){const e=h({code:o});let s;S=b,a[25]===Symbol.for("react.memo_cache_sentinel")?(M=r.jsx(x,{asChild:!0,children:r.jsx(f,{"data-testid":"static-notebook-dialog-trigger",variant:"secondary",children:"Run or edit this notebook"})}),a[25]=M):M=a[25],c=y,l=p,a[26]===Symbol.for("react.memo_cache_sentinel")?(F=r.jsx(u,{children:t}),a[26]=F):F=a[26],i=g,D="pt-4 text-md text-left",G="This is a static notebook built using",H=" ",a[27]===Symbol.for("react.memo_cache_sentinel")?(J=r.jsx("a",{href:m.githubPage,target:"_blank",className:"text-link hover:underline",rel:"noreferrer",children:"marimo"}),a[27]=J):J=a[27],C=". marimo is an open-source next-generation Python notebook.",a[28]===Symbol.for("react.memo_cache_sentinel")?(I=r.jsx("hr",{className:"my-3"}),a[28]=I):I=a[28],P="In order to edit this notebook, you will need to download the code locally, install marimo, and run the following in your terminal:",a[29]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx("br",{}),a[29]=s):s=a[29],a[30]===Symbol.for("react.memo_cache_sentinel")?(T=r.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)]",children:["pip install marimo",s,"marimo edit ",t]}),A=!n.endsWith(".html")&&r.jsxs(r.Fragment,{children:["or",r.jsxs("div",{className:"font-mono text-sm bg-[var(--sky-2)] rounded-md my-3 p-2 border border-[var(--sky-7)] break-all",children:["marimo edit ",window.location.href]})]}),W=r.jsx("hr",{className:"my-3"}),a[30]=T,a[31]=A,a[32]=W):(T=a[30],A=a[31],W=a[32]),E="You may also be able to run this notebook entirely in the browser via WebAssembly at:",R=" ",N=e,O="_blank",Y="text-link hover:underline",z="noreferrer",B=e.slice(0,40),a[1]=o,a[2]=i,a[3]=l,a[4]=c,a[5]=S,a[6]=N,a[7]=C,a[8]=I,a[9]=P,a[10]=T,a[11]=A,a[12]=W,a[13]=E,a[14]=R,a[15]=F,a[16]=M,a[17]=O,a[18]=Y,a[19]=z,a[20]=B,a[21]=D,a[22]=G,a[23]=H,a[24]=J}else i=a[2],l=a[3],c=a[4],S=a[5],N=a[6],C=a[7],I=a[8],P=a[9],T=a[10],A=a[11],W=a[12],E=a[13],R=a[14],F=a[15],M=a[16],O=a[17],Y=a[18],z=a[19],B=a[20],D=a[21],G=a[22],H=a[23],J=a[24];return a[33]!==N||a[34]!==O||a[35]!==Y||a[36]!==z||a[37]!==B?(K=r.jsxs("a",{href:N,target:O,className:Y,rel:z,children:[B,"..."]}),a[33]=N,a[34]=O,a[35]=Y,a[36]=z,a[37]=B,a[38]=K):K=a[38],a[39]===Symbol.for("react.memo_cache_sentinel")?(Q=r.jsx("br",{}),a[39]=Q):Q=a[39],a[40]===Symbol.for("react.memo_cache_sentinel")?(U=r.jsxs("div",{className:"text-sm text-muted-foreground pt-2",children:[r.jsx("strong",{children:"Note:"})," This feature is experimental and may not work for all notebooks. Additionally, some dependencies may not be available in the browser."]}),a[40]=U):U=a[40],a[41]!==i||a[42]!==C||a[43]!==I||a[44]!==P||a[45]!==T||a[46]!==A||a[47]!==W||a[48]!==E||a[49]!==R||a[50]!==K||a[51]!==D||a[52]!==G||a[53]!==H||a[54]!==J?(V=r.jsxs(i,{className:D,children:[G,H,J,C,I,P,T,A,W,E,R,K,Q,U]}),a[41]=i,a[42]=C,a[43]=I,a[44]=P,a[45]=T,a[46]=A,a[47]=W,a[48]=E,a[49]=R,a[50]=K,a[51]=D,a[52]=G,a[53]=H,a[54]=J,a[55]=V):V=a[55],a[56]!==l||a[57]!==F||a[58]!==V?(X=r.jsxs(l,{children:[F,V]}),a[56]=l,a[57]=F,a[58]=V,a[59]=X):X=a[59],a[60]!==o?(Z=async()=>{await _(o),j({title:"Copied to clipboard"})},a[60]=o,a[61]=Z):Z=a[61],a[62]===Symbol.for("react.memo_cache_sentinel")?($=r.jsx(k,{className:"w-4 h-4 mr-1"}),a[62]=$):$=a[62],a[63]!==Z?(q=r.jsxs(f,{"data-testid":"copy-static-notebook-dialog-button",variant:"secondary",onClick:Z,children:[$,"Copy code"]}),a[63]=Z,a[64]=q):q=a[64],a[65]!==o?(L=()=>{v(new Blob([o],{type:"text/plain"}),t)},a[65]=o,a[66]=L):L=a[66],a[67]===Symbol.for("react.memo_cache_sentinel")?(ee=r.jsx(w,{className:"w-4 h-4 mr-1"}),a[67]=ee):ee=a[67],a[68]!==L?(se=r.jsxs(f,{"data-testid":"download-static-notebook-dialog-button",variant:"secondary",onClick:L,children:[ee,"Download code"]}),a[68]=L,a[69]=se):se=a[69],a[70]!==q||a[71]!==se?(ae=r.jsxs("div",{className:"flex gap-4 flex-wrap",children:[q,se]}),a[70]=q,a[71]=se,a[72]=ae):ae=a[72],a[73]!==c||a[74]!==X||a[75]!==ae?(oe=r.jsxs(c,{children:[X,ae]}),a[73]=c,a[74]=X,a[75]=ae,a[76]=oe):oe=a[76],a[77]!==S||a[78]!==M||a[79]!==oe?(te=r.jsxs(S,{children:[M,oe]}),a[77]=S,a[78]=M,a[79]=oe,a[80]=te):te=a[80],te},M=S()||l(),O=s=>{const a=e.c(6);let o,t,n,i;return a[0]===Symbol.for("react.memo_cache_sentinel")?(o=r.jsx(R,{}),a[0]=o):o=a[0],a[1]!==s.appConfig?(t=r.jsx(A,{appConfig:s.appConfig}),a[1]=s.appConfig,a[2]=t):t=a[2],a[3]===Symbol.for("react.memo_cache_sentinel")?(n=M&&r.jsx(Y,{}),a[3]=n):n=a[3],a[4]!==t?(i=r.jsxs(r.Fragment,{children:[o,t,n]}),a[4]=t,a[5]=i):i=a[5],i},Y=()=>{const s=e.c(1);let a;return s[0]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsx("div",{className:"fixed bottom-0 right-0 z-50",children:r.jsxs("a",{href:m.githubPage,target:"_blank",className:"text-sm text-[var(--grass-11)] font-bold tracking-wide transition-colors bg-[var(--grass-4)] hover:bg-[var(--grass-5)] border-t border-l border-[var(--grass-8)] px-3 py-1 rounded-tl-md flex items-center gap-2",rel:"noreferrer",children:[r.jsx("span",{className:"pb-[2px]",children:"made with marimo"}),r.jsx("img",{src:"./favicon.ico",alt:"marimo",className:"h-4 w-auto"})]})}),s[0]=a):a=s[0],a};export{O as default};
