import{t as e}from"./javascript-dAA8UGkz.js";var s={"{":"}","(":")","[":"]"};function p(i){if(typeof i!="object")return i;let t={};for(let n in i){let r=i[n];t[n]=r instanceof Array?r.slice():r}return t}var l=class f{constructor(t){this.indentUnit=t,this.javaScriptLine=!1,this.javaScriptLineExcludesColon=!1,this.javaScriptArguments=!1,this.javaScriptArgumentsDepth=0,this.isInterpolating=!1,this.interpolationNesting=0,this.jsState=e.startState(t),this.restOfLine="",this.isIncludeFiltered=!1,this.isEach=!1,this.lastTag="",this.isAttrs=!1,this.attrsNest=[],this.inAttributeName=!0,this.attributeIsType=!1,this.attrValue="",this.indentOf=1/0,this.indentToken=""}copy(){var t=new f(this.indentUnit);return t.javaScriptLine=this.javaScriptLine,t.javaScriptLineExcludesColon=this.javaScriptLineExcludesColon,t.javaScriptArguments=this.javaScriptArguments,t.javaScriptArgumentsDepth=this.javaScriptArgumentsDepth,t.isInterpolating=this.isInterpolating,t.interpolationNesting=this.interpolationNesting,t.jsState=(e.copyState||p)(this.jsState),t.restOfLine=this.restOfLine,t.isIncludeFiltered=this.isIncludeFiltered,t.isEach=this.isEach,t.lastTag=this.lastTag,t.isAttrs=this.isAttrs,t.attrsNest=this.attrsNest.slice(),t.inAttributeName=this.inAttributeName,t.attributeIsType=this.attributeIsType,t.attrValue=this.attrValue,t.indentOf=this.indentOf,t.indentToken=this.indentToken,t}};function h(i,t){if(i.sol()&&(t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1),t.javaScriptLine){if(t.javaScriptLineExcludesColon&&i.peek()===":"){t.javaScriptLine=!1,t.javaScriptLineExcludesColon=!1;return}var n=e.token(i,t.jsState);return i.eol()&&(t.javaScriptLine=!1),n||!0}}function m(i,t){if(t.javaScriptArguments){if(t.javaScriptArgumentsDepth===0&&i.peek()!=="("){t.javaScriptArguments=!1;return}if(i.peek()==="("?t.javaScriptArgumentsDepth++:i.peek()===")"&&t.javaScriptArgumentsDepth--,t.javaScriptArgumentsDepth===0){t.javaScriptArguments=!1;return}return e.token(i,t.jsState)||!0}}function d(i){if(i.match(/^yield\b/))return"keyword"}function v(i){if(i.match(/^(?:doctype) *([^\n]+)?/))return"meta"}function c(i,t){if(i.match("#{"))return t.isInterpolating=!0,t.interpolationNesting=0,"punctuation"}function S(i,t){if(t.isInterpolating){if(i.peek()==="}"){if(t.interpolationNesting--,t.interpolationNesting<0)return i.next(),t.isInterpolating=!1,"punctuation"}else i.peek()==="{"&&t.interpolationNesting++;return e.token(i,t.jsState)||!0}}function j(i,t){if(i.match(/^case\b/))return t.javaScriptLine=!0,"keyword"}function g(i,t){if(i.match(/^when\b/))return t.javaScriptLine=!0,t.javaScriptLineExcludesColon=!0,"keyword"}function k(i){if(i.match(/^default\b/))return"keyword"}function b(i,t){if(i.match(/^extends?\b/))return t.restOfLine="string","keyword"}function A(i,t){if(i.match(/^append\b/))return t.restOfLine="variable","keyword"}function L(i,t){if(i.match(/^prepend\b/))return t.restOfLine="variable","keyword"}function y(i,t){if(i.match(/^block\b *(?:(prepend|append)\b)?/))return t.restOfLine="variable","keyword"}function w(i,t){if(i.match(/^include\b/))return t.restOfLine="string","keyword"}function N(i,t){if(i.match(/^include:([a-zA-Z0-9\-]+)/,!1)&&i.match("include"))return t.isIncludeFiltered=!0,"keyword"}function x(i,t){if(t.isIncludeFiltered){var n=u(i,t);return t.isIncludeFiltered=!1,t.restOfLine="string",n}}function T(i,t){if(i.match(/^mixin\b/))return t.javaScriptLine=!0,"keyword"}function I(i,t){if(i.match(/^\+([-\w]+)/))return i.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),"variable";if(i.match("+#{",!1))return i.next(),t.mixinCallAfter=!0,c(i,t)}function O(i,t){if(t.mixinCallAfter)return t.mixinCallAfter=!1,i.match(/^\( *[-\w]+ *=/,!1)||(t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0),!0}function E(i,t){if(i.match(/^(if|unless|else if|else)\b/))return t.javaScriptLine=!0,"keyword"}function C(i,t){if(i.match(/^(- *)?(each|for)\b/))return t.isEach=!0,"keyword"}function D(i,t){if(t.isEach){if(i.match(/^ in\b/))return t.javaScriptLine=!0,t.isEach=!1,"keyword";if(i.sol()||i.eol())t.isEach=!1;else if(i.next()){for(;!i.match(/^ in\b/,!1)&&i.next(););return"variable"}}}function F(i,t){if(i.match(/^while\b/))return t.javaScriptLine=!0,"keyword"}function V(i,t){var n;if(n=i.match(/^(\w(?:[-:\w]*\w)?)\/?/))return t.lastTag=n[1].toLowerCase(),"tag"}function u(i,t){if(i.match(/^:([\w\-]+)/))return a(i,t),"atom"}function U(i,t){if(i.match(/^(!?=|-)/))return t.javaScriptLine=!0,"punctuation"}function z(i){if(i.match(/^#([\w-]+)/))return"builtin"}function B(i){if(i.match(/^\.([\w-]+)/))return"className"}function G(i,t){if(i.peek()=="(")return i.next(),t.isAttrs=!0,t.attrsNest=[],t.inAttributeName=!0,t.attrValue="",t.attributeIsType=!1,"punctuation"}function o(i,t){if(t.isAttrs){if(s[i.peek()]&&t.attrsNest.push(s[i.peek()]),t.attrsNest[t.attrsNest.length-1]===i.peek())t.attrsNest.pop();else if(i.eat(")"))return t.isAttrs=!1,"punctuation";if(t.inAttributeName&&i.match(/^[^=,\)!]+/))return(i.peek()==="="||i.peek()==="!")&&(t.inAttributeName=!1,t.jsState=e.startState(2),t.lastTag==="script"&&i.current().trim().toLowerCase()==="type"?t.attributeIsType=!0:t.attributeIsType=!1),"attribute";var n=e.token(i,t.jsState);if(t.attrsNest.length===0&&(n==="string"||n==="variable"||n==="keyword"))try{return Function("","var x "+t.attrValue.replace(/,\s*$/,"").replace(/^!/,"")),t.inAttributeName=!0,t.attrValue="",i.backUp(i.current().length),o(i,t)}catch{}return t.attrValue+=i.current(),n||!0}}function H(i,t){if(i.match(/^&attributes\b/))return t.javaScriptArguments=!0,t.javaScriptArgumentsDepth=0,"keyword"}function K(i){if(i.sol()&&i.eatSpace())return"indent"}function M(i,t){if(i.match(/^ *\/\/(-)?([^\n]*)/))return t.indentOf=i.indentation(),t.indentToken="comment","comment"}function P(i){if(i.match(/^: */))return"colon"}function R(i,t){if(i.match(/^(?:\| ?| )([^\n]+)/))return"string";if(i.match(/^(<[^\n]*)/,!1))return a(i,t),i.skipToEnd(),t.indentToken}function W(i,t){if(i.eat("."))return a(i,t),"dot"}function Z(i){return i.next(),null}function a(i,t){t.indentOf=i.indentation(),t.indentToken="string"}function $(i,t){if(i.sol()&&(t.restOfLine=""),t.restOfLine){i.skipToEnd();var n=t.restOfLine;return t.restOfLine="",n}}function q(i){return new l(i)}function J(i){return i.copy()}function Q(i,t){var n=$(i,t)||S(i,t)||x(i,t)||D(i,t)||o(i,t)||h(i,t)||m(i,t)||O(i,t)||d(i)||v(i)||c(i,t)||j(i,t)||g(i,t)||k(i)||b(i,t)||A(i,t)||L(i,t)||y(i,t)||w(i,t)||N(i,t)||T(i,t)||I(i,t)||E(i,t)||C(i,t)||F(i,t)||V(i,t)||u(i,t)||U(i,t)||z(i)||B(i)||G(i,t)||H(i,t)||K(i)||R(i,t)||M(i,t)||P(i)||W(i,t)||Z(i);return n===!0?null:n}const X={startState:q,copyState:J,token:Q};export{X as t};
