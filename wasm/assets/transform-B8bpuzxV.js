import{T as it,t as ot,g as ut,i as st,a as V,b as at,f as X,j as lt,k as ct,l as ft}from"./timer-BwIYMJWC.js";var M="http://www.w3.org/1999/xhtml";const z={svg:"http://www.w3.org/2000/svg",xhtml:M,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function T(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),z.hasOwnProperty(n)?{space:z[n],local:t}:t}function ht(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===M&&n.documentElement.namespaceURI===M?n.createElement(t):n.createElementNS(e,t)}}function pt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function H(t){var n=T(t);return(n.local?pt:ht)(n)}function _t(){}function q(t){return t==null?_t:function(){return this.querySelector(t)}}function vt(){return[]}function I(t){return t==null?vt:function(){return this.querySelectorAll(t)}}function dt(t){return function(){return(n=t.apply(this,arguments))==null?[]:Array.isArray(n)?n:Array.from(n);var n}}function R(t){return function(){return this.matches(t)}}function U(t){return function(n){return n.matches(t)}}var yt=Array.prototype.find;function mt(){return this.firstElementChild}var gt=Array.prototype.filter;function wt(){return Array.from(this.children)}function Y(t){return new Array(t.length)}function L(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function At(t,n,e,r,i,u){for(var s,o=0,l=n.length,a=u.length;o<a;++o)(s=n[o])?(s.__data__=u[o],r[o]=s):e[o]=new L(t,u[o]);for(;o<l;++o)(s=n[o])&&(i[o]=s)}function xt(t,n,e,r,i,u,s){var o,l,a,c=new Map,f=n.length,h=u.length,p=new Array(f);for(o=0;o<f;++o)(l=n[o])&&(p[o]=a=s.call(l,l.__data__,o,n)+"",c.has(a)?i[o]=l:c.set(a,l));for(o=0;o<h;++o)a=s.call(t,u[o],o,u)+"",(l=c.get(a))?(r[o]=l,l.__data__=u[o],c.delete(a)):e[o]=new L(t,u[o]);for(o=0;o<f;++o)(l=n[o])&&c.get(p[o])===l&&(i[o]=l)}function bt(t){return t.__data__}function Et(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function St(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function Nt(t){return function(){this.removeAttribute(t)}}function Ct(t){return function(){this.removeAttributeNS(t.space,t.local)}}function kt(t,n){return function(){this.setAttribute(t,n)}}function Pt(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Tt(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Lt(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function $(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Bt(t){return function(){this.style.removeProperty(t)}}function Mt(t,n,e){return function(){this.style.setProperty(t,n,e)}}function qt(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function C(t,n){return t.style.getPropertyValue(n)||$(t).getComputedStyle(t,null).getPropertyValue(n)}function Dt(t){return function(){delete this[t]}}function Ot(t,n){return function(){this[t]=n}}function jt(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function F(t){return t.trim().split(/^|\s+/)}function D(t){return t.classList||new G(t)}function G(t){this._node=t,this._names=F(t.getAttribute("class")||"")}function J(t,n){for(var e=D(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function K(t,n){for(var e=D(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Vt(t){return function(){J(this,t)}}function Xt(t){return function(){K(this,t)}}function zt(t,n){return function(){(n.apply(this,arguments)?J:K)(this,t)}}function Ht(){this.textContent=""}function It(t){return function(){this.textContent=t}}function Rt(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Ut(){this.innerHTML=""}function Yt(t){return function(){this.innerHTML=t}}function $t(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Ft(){this.nextSibling&&this.parentNode.appendChild(this)}function Gt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Jt(){return null}function Kt(){var t=this.parentNode;t&&t.removeChild(this)}function Qt(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Wt(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Zt(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,u=n.length;r<u;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function tn(t,n,e){return function(){var r,i=this.__on,u=function(l){return function(a){l.call(this,a,this.__data__)}}(n);if(i){for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=u,r.options=e),void(r.value=n)}this.addEventListener(t.type,u,e),r={type:t.type,name:t.name,value:n,listener:u,options:e},i?i.push(r):this.__on=[r]}}function Q(t,n,e){var r=$(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function nn(t,n){return function(){return Q(this,t,n)}}function en(t,n){return function(){return Q(this,t,n.apply(this,arguments))}}L.prototype={constructor:L,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},G.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var W=[null];function g(t,n){this._groups=t,this._parents=n}function k(){return new g([[document.documentElement]],W)}function rn(t){return typeof t=="string"?new g([[document.querySelector(t)]],[document.documentElement]):new g([[t]],W)}function Z(t,n,e){var r=new it;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}g.prototype=k.prototype={constructor:g,select:function(t){typeof t!="function"&&(t=q(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,s,o=n[i],l=o.length,a=r[i]=new Array(l),c=0;c<l;++c)(u=o[c])&&(s=t.call(u,u.__data__,c,o))&&("__data__"in u&&(s.__data__=u.__data__),a[c]=s);return new g(r,this._parents)},selectAll:function(t){t=typeof t=="function"?dt(t):I(t);for(var n=this._groups,e=n.length,r=[],i=[],u=0;u<e;++u)for(var s,o=n[u],l=o.length,a=0;a<l;++a)(s=o[a])&&(r.push(t.call(s,s.__data__,a,o)),i.push(s));return new g(r,i)},selectChild:function(t){return this.select(t==null?mt:function(n){return function(){return yt.call(this.children,n)}}(typeof t=="function"?t:U(t)))},selectChildren:function(t){return this.selectAll(t==null?wt:function(n){return function(){return gt.call(this.children,n)}}(typeof t=="function"?t:U(t)))},filter:function(t){typeof t!="function"&&(t=R(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,s=n[i],o=s.length,l=r[i]=[],a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new g(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,bt);var e,r=n?xt:At,i=this._parents,u=this._groups;typeof t!="function"&&(e=t,t=function(){return e});for(var s=u.length,o=new Array(s),l=new Array(s),a=new Array(s),c=0;c<s;++c){var f=i[c],h=u[c],p=h.length,_=Et(t.call(f,f&&f.__data__,c,i)),y=_.length,m=l[c]=new Array(y),d=o[c]=new Array(y);r(f,h,m,d,a[c]=new Array(p),_,n);for(var x,S,v=0,P=0;v<y;++v)if(x=m[v]){for(v>=P&&(P=v+1);!(S=d[P])&&++P<y;);x._next=S||null}}return(o=new g(o,i))._enter=l,o._exit=a,o},enter:function(){return new g(this._enter||this._groups.map(Y),this._parents)},exit:function(){return new g(this._exit||this._groups.map(Y),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,u=this.exit();return typeof t=="function"?(r=t(r))&&(r=r.selection()):r=r.append(t+""),n!=null&&(i=n(i))&&(i=i.selection()),e==null?u.remove():e(u),r&&i?r.merge(i).order():i},merge:function(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,u=r.length,s=Math.min(i,u),o=new Array(i),l=0;l<s;++l)for(var a,c=e[l],f=r[l],h=c.length,p=o[l]=new Array(h),_=0;_<h;++_)(a=c[_]||f[_])&&(p[_]=a);for(;l<i;++l)o[l]=e[l];return new g(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],u=i.length-1,s=i[u];--u>=0;)(r=i[u])&&(s&&4^r.compareDocumentPosition(s)&&s.parentNode.insertBefore(r,s),s=r);return this},sort:function(t){function n(f,h){return f&&h?t(f.__data__,h.__data__):!f-!h}t||(t=St);for(var e=this._groups,r=e.length,i=new Array(r),u=0;u<r;++u){for(var s,o=e[u],l=o.length,a=i[u]=new Array(l),c=0;c<l;++c)(s=o[c])&&(a[c]=s);a.sort(n)}return new g(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,u=r.length;i<u;++i){var s=r[i];if(s)return s}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,u=n[e],s=0,o=u.length;s<o;++s)(i=u[s])&&t.call(i,i.__data__,s,u);return this},attr:function(t,n){var e=T(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Ct:Nt:typeof n=="function"?e.local?Lt:Tt:e.local?Pt:kt)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((n==null?Bt:typeof n=="function"?qt:Mt)(t,n,e??"")):C(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((n==null?Dt:typeof n=="function"?jt:Ot)(t,n)):this.node()[t]},classed:function(t,n){var e=F(t+"");if(arguments.length<2){for(var r=D(this.node()),i=-1,u=e.length;++i<u;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?zt:n?Vt:Xt)(e,n))},text:function(t){return arguments.length?this.each(t==null?Ht:(typeof t=="function"?Rt:It)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(t==null?Ut:(typeof t=="function"?$t:Yt)(t)):this.node().innerHTML},raise:function(){return this.each(Ft)},lower:function(){return this.each(Gt)},append:function(t){var n=typeof t=="function"?t:H(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e=typeof t=="function"?t:H(t),r=n==null?Jt:typeof n=="function"?n:q(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Kt)},clone:function(t){return this.select(t?Wt:Qt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,u=function(f){return f.trim().split(/^|\s+/).map(function(h){var p="",_=h.indexOf(".");return _>=0&&(p=h.slice(_+1),h=h.slice(0,_)),{type:h,name:p}})}(t+""),s=u.length;if(!(arguments.length<2)){for(o=n?tn:Zt,r=0;r<s;++r)this.each(o(u[r],n,e));return this}var o=this.node().__on;if(o){for(var l,a=0,c=o.length;a<c;++a)for(r=0,l=o[a];r<s;++r)if((i=u[r]).type===l.type&&i.name===l.name)return l.value}},dispatch:function(t,n){return this.each((typeof n=="function"?en:nn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],u=0,s=i.length;u<s;++u)(r=i[u])&&(yield r)}};var on=ut("start","end","cancel","interrupt"),un=[];function B(t,n,e,r,i,u){var s=t.__transition;if(s){if(e in s)return}else t.__transition={};(function(o,l,a){var c,f=o.__transition;function h(m){a.state=1,a.timer.restart(p,a.delay,a.time),a.delay<=m&&p(m-a.delay)}function p(m){var d,x,S,v;if(a.state!==1)return y();for(d in f)if((v=f[d]).name===a.name){if(v.state===3)return Z(p);v.state===4?(v.state=6,v.timer.stop(),v.on.call("interrupt",o,o.__data__,v.index,v.group),delete f[d]):+d<l&&(v.state=6,v.timer.stop(),v.on.call("cancel",o,o.__data__,v.index,v.group),delete f[d])}if(Z(function(){a.state===3&&(a.state=4,a.timer.restart(_,a.delay,a.time),_(m))}),a.state=2,a.on.call("start",o,o.__data__,a.index,a.group),a.state===2){for(a.state=3,c=new Array(S=a.tween.length),d=0,x=-1;d<S;++d)(v=a.tween[d].value.call(o,o.__data__,a.index,a.group))&&(c[++x]=v);c.length=x+1}}function _(m){for(var d=m<a.duration?a.ease.call(null,m/a.duration):(a.timer.restart(y),a.state=5,1),x=-1,S=c.length;++x<S;)c[x].call(o,d);a.state===5&&(a.on.call("end",o,o.__data__,a.index,a.group),y())}function y(){for(var m in a.state=6,a.timer.stop(),delete f[l],f)return;delete o.__transition}f[l]=a,a.timer=ot(h,0,a.time)})(t,e,{name:n,index:r,group:i,on,tween:un,time:u.time,delay:u.delay,duration:u.duration,ease:u.ease,timer:null,state:0})}function O(t,n){var e=w(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function A(t,n){var e=w(t,n);if(e.state>3)throw new Error("too late; already running");return e}function w(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function tt(t,n){var e,r,i,u=t.__transition,s=!0;if(u){for(i in n=n==null?null:n+"",u)(e=u[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete u[i]):s=!1;s&&delete t.__transition}}function sn(t,n){var e,r;return function(){var i=A(this,t),u=i.tween;if(u!==e){for(var s=0,o=(r=e=u).length;s<o;++s)if(r[s].name===n){(r=r.slice()).splice(s,1);break}}i.tween=r}}function an(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var u=A(this,t),s=u.tween;if(s!==r){i=(r=s).slice();for(var o={name:n,value:e},l=0,a=i.length;l<a;++l)if(i[l].name===n){i[l]=o;break}l===a&&i.push(o)}u.tween=i}}function j(t,n,e){var r=t._id;return t.each(function(){var i=A(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return w(i,r).value[n]}}function nt(t,n){var e;return(typeof n=="number"?st:n instanceof X?V:(e=X(n))?(n=e,V):at)(t,n)}function ln(t){return function(){this.removeAttribute(t)}}function cn(t){return function(){this.removeAttributeNS(t.space,t.local)}}function fn(t,n,e){var r,i,u=e+"";return function(){var s=this.getAttribute(t);return s===u?null:s===r?i:i=n(r=s,e)}}function hn(t,n,e){var r,i,u=e+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===u?null:s===r?i:i=n(r=s,e)}}function pn(t,n,e){var r,i,u;return function(){var s,o,l=e(this);if(l!=null)return(s=this.getAttribute(t))===(o=l+"")?null:s===r&&o===i?u:(i=o,u=n(r=s,l));this.removeAttribute(t)}}function _n(t,n,e){var r,i,u;return function(){var s,o,l=e(this);if(l!=null)return(s=this.getAttributeNS(t.space,t.local))===(o=l+"")?null:s===r&&o===i?u:(i=o,u=n(r=s,l));this.removeAttributeNS(t.space,t.local)}}function vn(t,n){var e,r;function i(){var u=n.apply(this,arguments);return u!==r&&(e=(r=u)&&function(s,o){return function(l){this.setAttributeNS(s.space,s.local,o.call(this,l))}}(t,u)),e}return i._value=n,i}function dn(t,n){var e,r;function i(){var u=n.apply(this,arguments);return u!==r&&(e=(r=u)&&function(s,o){return function(l){this.setAttribute(s,o.call(this,l))}}(t,u)),e}return i._value=n,i}function yn(t,n){return function(){O(this,t).delay=+n.apply(this,arguments)}}function mn(t,n){return n=+n,function(){O(this,t).delay=n}}function gn(t,n){return function(){A(this,t).duration=+n.apply(this,arguments)}}function wn(t,n){return n=+n,function(){A(this,t).duration=n}}var An=k.prototype.constructor;function et(t){return function(){this.style.removeProperty(t)}}var xn=0;function b(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function rt(){return++xn}var E=k.prototype;b.prototype={constructor:b,select:function(t){var n=this._name,e=this._id;typeof t!="function"&&(t=q(t));for(var r=this._groups,i=r.length,u=new Array(i),s=0;s<i;++s)for(var o,l,a=r[s],c=a.length,f=u[s]=new Array(c),h=0;h<c;++h)(o=a[h])&&(l=t.call(o,o.__data__,h,a))&&("__data__"in o&&(l.__data__=o.__data__),f[h]=l,B(f[h],n,e,h,f,w(o,e)));return new b(u,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;typeof t!="function"&&(t=I(t));for(var r=this._groups,i=r.length,u=[],s=[],o=0;o<i;++o)for(var l,a=r[o],c=a.length,f=0;f<c;++f)if(l=a[f]){for(var h,p=t.call(l,l.__data__,f,a),_=w(l,e),y=0,m=p.length;y<m;++y)(h=p[y])&&B(h,n,e,y,p,_);u.push(p),s.push(l)}return new b(u,s,n,e)},selectChild:E.selectChild,selectChildren:E.selectChildren,filter:function(t){typeof t!="function"&&(t=R(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var u,s=n[i],o=s.length,l=r[i]=[],a=0;a<o;++a)(u=s[a])&&t.call(u,u.__data__,a,s)&&l.push(u);return new b(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,u=Math.min(r,i),s=new Array(r),o=0;o<u;++o)for(var l,a=n[o],c=e[o],f=a.length,h=s[o]=new Array(f),p=0;p<f;++p)(l=a[p]||c[p])&&(h[p]=l);for(;o<r;++o)s[o]=n[o];return new b(s,this._parents,this._name,this._id)},selection:function(){return new An(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=rt(),r=this._groups,i=r.length,u=0;u<i;++u)for(var s,o=r[u],l=o.length,a=0;a<l;++a)if(s=o[a]){var c=w(s,n);B(s,t,e,a,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new b(r,this._parents,t,e)},call:E.call,nodes:E.nodes,node:E.node,size:E.size,empty:E.empty,each:E.each,on:function(t,n){var e=this._id;return arguments.length<2?w(this.node(),e).on.on(t):this.each(function(r,i,u){var s,o,l=function(a){return(a+"").trim().split(/^|\s+/).every(function(c){var f=c.indexOf(".");return f>=0&&(c=c.slice(0,f)),!c||c==="start"})}(i)?O:A;return function(){var a=l(this,r),c=a.on;c!==s&&(o=(s=c).copy()).on(i,u),a.on=o}}(e,t,n))},attr:function(t,n){var e=T(t),r=e==="transform"?lt:nt;return this.attrTween(t,typeof n=="function"?(e.local?_n:pn)(e,r,j(this,"attr."+t,n)):n==null?(e.local?cn:ln)(e):(e.local?hn:fn)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=T(t);return this.tween(e,(r.local?vn:dn)(r,n))},style:function(t,n,e){var r=(t+="")=="transform"?ct:nt;return n==null?this.styleTween(t,function(i,u){var s,o,l;return function(){var a=C(this,i),c=(this.style.removeProperty(i),C(this,i));return a===c?null:a===s&&c===o?l:l=u(s=a,o=c)}}(t,r)).on("end.style."+t,et(t)):typeof n=="function"?this.styleTween(t,function(i,u,s){var o,l,a;return function(){var c=C(this,i),f=s(this),h=f+"";return f==null&&(this.style.removeProperty(i),h=f=C(this,i)),c===h?null:c===o&&h===l?a:(l=h,a=u(o=c,f))}}(t,r,j(this,"style."+t,n))).each(function(i,u){var s,o,l,a,c="style."+u,f="end."+c;return function(){var h=A(this,i),p=h.on,_=h.value[c]==null?a||(a=et(u)):void 0;p===s&&l===_||(o=(s=p).copy()).on(f,l=_),h.on=o}}(this._id,t)):this.styleTween(t,function(i,u,s){var o,l,a=s+"";return function(){var c=C(this,i);return c===a?null:c===o?l:l=u(o=c,s)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,function(i,u,s){var o,l;function a(){var c=u.apply(this,arguments);return c!==l&&(o=(l=c)&&function(f,h,p){return function(_){this.style.setProperty(f,h.call(this,_),p)}}(i,c,s)),o}return a._value=u,a}(t,n,e??""))},text:function(t){return this.tween("text",typeof t=="function"?function(n){return function(){var e=n(this);this.textContent=e??""}}(j(this,"text",t)):function(n){return function(){this.textContent=n}}(t==null?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,function(e){var r,i;function u(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&function(o){return function(l){this.textContent=o.call(this,l)}}(s)),r}return u._value=e,u}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=w(this.node(),e).tween,u=0,s=i.length;u<s;++u)if((r=i[u]).name===t)return r.value;return null}return this.each((n==null?sn:an)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?yn:mn)(n,t)):w(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?gn:wn)(n,t)):w(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(e,r){if(typeof r!="function")throw new Error;return function(){A(this,e).ease=r}}(n,t)):w(this.node(),n).ease},easeVarying:function(t){if(typeof t!="function")throw new Error;return this.each(function(n,e){return function(){var r=e.apply(this,arguments);if(typeof r!="function")throw new Error;A(this,n).ease=r}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(u,s){var o={value:s},l={value:function(){--i===0&&u()}};e.each(function(){var a=A(this,r),c=a.on;c!==t&&((n=(t=c).copy())._.cancel.push(o),n._.interrupt.push(o),n._.end.push(l)),a.on=n}),i===0&&u()})},[Symbol.iterator]:E[Symbol.iterator]};var bn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function En(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function N(t,n,e){this.k=t,this.x=n,this.y=e}k.prototype.interrupt=function(t){return this.each(function(){tt(this,t)})},k.prototype.transition=function(t){var n,e;t instanceof b?(n=t._id,t=t._name):(n=rt(),(e=bn).time=ft(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,u=0;u<i;++u)for(var s,o=r[u],l=o.length,a=0;a<l;++a)(s=o[a])&&B(s,t,n,a,o,e||En(s,n));return new b(r,this._parents,t,n)},N.prototype={constructor:N,scale:function(t){return t===1?this:new N(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new N(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sn=new N(1,0,0);N.prototype;export{N as T,tt as a,Sn as i,rn as s};
