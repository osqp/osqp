function d(e,t){for(var n=0;n<e.length;n++)t(e[n],n)}function y(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n))return!0;return!1}var i={unnamedDefinition:["interface"],namedDefinition:["module","library","macro","C-struct","C-union","C-function","C-callable-wrapper"],typeParameterizedDefinition:["class","C-subtype","C-mapped-subtype"],otherParameterizedDefinition:["method","function","C-variable","C-address"],constantSimpleDefinition:["constant"],variableSimpleDefinition:["variable"],otherSimpleDefinition:["generic","domain","C-pointer-type","table"],statement:["if","block","begin","method","case","for","select","when","unless","until","while","iterate","profiling","dynamic-bind"],separator:["finally","exception","cleanup","else","elseif","afterwards"],other:["above","below","by","from","handler","in","instance","let","local","otherwise","slot","subclass","then","to","keyed-by","virtual"],signalingCalls:["signal","error","cerror","break","check-type","abort"]};i.otherDefinition=i.unnamedDefinition.concat(i.namedDefinition).concat(i.otherParameterizedDefinition),i.definition=i.typeParameterizedDefinition.concat(i.otherDefinition),i.parameterizedDefinition=i.typeParameterizedDefinition.concat(i.otherParameterizedDefinition),i.simpleDefinition=i.constantSimpleDefinition.concat(i.variableSimpleDefinition).concat(i.otherSimpleDefinition),i.keyword=i.statement.concat(i.separator).concat(i.other);var c="[-_a-zA-Z?!*@<>$%]+",k=new RegExp("^"+c),l={symbolKeyword:c+":",symbolClass:"<"+c+">",symbolGlobal:"\\*"+c+"\\*",symbolConstant:"\\$"+c},x={symbolKeyword:"atom",symbolClass:"tag",symbolGlobal:"variableName.standard",symbolConstant:"variableName.constant"};for(var f in l)l.hasOwnProperty(f)&&(l[f]=new RegExp("^"+l[f]));l.keyword=[/^with(?:out)?-[-_a-zA-Z?!*@<>$%]+/];var D={keyword:"keyword",definition:"def",simpleDefinition:"def",signalingCalls:"builtin"},p={},b={};function s(e,t,n){return t.tokenize=n,n(e,t)}function u(e,t){var n=e.peek();if(n=="'"||n=='"')return e.next(),s(e,t,h(n,"string"));if(n=="/"){if(e.next(),e.eat("*"))return s(e,t,v);if(e.eat("/"))return e.skipToEnd(),"comment";e.backUp(1)}else if(/[+\-\d\.]/.test(n)){if(e.match(/^[+-]?[0-9]*\.[0-9]*([esdx][+-]?[0-9]+)?/i)||e.match(/^[+-]?[0-9]+([esdx][+-]?[0-9]+)/i)||e.match(/^[+-]?\d+/))return"number"}else{if(n=="#")return e.next(),(n=e.peek())=='"'?(e.next(),s(e,t,h('"',"string"))):n=="b"?(e.next(),e.eatWhile(/[01]/),"number"):n=="x"?(e.next(),e.eatWhile(/[\da-f]/i),"number"):n=="o"?(e.next(),e.eatWhile(/[0-7]/),"number"):n=="#"?(e.next(),"punctuation"):n=="["||n=="("?(e.next(),"bracket"):e.match(/f|t|all-keys|include|key|next|rest/i)?"atom":(e.eatWhile(/[-a-zA-Z]/),"error");if(n=="~")return e.next(),(n=e.peek())=="="?(e.next(),(n=e.peek())=="="&&e.next(),"operator"):"operator";if(n==":"){if(e.next(),(n=e.peek())=="=")return e.next(),"operator";if(n==":")return e.next(),"punctuation"}else{if("[](){}".indexOf(n)!=-1)return e.next(),"bracket";if(".,".indexOf(n)!=-1)return e.next(),"punctuation";if(e.match("end"))return"keyword"}}for(var o in l)if(l.hasOwnProperty(o)){var r=l[o];if(r instanceof Array&&y(r,function(a){return e.match(a)})||e.match(r))return x[o]}return/[+\-*\/^=<>&|]/.test(n)?(e.next(),"operator"):e.match("define")?"def":(e.eatWhile(/[\w\-]/),p.hasOwnProperty(e.current())?b[e.current()]:e.current().match(k)?"variable":(e.next(),"variableName.standard"))}function v(e,t){for(var n,o=!1,r=!1,a=0;n=e.next();){if(n=="/"&&o){if(!(a>0)){t.tokenize=u;break}a--}else n=="*"&&r&&a++;o=n=="*",r=n=="/"}return"comment"}function h(e,t){return function(n,o){for(var r,a=!1,m=!1;(r=n.next())!=null;){if(r==e&&!a){m=!0;break}a=!a&&r=="\\"}return!m&&a||(o.tokenize=u),t}}d(["keyword","definition","simpleDefinition","signalingCalls"],function(e){d(i[e],function(t){p[t]=e,b[t]=D[e]})});const w={name:"dylan",startState:function(){return{tokenize:u,currentIndent:0}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)},languageData:{commentTokens:{block:{open:"/*",close:"*/"}}}};export{w as dylan};
