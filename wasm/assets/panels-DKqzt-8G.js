const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./slides-component--i-DYgOt.js","./index-aRpq2G87.js","./index-BqXWXM9d.css","./slides-component-BfOE86wk.css"])))=>i.map(i=>d[i]);
var ws=Object.defineProperty;var xs=(De,_e,Le)=>_e in De?ws(De,_e,{enumerable:!0,configurable:!0,writable:!0,value:Le}):De[_e]=Le;var ne=(De,_e,Le)=>xs(De,typeof _e!="symbol"?_e+"":_e,Le);import{u as me,dF as lt,L as ve,dG as lo,aC as Se,di as co,dH as Yt,aD as qe,c7 as Ss,dI as _s,S as te,d as F,ai as js,aj as ee,j as S,a as uo,R as we,aX as fo,dJ as $t,dK as _t,dL as Xt,dM as Kt,aI as Qt,aO as ct,dy as Os,dN as po,dO as Ds,bg as ut,dP as Es,dQ as ho,aR as Zt,aH as Jt,aG as en,dR as Cs,dS as ce,dT as ks,dB as mo,dU as jt,Q as go,dV as Ot,be as yo,bs as tn,as as Me,dW as Ns,dX as Rs,dY as nn,n as Ps,a2 as Te,bu as Ms,b1 as Ts,dZ as zs,dn as Ls,d_ as Is,au as Hs,d$ as Ws,bj as As,aa as qs,e0 as Bs,e1 as Fs,e2 as bo,T as ze,e3 as Gs,e4 as rn,e5 as Vs,e6 as vo,e7 as dt,X as on,ac as an,e8 as Us,e9 as Ys,ea as $s,eb as Xs,ec as Ks,ed as Qs,ee as Zs,ef as Js,an as ei,dp as Dt,eg as wo,eh as ti,ei as ni,ej as ri,ek as oi,el as ai,em as si,en as Oe,eo as ii,ep as li,eq as xo,er as ci,es as ui,et as So,eu as _o,ev as jo,ew as di,ex as fi,ey as pi,ez as hi,eA as mi,eB as Oo,eC as gi,eD as yi,b2 as Do,eE as bi,eF as vi,eG as wi,eH as xi,aT as Si,eI as _i,eJ as ji,eK as Eo,eL as Oi,eM as Di,eN as Ei,cC as Ci,bc as ki,eO as Ni,eP as Co,a8 as sn,b3 as ko,eQ as Ri,eR as ln,eS as Pi,eT as Mi,eU as No,eV as Ti,eW as zi,eX as Li,eY as Ii,eZ as Hi,e_ as Wi,e$ as Ai,f0 as Ro,f1 as qi,f2 as Bi,ao as Po,f3 as Fi,f4 as Gi,f5 as Vi,f6 as Ui,f7 as Yi,f8 as $i,f9 as Xi,fa as Ki,fb as Qi,fc as Zi,fd as Et,fe as Ji,__tla as el}from"./index-aRpq2G87.js";import{a as tl}from"./index-CuOLLpR-.js";let Mo,cn,un,dn,fn,pn,hn,To,mn,zo,gn,Lo,yn,bn,Ct,Xe,Io,vn,Ho,wn,kt,xn,Wo,Ao,Sn,qo,_n,Nt,jn,Bo,On,Fo,Dn,Go,Vo,Uo,Yo,En,Cn,kn,Nn,Rn,nl=Promise.all([(()=>{try{return el}catch{}})()]).then(async()=>{let De,_e,Le,Pn,Mn,Tn,zn,Ln,In,Hn;De=me("align-end-vertical",[["rect",{width:"16",height:"6",x:"2",y:"4",rx:"2",key:"10wcwx"}],["rect",{width:"9",height:"6",x:"9",y:"14",rx:"2",key:"4p5bwg"}],["path",{d:"M22 22V2",key:"12ipfv"}]]),_e=me("align-horizontal-space-around",[["rect",{width:"6",height:"10",x:"9",y:"7",rx:"2",key:"yn7j0q"}],["path",{d:"M4 22V2",key:"tsjzd3"}],["path",{d:"M20 22V2",key:"1bnhr8"}]]),Le=me("align-start-vertical",[["rect",{width:"9",height:"6",x:"6",y:"14",rx:"2",key:"lpm2y7"}],["rect",{width:"16",height:"6",x:"6",y:"4",rx:"2",key:"rdj6ps"}],["path",{d:"M2 2v20",key:"1ivd8o"}]]),fn=me("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),pn=me("folder-down",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"m15 13-3 3-3-3",key:"6j2sf0"}]]),Pn=me("hourglass",[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]]),hn=me("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),Mn=me("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]),mn=me("menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),xn=me("play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),Tn=me("scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),zn=me("skip-forward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]),Ln=me("square-arrow-right",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"m12 16 4-4-4-4",key:"1i9zcv"}]]),In=me("trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Hn=me("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]),yn=class{static get INSTANCE(){const n="_marimo_private_RuntimeState";return window[n]||(window[n]=new yn(lt)),window[n]}constructor(n){this.uiElementRegistry=n,this.hasStarted=!1,this._sendComponentValues=void 0,this.handleReadyEvent=e=>{const t=e.detail.objectId;if(!this.uiElementRegistry.has(t))return;const r=this.uiElementRegistry.lookupValue(t);r!==void 0&&this.sendComponentValues({objectIds:[t],values:[r]}).catch(i=>{ve.warn(i)})}}get sendComponentValues(){if(!this._sendComponentValues)throw new Error("sendComponentValues is not set");return this._sendComponentValues}start(n){this.hasStarted?ve.warn("RuntimeState already started"):(this._sendComponentValues=n,document.addEventListener(lo.TYPE,this.handleReadyEvent),this.hasStarted=!0)}stop(){this.hasStarted?(document.removeEventListener(lo.TYPE,this.handleReadyEvent),this.hasStarted=!1):ve.warn("RuntimeState already stopped")}};var Wn,An={exports:{}},Ke={},qn={exports:{}};function Rt(){return Wn||(Wn=1,function(n){function e(W){return function(q,V,Y,B,Z,se,re){return W(q,V,re)}}function t(W){return function(q,V,Y,B){if(!q||!V||typeof q!="object"||typeof V!="object")return W(q,V,Y,B);var Z=B.get(q),se=B.get(V);if(Z&&se)return Z===V&&se===q;B.set(q,V),B.set(V,q);var re=W(q,V,Y,B);return B.delete(q),B.delete(V),re}}function r(W,q){var V={};for(var Y in W)V[Y]=W[Y];for(var Y in q)V[Y]=q[Y];return V}function i(W){return W.constructor===Object||W.constructor==null}function a(W){return typeof W.then=="function"}function c(W,q){return W===q||W!=W&&q!=q}var u="[object Arguments]",h="[object Boolean]",f="[object Date]",x="[object RegExp]",w="[object Map]",s="[object Number]",o="[object Object]",l="[object Set]",d="[object String]",y=Object.prototype.toString;function p(W){var q=W.areArraysEqual,V=W.areDatesEqual,Y=W.areMapsEqual,B=W.areObjectsEqual,Z=W.areRegExpsEqual,se=W.areSetsEqual,re=(0,W.createIsNestedEqual)(ie);function ie(J,K,le){if(J===K)return!0;if(!J||!K||typeof J!="object"||typeof K!="object")return J!=J&&K!=K;if(i(J)&&i(K))return B(J,K,re,le);var ge=Array.isArray(J),ke=Array.isArray(K);if(ge||ke)return ge===ke&&q(J,K,re,le);var pe=y.call(J);return pe===y.call(K)&&(pe===f?V(J,K,re,le):pe===x?Z(J,K,re,le):pe===w?Y(J,K,re,le):pe===l?se(J,K,re,le):pe===o||pe===u?!a(J)&&!a(K)&&B(J,K,re,le):(pe===h||pe===s||pe===d)&&c(J.valueOf(),K.valueOf()))}return ie}function v(W,q,V,Y){var B=W.length;if(q.length!==B)return!1;for(;B-- >0;)if(!V(W[B],q[B],B,B,W,q,Y))return!1;return!0}var j=t(v);function D(W,q){return c(W.valueOf(),q.valueOf())}function k(W,q,V,Y){var B=W.size===q.size;if(!B)return!1;if(!W.size)return!0;var Z={},se=0;return W.forEach(function(re,ie){if(B){var J=!1,K=0;q.forEach(function(le,ge){J||Z[K]||!(J=V(ie,ge,se,K,W,q,Y)&&V(re,le,ie,ge,W,q,Y))||(Z[K]=!0),K++}),se++,B=J}}),B}var R=t(k),T="_owner",M=Object.prototype.hasOwnProperty;function _(W,q,V,Y){var B,Z=Object.keys(W),se=Z.length;if(Object.keys(q).length!==se)return!1;for(;se-- >0;){if((B=Z[se])===T){var re=!!W.$$typeof,ie=!!q.$$typeof;if((re||ie)&&re!==ie)return!1}if(!M.call(q,B)||!V(W[B],q[B],B,B,W,q,Y))return!1}return!0}var P=t(_);function E(W,q){return W.source===q.source&&W.flags===q.flags}function N(W,q,V,Y){var B=W.size===q.size;if(!B)return!1;if(!W.size)return!0;var Z={};return W.forEach(function(se,re){if(B){var ie=!1,J=0;q.forEach(function(K,le){ie||Z[J]||!(ie=V(se,K,re,le,W,q,Y))||(Z[J]=!0),J++}),B=ie}}),B}var C=t(N),z=Object.freeze({areArraysEqual:v,areDatesEqual:D,areMapsEqual:k,areObjectsEqual:_,areRegExpsEqual:E,areSetsEqual:N,createIsNestedEqual:e}),g=Object.freeze({areArraysEqual:j,areDatesEqual:D,areMapsEqual:R,areObjectsEqual:P,areRegExpsEqual:E,areSetsEqual:C,createIsNestedEqual:e}),b=p(z);function m(W,q){return b(W,q,void 0)}var O=p(r(z,{createIsNestedEqual:function(){return c}}));function L(W,q){return O(W,q,void 0)}var I=p(g);function H(W,q){return I(W,q,new WeakMap)}var A=p(r(g,{createIsNestedEqual:function(){return c}}));function G(W,q){return A(W,q,new WeakMap)}function $(W){return p(r(z,W(z)))}function ue(W){var q=p(r(g,W(g)));return function(V,Y,B){return B===void 0&&(B=new WeakMap),q(V,Y,B)}}n.circularDeepEqual=H,n.circularShallowEqual=G,n.createCustomCircularEqual=ue,n.createCustomEqual=$,n.deepEqual=m,n.sameValueZeroEqual=c,n.shallowEqual=L,Object.defineProperty(n,"__esModule",{value:!0})}(qn.exports)),qn.exports}var Bn,ft={exports:{}};function Pt(){if(Bn)return ft.exports;function n(t){var r,i,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var c=t.length;for(r=0;r<c;r++)t[r]&&(i=n(t[r]))&&(a&&(a+=" "),a+=i)}else for(i in t)t[i]&&(a&&(a+=" "),a+=i);return a}function e(){for(var t,r,i=0,a="",c=arguments.length;i<c;i++)(t=arguments[i])&&(r=n(t))&&(a&&(a+=" "),a+=r);return a}return Bn=1,ft.exports=e,ft.exports.clsx=e,ft.exports}var Fn,Gn,Vn,X={};function Ve(){if(Vn)return X;Vn=1,Object.defineProperty(X,"__esModule",{value:!0}),X.bottom=r,X.childrenEqual=function(g,b){return(0,e.deepEqual)(t.default.Children.map(g,m=>m==null?void 0:m.key),t.default.Children.map(b,m=>m==null?void 0:m.key))&&(0,e.deepEqual)(t.default.Children.map(g,m=>m==null?void 0:m.props["data-grid"]),t.default.Children.map(b,m=>m==null?void 0:m.props["data-grid"]))},X.cloneLayout=i,X.cloneLayoutItem=c,X.collides=u,X.compact=h,X.compactItem=w,X.compactType=function(g){const{verticalCompact:b,compactType:m}=g||{};return b===!1?null:m},X.correctBounds=s,X.fastPositionEqual=function(g,b){return g.left===b.left&&g.top===b.top&&g.width===b.width&&g.height===b.height},X.fastRGLPropsEqual=void 0,X.getAllCollisions=d,X.getFirstCollision=l,X.getLayoutItem=o,X.getStatics=y,X.modifyLayout=a,X.moveElement=p,X.moveElementAwayFromCollision=v,X.noop=void 0,X.perc=function(g){return 100*g+"%"},X.resizeItemInDirection=function(g,b,m,O){const L=E[g];return L?L(b,{...b,...m},O):m},X.setTopLeft=function(g){let{top:b,left:m,width:O,height:L}=g;return{top:`${b}px`,left:`${m}px`,width:`${O}px`,height:`${L}px`,position:"absolute"}},X.setTransform=function(g){let{top:b,left:m,width:O,height:L}=g;const I=`translate(${m}px,${b}px)`;return{transform:I,WebkitTransform:I,MozTransform:I,msTransform:I,OTransform:I,width:`${O}px`,height:`${L}px`,position:"absolute"}},X.sortLayoutItems=N,X.sortLayoutItemsByColRow=z,X.sortLayoutItemsByRowCol=C,X.synchronizeLayoutWithChildren=function(g,b,m,O,L){g=g||[];const I=[];t.default.Children.forEach(b,A=>{if((A==null?void 0:A.key)==null)return;const G=o(g,String(A.key)),$=A.props["data-grid"];G&&$==null?I.push(c(G)):$?I.push(c({...$,i:A.key})):I.push(c({w:1,h:1,x:0,y:r(I),i:String(A.key)}))});const H=s(I,{cols:m});return L?H:h(H,O,m)},X.validateLayout=function(g){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Layout";const m=["x","y","w","h"];if(!Array.isArray(g))throw new Error(b+" must be an array!");for(let O=0,L=g.length;O<L;O++){const I=g[O];for(let H=0;H<m.length;H++){const A=m[H],G=I[A];if(typeof G!="number"||Number.isNaN(G))throw new Error(`ReactGridLayout: ${b}[${O}].${A} must be a number! Received: ${G} (${typeof G})`)}if(I.i!==void 0&&typeof I.i!="string")throw new Error(`ReactGridLayout: ${b}[${O}].i must be a string! Received: ${I.i} (${typeof I.i})`)}},X.withLayoutItem=function(g,b,m){let O=o(g,b);return O?(O=m(c(O)),[g=a(g,O),O]):[g,null]};var n,e=Rt(),t=(n=Se())&&n.__esModule?n:{default:n};function r(g){let b,m=0;for(let O=0,L=g.length;O<L;O++)b=g[O].y+g[O].h,b>m&&(m=b);return m}function i(g){const b=Array(g.length);for(let m=0,O=g.length;m<O;m++)b[m]=c(g[m]);return b}function a(g,b){const m=Array(g.length);for(let O=0,L=g.length;O<L;O++)b.i===g[O].i?m[O]=b:m[O]=g[O];return m}function c(g){return{w:g.w,h:g.h,x:g.x,y:g.y,i:g.i,minW:g.minW,maxW:g.maxW,minH:g.minH,maxH:g.maxH,moved:!!g.moved,static:!!g.static,isDraggable:g.isDraggable,isResizable:g.isResizable,resizeHandles:g.resizeHandles,isBounded:g.isBounded}}function u(g,b){return g.i!==b.i&&!(g.x+g.w<=b.x)&&!(g.x>=b.x+b.w)&&!(g.y+g.h<=b.y)&&!(g.y>=b.y+b.h)}function h(g,b,m,O){const L=y(g),I=N(g,b),H=Array(g.length);for(let A=0,G=I.length;A<G;A++){let $=c(I[A]);$.static||($=w(L,$,b,m,I,O),L.push($)),H[g.indexOf(I[A])]=$,$.moved=!1}return H}X.fastRGLPropsEqual=Gn?Fn:(Gn=1,Fn=function(g,b,m){return g===b||g.className===b.className&&m(g.style,b.style)&&g.width===b.width&&g.autoSize===b.autoSize&&g.cols===b.cols&&g.draggableCancel===b.draggableCancel&&g.draggableHandle===b.draggableHandle&&m(g.verticalCompact,b.verticalCompact)&&m(g.compactType,b.compactType)&&m(g.layout,b.layout)&&m(g.margin,b.margin)&&m(g.containerPadding,b.containerPadding)&&g.rowHeight===b.rowHeight&&g.maxRows===b.maxRows&&g.isBounded===b.isBounded&&g.isDraggable===b.isDraggable&&g.isResizable===b.isResizable&&g.allowOverlap===b.allowOverlap&&g.preventCollision===b.preventCollision&&g.useCSSTransforms===b.useCSSTransforms&&g.transformScale===b.transformScale&&g.isDroppable===b.isDroppable&&m(g.resizeHandles,b.resizeHandles)&&m(g.resizeHandle,b.resizeHandle)&&g.onLayoutChange===b.onLayoutChange&&g.onDragStart===b.onDragStart&&g.onDrag===b.onDrag&&g.onDragStop===b.onDragStop&&g.onResizeStart===b.onResizeStart&&g.onResize===b.onResize&&g.onResizeStop===b.onResizeStop&&g.onDrop===b.onDrop&&m(g.droppingItem,b.droppingItem)&&m(g.innerRef,b.innerRef)});const f={x:"w",y:"h"};function x(g,b,m,O){const L=f[O];b[O]+=1;for(let I=g.map(H=>H.i).indexOf(b.i)+1;I<g.length;I++){const H=g[I];if(!H.static){if(H.y>b.y+b.h)break;u(b,H)&&x(g,H,m+b[L],O)}}b[O]=m}function w(g,b,m,O,L,I){const H=m==="horizontal";if(m==="vertical")for(b.y=Math.min(r(g),b.y);b.y>0&&!l(g,b);)b.y--;else if(H)for(;b.x>0&&!l(g,b);)b.x--;let A;for(;(A=l(g,b))&&(m!==null||!I);)if(H?x(L,b,A.x+A.w,"x"):x(L,b,A.y+A.h,"y"),H&&b.x+b.w>O)for(b.x=O-b.w,b.y++;b.x>0&&!l(g,b);)b.x--;return b.y=Math.max(b.y,0),b.x=Math.max(b.x,0),b}function s(g,b){const m=y(g);for(let O=0,L=g.length;O<L;O++){const I=g[O];if(I.x+I.w>b.cols&&(I.x=b.cols-I.w),I.x<0&&(I.x=0,I.w=b.cols),I.static)for(;l(m,I);)I.y++;else m.push(I)}return g}function o(g,b){for(let m=0,O=g.length;m<O;m++)if(g[m].i===b)return g[m]}function l(g,b){for(let m=0,O=g.length;m<O;m++)if(u(g[m],b))return g[m]}function d(g,b){return g.filter(m=>u(m,b))}function y(g){return g.filter(b=>b.static)}function p(g,b,m,O,L,I,H,A,G){if(b.static&&b.isDraggable!==!0||b.y===O&&b.x===m)return g;b.i,String(m),String(O),b.x,b.y;const $=b.x,ue=b.y;typeof m=="number"&&(b.x=m),typeof O=="number"&&(b.y=O),b.moved=!0;let W=N(g,H);(H==="vertical"&&typeof O=="number"?ue>=O:H==="horizontal"&&typeof m=="number"&&$>=m)&&(W=W.reverse());const q=d(W,b),V=q.length>0;if(V&&G)return i(g);if(V&&I)return b.i,b.x=$,b.y=ue,b.moved=!1,g;for(let Y=0,B=q.length;Y<B;Y++){const Z=q[Y];b.i,b.x,b.y,Z.i,Z.x,Z.y,Z.moved||(g=Z.static?v(g,Z,b,L,H):v(g,b,Z,L,H))}return g}function v(g,b,m,O,L,I){const H=L==="horizontal",A=L==="vertical",G=b.static;if(O){O=!1;const W={x:H?Math.max(b.x-m.w,0):m.x,y:A?Math.max(b.y-m.h,0):m.y,w:m.w,h:m.h,i:"-1"},q=l(g,W),V=q&&q.y+q.h>b.y,Y=q&&b.x+b.w>q.x;if(!q)return m.i,W.x,W.y,p(g,m,H?W.x:void 0,A?W.y:void 0,O,G,L);if(V&&A)return p(g,m,void 0,b.y+1,O,G,L);if(V&&L==null)return b.y=m.y,m.y=m.y+m.h,g;if(Y&&H)return p(g,b,m.x,void 0,O,G,L)}const $=H?m.x+1:void 0,ue=A?m.y+1:void 0;return $==null&&ue==null?g:p(g,m,H?m.x+1:void 0,A?m.y+1:void 0,O,G,L)}const j=(g,b,m,O)=>g+m>O?b:m,D=(g,b,m)=>g<0?b:m,k=g=>Math.max(0,g),R=g=>Math.max(0,g),T=(g,b,m)=>{let{left:O,height:L,width:I}=b;const H=g.top-(L-g.height);return{left:O,width:I,height:D(H,g.height,L),top:R(H)}},M=(g,b,m)=>{let{top:O,left:L,height:I,width:H}=b;return{top:O,height:I,width:j(g.left,g.width,H,m),left:k(L)}},_=(g,b,m)=>{let{top:O,height:L,width:I}=b;const H=g.left-(I-g.width);return{height:L,width:H<0?g.width:j(g.left,g.width,I,m),top:R(O),left:k(H)}},P=(g,b,m)=>{let{top:O,left:L,height:I,width:H}=b;return{width:H,left:L,height:D(O,g.height,I),top:R(O)}},E={n:T,ne:function(){return T(arguments.length<=0?void 0:arguments[0],M(...arguments))},e:M,se:function(){return P(arguments.length<=0?void 0:arguments[0],M(...arguments))},s:P,sw:function(){return P(arguments.length<=0?void 0:arguments[0],_(...arguments))},w:_,nw:function(){return T(arguments.length<=0?void 0:arguments[0],_(...arguments))}};function N(g,b){return b==="horizontal"?z(g):b==="vertical"?C(g):g}function C(g){return g.slice(0).sort(function(b,m){return b.y>m.y||b.y===m.y&&b.x>m.x?1:b.y===m.y&&b.x===m.x?0:-1})}function z(g){return g.slice(0).sort(function(b,m){return b.x>m.x||b.x===m.x&&b.y>m.y?1:-1})}return X.noop=()=>{},X}var Un,Ee={};function Mt(){if(Un)return Ee;function n(r){const{margin:i,containerPadding:a,containerWidth:c,cols:u}=r;return(c-i[0]*(u-1)-2*a[0])/u}function e(r,i,a){return Number.isFinite(r)?Math.round(i*r+Math.max(0,r-1)*a):r}function t(r,i,a){return Math.max(Math.min(r,a),i)}return Un=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.calcGridColWidth=n,Ee.calcGridItemPosition=function(r,i,a,c,u,h){const{margin:f,containerPadding:x,rowHeight:w}=r,s=n(r),o={};return h&&h.resizing?(o.width=Math.round(h.resizing.width),o.height=Math.round(h.resizing.height)):(o.width=e(c,s,f[0]),o.height=e(u,w,f[1])),h&&h.dragging?(o.top=Math.round(h.dragging.top),o.left=Math.round(h.dragging.left)):h&&h.resizing&&typeof h.resizing.top=="number"&&typeof h.resizing.left=="number"?(o.top=Math.round(h.resizing.top),o.left=Math.round(h.resizing.left)):(o.top=Math.round((w+f[1])*a+x[1]),o.left=Math.round((s+f[0])*i+x[0])),o},Ee.calcGridItemWHPx=e,Ee.calcWH=function(r,i,a,c,u,h){const{margin:f,maxRows:x,cols:w,rowHeight:s}=r,o=n(r);let l=Math.round((i+f[0])/(o+f[0])),d=Math.round((a+f[1])/(s+f[1])),y=t(l,0,w-c),p=t(d,0,x-u);return["sw","w","nw"].indexOf(h)!==-1&&(y=t(l,0,w)),["nw","n","ne"].indexOf(h)!==-1&&(p=t(d,0,x)),{w:y,h:p}},Ee.calcXY=function(r,i,a,c,u){const{margin:h,containerPadding:f,cols:x,rowHeight:w,maxRows:s}=r,o=n(r);let l=Math.round((a-f[0])/(o+h[0])),d=Math.round((i-f[1])/(w+h[1]));return l=t(l,0,x-c),d=t(d,0,s-u),{x:l,y:d}},Ee.clamp=t,Ee}var Qe={},Ze={exports:{}},Yn={};function $n(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n))for(e=0;e<n.length;e++)n[e]&&(t=$n(n[e]))&&(r&&(r+=" "),r+=t);else for(e in n)n[e]&&(r&&(r+=" "),r+=e);return r}function Xn(){for(var n,e,t=0,r="";t<arguments.length;)(n=arguments[t++])&&(e=$n(n))&&(r&&(r+=" "),r+=e);return r}const $o=co(Object.freeze(Object.defineProperty({__proto__:null,clsx:Xn,default:Xn},Symbol.toStringTag,{value:"Module"})));var Kn,ae={},Ie={};function pt(){return Kn||(Kn=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.dontSetMe=function(n,e,t){if(n[e])return new Error("Invalid prop ".concat(e," passed to ").concat(t," - do not set this, set it on the child."))},Ie.findInArray=function(n,e){for(var t=0,r=n.length;t<r;t++)if(e.apply(e,[n[t],t,n]))return n[t]},Ie.int=function(n){return parseInt(n,10)},Ie.isFunction=function(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Function]"},Ie.isNum=function(n){return typeof n=="number"&&!isNaN(n)}),Ie}var Qn,Zn,He={};function Tt(){if(Zn)return ae;function n(s){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},n(s)}Zn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.addClassName=x,ae.addEvent=function(s,o,l,d){if(s){var y=a({capture:!0},d);s.addEventListener?s.addEventListener(o,l,y):s.attachEvent?s.attachEvent("on"+o,l):s["on"+o]=l}},ae.addUserSelectStyles=function(s){if(s){var o=s.getElementById("react-draggable-style-el");o||((o=s.createElement("style")).type="text/css",o.id="react-draggable-style-el",o.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,o.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,s.getElementsByTagName("head")[0].appendChild(o)),s.body&&x(s.body,"react-draggable-transparent-selection")}},ae.createCSSTransform=function(s,o){var l=f(s,o,"px");return c({},(0,t.browserPrefixToKey)("transform",t.default),l)},ae.createSVGTransform=function(s,o){return f(s,o,"")},ae.getTouch=function(s,o){return s.targetTouches&&(0,e.findInArray)(s.targetTouches,function(l){return o===l.identifier})||s.changedTouches&&(0,e.findInArray)(s.changedTouches,function(l){return o===l.identifier})},ae.getTouchIdentifier=function(s){if(s.targetTouches&&s.targetTouches[0])return s.targetTouches[0].identifier;if(s.changedTouches&&s.changedTouches[0])return s.changedTouches[0].identifier},ae.getTranslation=f,ae.innerHeight=function(s){var o=s.clientHeight,l=s.ownerDocument.defaultView.getComputedStyle(s);return o-=(0,e.int)(l.paddingTop),o-=(0,e.int)(l.paddingBottom)},ae.innerWidth=function(s){var o=s.clientWidth,l=s.ownerDocument.defaultView.getComputedStyle(s);return o-=(0,e.int)(l.paddingLeft),o-=(0,e.int)(l.paddingRight)},ae.matchesSelector=h,ae.matchesSelectorAndParentsTo=function(s,o,l){var d=s;do{if(h(d,o))return!0;if(d===l)return!1;d=d.parentNode}while(d);return!1},ae.offsetXYFromParent=function(s,o,l){var d=o===o.ownerDocument.body?{left:0,top:0}:o.getBoundingClientRect(),y=(s.clientX+o.scrollLeft-d.left)/l,p=(s.clientY+o.scrollTop-d.top)/l;return{x:y,y:p}},ae.outerHeight=function(s){var o=s.clientHeight,l=s.ownerDocument.defaultView.getComputedStyle(s);return o+=(0,e.int)(l.borderTopWidth),o+=(0,e.int)(l.borderBottomWidth)},ae.outerWidth=function(s){var o=s.clientWidth,l=s.ownerDocument.defaultView.getComputedStyle(s);return o+=(0,e.int)(l.borderLeftWidth),o+=(0,e.int)(l.borderRightWidth)},ae.removeClassName=w,ae.removeEvent=function(s,o,l,d){if(s){var y=a({capture:!0},d);s.removeEventListener?s.removeEventListener(o,l,y):s.detachEvent?s.detachEvent("on"+o,l):s["on"+o]=null}},ae.removeUserSelectStyles=function(s){if(s)try{if(s.body&&w(s.body,"react-draggable-transparent-selection"),s.selection)s.selection.empty();else{var o=(s.defaultView||window).getSelection();o&&o.type!=="Caret"&&o.removeAllRanges()}}catch{}};var e=pt(),t=function(s,o){if(s&&s.__esModule)return s;if(s===null||n(s)!=="object"&&typeof s!="function")return{default:s};var l=r(o);if(l&&l.has(s))return l.get(s);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in s)if(p!=="default"&&Object.prototype.hasOwnProperty.call(s,p)){var v=y?Object.getOwnPropertyDescriptor(s,p):null;v&&(v.get||v.set)?Object.defineProperty(d,p,v):d[p]=s[p]}return d.default=s,l&&l.set(s,d),d}(function(){if(Qn)return He;Qn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.browserPrefixToKey=l,He.browserPrefixToStyle=function(y,p){return p?"-".concat(p.toLowerCase(),"-").concat(y):y},He.default=void 0,He.getPrefix=o;var s=["Moz","Webkit","O","ms"];function o(){var y,p,v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var j=(y=window.document)===null||y===void 0||(p=y.documentElement)===null||p===void 0?void 0:p.style;if(!j||v in j)return"";for(var D=0;D<s.length;D++)if(l(v,s[D])in j)return s[D];return""}function l(y,p){return p?"".concat(p).concat(function(v){for(var j="",D=!0,k=0;k<v.length;k++)D?(j+=v[k].toUpperCase(),D=!1):v[k]==="-"?D=!0:j+=v[k];return j}(y)):y}var d=o();return He.default=d,He}());function r(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,l=new WeakMap;return(r=function(d){return d?l:o})(s)}function i(s,o){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);o&&(d=d.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),l.push.apply(l,d)}return l}function a(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?i(Object(l),!0).forEach(function(d){c(s,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):i(Object(l)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(l,d))})}return s}function c(s,o,l){return o in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s}var u="";function h(s,o){return u||(u=(0,e.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(l){return(0,e.isFunction)(s[l])})),!!(0,e.isFunction)(s[u])&&s[u](o)}function f(s,o,l){var d=s.x,y=s.y,p="translate(".concat(d).concat(l,",").concat(y).concat(l,")");if(o){var v="".concat(typeof o.x=="string"?o.x:o.x+l),j="".concat(typeof o.y=="string"?o.y:o.y+l);p="translate(".concat(v,", ").concat(j,")")+p}return p}function x(s,o){s.classList?s.classList.add(o):s.className.match(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)")))||(s.className+=" ".concat(o))}function w(s,o){s.classList?s.classList.remove(o):s.className=s.className.replace(new RegExp("(?:^|\\s)".concat(o,"(?!\\S)"),"g"),"")}return ae}var Jn,je={};function er(){if(Jn)return je;Jn=1,Object.defineProperty(je,"__esModule",{value:!0}),je.canDragX=function(r){return r.props.axis==="both"||r.props.axis==="x"},je.canDragY=function(r){return r.props.axis==="both"||r.props.axis==="y"},je.createCoreData=function(r,i,a){var c=r.state,u=!(0,n.isNum)(c.lastX),h=t(r);return u?{node:h,deltaX:0,deltaY:0,lastX:i,lastY:a,x:i,y:a}:{node:h,deltaX:i-c.lastX,deltaY:a-c.lastY,lastX:c.lastX,lastY:c.lastY,x:i,y:a}},je.createDraggableData=function(r,i){var a=r.props.scale;return{node:i.node,x:r.state.x+i.deltaX/a,y:r.state.y+i.deltaY/a,deltaX:i.deltaX/a,deltaY:i.deltaY/a,lastX:r.state.x,lastY:r.state.y}},je.getBoundPosition=function(r,i,a){if(!r.props.bounds)return[i,a];var c=r.props.bounds;c=typeof c=="string"?c:function(l){return{left:l.left,top:l.top,right:l.right,bottom:l.bottom}}(c);var u=t(r);if(typeof c=="string"){var h,f=u.ownerDocument,x=f.defaultView;if(!((h=c==="parent"?u.parentNode:f.querySelector(c))instanceof x.HTMLElement))throw new Error('Bounds selector "'+c+'" could not find an element.');var w=h,s=x.getComputedStyle(u),o=x.getComputedStyle(w);c={left:-u.offsetLeft+(0,n.int)(o.paddingLeft)+(0,n.int)(s.marginLeft),top:-u.offsetTop+(0,n.int)(o.paddingTop)+(0,n.int)(s.marginTop),right:(0,e.innerWidth)(w)-(0,e.outerWidth)(u)-u.offsetLeft+(0,n.int)(o.paddingRight)-(0,n.int)(s.marginRight),bottom:(0,e.innerHeight)(w)-(0,e.outerHeight)(u)-u.offsetTop+(0,n.int)(o.paddingBottom)-(0,n.int)(s.marginBottom)}}return(0,n.isNum)(c.right)&&(i=Math.min(i,c.right)),(0,n.isNum)(c.bottom)&&(a=Math.min(a,c.bottom)),(0,n.isNum)(c.left)&&(i=Math.max(i,c.left)),(0,n.isNum)(c.top)&&(a=Math.max(a,c.top)),[i,a]},je.getControlPosition=function(r,i,a){var c=typeof i=="number"?(0,e.getTouch)(r,i):null;if(typeof i=="number"&&!c)return null;var u=t(a),h=a.props.offsetParent||u.offsetParent||u.ownerDocument.body;return(0,e.offsetXYFromParent)(c||r,h,a.props.scale)},je.snapToGrid=function(r,i,a){var c=Math.round(i/r[0])*r[0],u=Math.round(a/r[1])*r[1];return[c,u]};var n=pt(),e=Tt();function t(r){var i=r.findDOMNode();if(!i)throw new Error("<DraggableCore>: Unmounted during event!");return i}return je}var tr,nr,rr,or,Je={},ht={};function ar(){return tr||(tr=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.default=function(){}),ht}function Xo(){if(nr)return Je;function n(R){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},n(R)}nr=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.default=void 0;var e=function(R,T){if(R&&R.__esModule)return R;if(R===null||n(R)!=="object"&&typeof R!="function")return{default:R};var M=f(T);if(M&&M.has(R))return M.get(R);var _={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var E in R)if(E!=="default"&&Object.prototype.hasOwnProperty.call(R,E)){var N=P?Object.getOwnPropertyDescriptor(R,E):null;N&&(N.get||N.set)?Object.defineProperty(_,E,N):_[E]=R[E]}return _.default=R,M&&M.set(R,_),_}(Se()),t=h(qe()),r=h(Yt()),i=Tt(),a=er(),c=pt(),u=h(ar());function h(R){return R&&R.__esModule?R:{default:R}}function f(R){if(typeof WeakMap!="function")return null;var T=new WeakMap,M=new WeakMap;return(f=function(_){return _?M:T})(R)}function x(R,T){return function(M){if(Array.isArray(M))return M}(R)||function(M,_){var P=M==null?null:typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(P!=null){var E,N,C=[],z=!0,g=!1;try{for(P=P.call(M);!(z=(E=P.next()).done)&&(C.push(E.value),!_||C.length!==_);z=!0);}catch(b){g=!0,N=b}finally{try{z||P.return==null||P.return()}finally{if(g)throw N}}return C}}(R,T)||function(M,_){if(M){if(typeof M=="string")return w(M,_);var P=Object.prototype.toString.call(M).slice(8,-1);if(P==="Object"&&M.constructor&&(P=M.constructor.name),P==="Map"||P==="Set")return Array.from(M);if(P==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P))return w(M,_)}}(R,T)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function w(R,T){(T==null||T>R.length)&&(T=R.length);for(var M=0,_=new Array(T);M<T;M++)_[M]=R[M];return _}function s(R,T,M){return T&&function(_,P){for(var E=0;E<P.length;E++){var N=P[E];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(_,N.key,N)}}(R.prototype,T),Object.defineProperty(R,"prototype",{writable:!1}),R}function o(R,T){return o=Object.setPrototypeOf||function(M,_){return M.__proto__=_,M},o(R,T)}function l(R){var T=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var M,_=y(R);if(T){var P=y(this).constructor;M=Reflect.construct(_,arguments,P)}else M=_.apply(this,arguments);return function(E,N){if(N&&(n(N)==="object"||typeof N=="function"))return N;if(N!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return d(E)}(this,M)}}function d(R){if(R===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R}function y(R){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},y(R)}function p(R,T,M){return T in R?Object.defineProperty(R,T,{value:M,enumerable:!0,configurable:!0,writable:!0}):R[T]=M,R}var v={start:"touchstart",move:"touchmove",stop:"touchend"},j={start:"mousedown",move:"mousemove",stop:"mouseup"},D=j,k=function(R){(function(_,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(P&&P.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),Object.defineProperty(_,"prototype",{writable:!1}),P&&o(_,P)})(M,R);var T=l(M);function M(){var _;(function(C,z){if(!(C instanceof z))throw new TypeError("Cannot call a class as a function")})(this,M);for(var P=arguments.length,E=new Array(P),N=0;N<P;N++)E[N]=arguments[N];return p(d(_=T.call.apply(T,[this].concat(E))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),p(d(_),"mounted",!1),p(d(_),"handleDragStart",function(C){if(_.props.onMouseDown(C),!_.props.allowAnyClick&&typeof C.button=="number"&&C.button!==0)return!1;var z=_.findDOMNode();if(!z||!z.ownerDocument||!z.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var g=z.ownerDocument;if(!(_.props.disabled||!(C.target instanceof g.defaultView.Node)||_.props.handle&&!(0,i.matchesSelectorAndParentsTo)(C.target,_.props.handle,z)||_.props.cancel&&(0,i.matchesSelectorAndParentsTo)(C.target,_.props.cancel,z))){C.type==="touchstart"&&C.preventDefault();var b=(0,i.getTouchIdentifier)(C);_.setState({touchIdentifier:b});var m=(0,a.getControlPosition)(C,b,d(_));if(m!=null){var O=m.x,L=m.y,I=(0,a.createCoreData)(d(_),O,L);(0,u.default)("DraggableCore: handleDragStart: %j",I),(0,u.default)("calling",_.props.onStart),_.props.onStart(C,I)!==!1&&_.mounted!==!1&&(_.props.enableUserSelectHack&&(0,i.addUserSelectStyles)(g),_.setState({dragging:!0,lastX:O,lastY:L}),(0,i.addEvent)(g,D.move,_.handleDrag),(0,i.addEvent)(g,D.stop,_.handleDragStop))}}}),p(d(_),"handleDrag",function(C){var z=(0,a.getControlPosition)(C,_.state.touchIdentifier,d(_));if(z!=null){var g=z.x,b=z.y;if(Array.isArray(_.props.grid)){var m=g-_.state.lastX,O=b-_.state.lastY,L=x((0,a.snapToGrid)(_.props.grid,m,O),2);if(m=L[0],O=L[1],!m&&!O)return;g=_.state.lastX+m,b=_.state.lastY+O}var I=(0,a.createCoreData)(d(_),g,b);if((0,u.default)("DraggableCore: handleDrag: %j",I),_.props.onDrag(C,I)!==!1&&_.mounted!==!1)_.setState({lastX:g,lastY:b});else try{_.handleDragStop(new MouseEvent("mouseup"))}catch{var H=document.createEvent("MouseEvents");H.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),_.handleDragStop(H)}}}),p(d(_),"handleDragStop",function(C){if(_.state.dragging){var z=(0,a.getControlPosition)(C,_.state.touchIdentifier,d(_));if(z!=null){var g=z.x,b=z.y;if(Array.isArray(_.props.grid)){var m=g-_.state.lastX||0,O=b-_.state.lastY||0,L=x((0,a.snapToGrid)(_.props.grid,m,O),2);m=L[0],O=L[1],g=_.state.lastX+m,b=_.state.lastY+O}var I=(0,a.createCoreData)(d(_),g,b);if(_.props.onStop(C,I)===!1||_.mounted===!1)return!1;var H=_.findDOMNode();H&&_.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(H.ownerDocument),(0,u.default)("DraggableCore: handleDragStop: %j",I),_.setState({dragging:!1,lastX:NaN,lastY:NaN}),H&&((0,u.default)("DraggableCore: Removing handlers"),(0,i.removeEvent)(H.ownerDocument,D.move,_.handleDrag),(0,i.removeEvent)(H.ownerDocument,D.stop,_.handleDragStop))}}}),p(d(_),"onMouseDown",function(C){return D=j,_.handleDragStart(C)}),p(d(_),"onMouseUp",function(C){return D=j,_.handleDragStop(C)}),p(d(_),"onTouchStart",function(C){return D=v,_.handleDragStart(C)}),p(d(_),"onTouchEnd",function(C){return D=v,_.handleDragStop(C)}),_}return s(M,[{key:"componentDidMount",value:function(){this.mounted=!0;var _=this.findDOMNode();_&&(0,i.addEvent)(_,v.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var _=this.findDOMNode();if(_){var P=_.ownerDocument;(0,i.removeEvent)(P,j.move,this.handleDrag),(0,i.removeEvent)(P,v.move,this.handleDrag),(0,i.removeEvent)(P,j.stop,this.handleDragStop),(0,i.removeEvent)(P,v.stop,this.handleDragStop),(0,i.removeEvent)(_,v.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,i.removeUserSelectStyles)(P)}}},{key:"findDOMNode",value:function(){var _,P,E;return(_=this.props)!==null&&_!==void 0&&_.nodeRef?(P=this.props)===null||P===void 0||(E=P.nodeRef)===null||E===void 0?void 0:E.current:r.default.findDOMNode(this)}},{key:"render",value:function(){return e.cloneElement(e.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),M}(e.Component);return Je.default=k,p(k,"displayName","DraggableCore"),p(k,"propTypes",{allowAnyClick:t.default.bool,disabled:t.default.bool,enableUserSelectHack:t.default.bool,offsetParent:function(R,T){if(R[T]&&R[T].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:t.default.arrayOf(t.default.number),handle:t.default.string,cancel:t.default.string,nodeRef:t.default.object,onStart:t.default.func,onDrag:t.default.func,onStop:t.default.func,onMouseDown:t.default.func,scale:t.default.number,className:c.dontSetMe,style:c.dontSetMe,transform:c.dontSetMe}),p(k,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),Je}function Ko(){return rr||(rr=1,function(n){function e(E){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},e(E)}Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"DraggableCore",{enumerable:!0,get:function(){return f.default}}),n.default=void 0;var t=function(E,N){if(E&&E.__esModule)return E;if(E===null||e(E)!=="object"&&typeof E!="function")return{default:E};var C=o(N);if(C&&C.has(E))return C.get(E);var z={},g=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var b in E)if(b!=="default"&&Object.prototype.hasOwnProperty.call(E,b)){var m=g?Object.getOwnPropertyDescriptor(E,b):null;m&&(m.get||m.set)?Object.defineProperty(z,b,m):z[b]=E[b]}return z.default=E,C&&C.set(E,z),z}(Se()),r=s(qe()),i=s(Yt()),a=s($o),c=Tt(),u=er(),h=pt(),f=s(Xo()),x=s(ar()),w=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function s(E){return E&&E.__esModule?E:{default:E}}function o(E){if(typeof WeakMap!="function")return null;var N=new WeakMap,C=new WeakMap;return(o=function(z){return z?C:N})(E)}function l(){return l=Object.assign||function(E){for(var N=1;N<arguments.length;N++){var C=arguments[N];for(var z in C)Object.prototype.hasOwnProperty.call(C,z)&&(E[z]=C[z])}return E},l.apply(this,arguments)}function d(E,N){if(E==null)return{};var C,z,g=function(m,O){if(m==null)return{};var L,I,H={},A=Object.keys(m);for(I=0;I<A.length;I++)L=A[I],O.indexOf(L)>=0||(H[L]=m[L]);return H}(E,N);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(E);for(z=0;z<b.length;z++)C=b[z],N.indexOf(C)>=0||Object.prototype.propertyIsEnumerable.call(E,C)&&(g[C]=E[C])}return g}function y(E,N){var C=Object.keys(E);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(E);N&&(z=z.filter(function(g){return Object.getOwnPropertyDescriptor(E,g).enumerable})),C.push.apply(C,z)}return C}function p(E){for(var N=1;N<arguments.length;N++){var C=arguments[N]!=null?arguments[N]:{};N%2?y(Object(C),!0).forEach(function(z){_(E,z,C[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(E,Object.getOwnPropertyDescriptors(C)):y(Object(C)).forEach(function(z){Object.defineProperty(E,z,Object.getOwnPropertyDescriptor(C,z))})}return E}function v(E,N){return function(C){if(Array.isArray(C))return C}(E)||function(C,z){var g=C==null?null:typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"];if(g!=null){var b,m,O=[],L=!0,I=!1;try{for(g=g.call(C);!(L=(b=g.next()).done)&&(O.push(b.value),!z||O.length!==z);L=!0);}catch(H){I=!0,m=H}finally{try{L||g.return==null||g.return()}finally{if(I)throw m}}return O}}(E,N)||function(C,z){if(C){if(typeof C=="string")return j(C,z);var g=Object.prototype.toString.call(C).slice(8,-1);if(g==="Object"&&C.constructor&&(g=C.constructor.name),g==="Map"||g==="Set")return Array.from(C);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return j(C,z)}}(E,N)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function j(E,N){(N==null||N>E.length)&&(N=E.length);for(var C=0,z=new Array(N);C<N;C++)z[C]=E[C];return z}function D(E,N){for(var C=0;C<N.length;C++){var z=N[C];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(E,z.key,z)}}function k(E,N){return k=Object.setPrototypeOf||function(C,z){return C.__proto__=z,C},k(E,N)}function R(E){var N=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var C,z=M(E);if(N){var g=M(this).constructor;C=Reflect.construct(z,arguments,g)}else C=z.apply(this,arguments);return function(b,m){if(m&&(e(m)==="object"||typeof m=="function"))return m;if(m!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T(b)}(this,C)}}function T(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}function M(E){return M=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)},M(E)}function _(E,N,C){return N in E?Object.defineProperty(E,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):E[N]=C,E}var P=function(E){(function(m,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");m.prototype=Object.create(O&&O.prototype,{constructor:{value:m,writable:!0,configurable:!0}}),Object.defineProperty(m,"prototype",{writable:!1}),O&&k(m,O)})(b,E);var N,C,z,g=R(b);function b(m){var O;return function(L,I){if(!(L instanceof I))throw new TypeError("Cannot call a class as a function")}(this,b),_(T(O=g.call(this,m)),"onDragStart",function(L,I){if((0,x.default)("Draggable: onDragStart: %j",I),O.props.onStart(L,(0,u.createDraggableData)(T(O),I))===!1)return!1;O.setState({dragging:!0,dragged:!0})}),_(T(O),"onDrag",function(L,I){if(!O.state.dragging)return!1;(0,x.default)("Draggable: onDrag: %j",I);var H=(0,u.createDraggableData)(T(O),I),A={x:H.x,y:H.y};if(O.props.bounds){var G=A.x,$=A.y;A.x+=O.state.slackX,A.y+=O.state.slackY;var ue=v((0,u.getBoundPosition)(T(O),A.x,A.y),2),W=ue[0],q=ue[1];A.x=W,A.y=q,A.slackX=O.state.slackX+(G-A.x),A.slackY=O.state.slackY+($-A.y),H.x=A.x,H.y=A.y,H.deltaX=A.x-O.state.x,H.deltaY=A.y-O.state.y}if(O.props.onDrag(L,H)===!1)return!1;O.setState(A)}),_(T(O),"onDragStop",function(L,I){if(!O.state.dragging||O.props.onStop(L,(0,u.createDraggableData)(T(O),I))===!1)return!1;(0,x.default)("Draggable: onDragStop: %j",I);var H={dragging:!1,slackX:0,slackY:0};if(O.props.position){var A=O.props.position,G=A.x,$=A.y;H.x=G,H.y=$}O.setState(H)}),O.state={dragging:!1,dragged:!1,x:m.position?m.position.x:m.defaultPosition.x,y:m.position?m.position.y:m.defaultPosition.y,prevPropsPosition:p({},m.position),slackX:0,slackY:0,isElementSVG:!1},!m.position||m.onDrag||m.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),O}return N=b,z=[{key:"getDerivedStateFromProps",value:function(m,O){var L=m.position,I=O.prevPropsPosition;return!L||I&&L.x===I.x&&L.y===I.y?null:((0,x.default)("Draggable: getDerivedStateFromProps %j",{position:L,prevPropsPosition:I}),{x:L.x,y:L.y,prevPropsPosition:p({},L)})}}],(C=[{key:"componentDidMount",value:function(){window.SVGElement!==void 0&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var m,O,L;return(m=(O=this.props)===null||O===void 0||(L=O.nodeRef)===null||L===void 0?void 0:L.current)!==null&&m!==void 0?m:i.default.findDOMNode(this)}},{key:"render",value:function(){var m,O=this.props;O.axis,O.bounds;var L=O.children,I=O.defaultPosition,H=O.defaultClassName,A=O.defaultClassNameDragging,G=O.defaultClassNameDragged,$=O.position,ue=O.positionOffset;O.scale;var W=d(O,w),q={},V=null,Y=!$||this.state.dragging,B=$||I,Z={x:(0,u.canDragX)(this)&&Y?this.state.x:B.x,y:(0,u.canDragY)(this)&&Y?this.state.y:B.y};this.state.isElementSVG?V=(0,c.createSVGTransform)(Z,ue):q=(0,c.createCSSTransform)(Z,ue);var se=(0,a.default)(L.props.className||"",H,(_(m={},A,this.state.dragging),_(m,G,this.state.dragged),m));return t.createElement(f.default,l({},W,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),t.cloneElement(t.Children.only(L),{className:se,style:p(p({},L.props.style),q),transform:V}))}}])&&D(N.prototype,C),z&&D(N,z),Object.defineProperty(N,"prototype",{writable:!1}),b}(t.Component);n.default=P,_(P,"displayName","Draggable"),_(P,"propTypes",p(p({},f.default.propTypes),{},{axis:r.default.oneOf(["both","x","y","none"]),bounds:r.default.oneOfType([r.default.shape({left:r.default.number,right:r.default.number,top:r.default.number,bottom:r.default.number}),r.default.string,r.default.oneOf([!1])]),defaultClassName:r.default.string,defaultClassNameDragging:r.default.string,defaultClassNameDragged:r.default.string,defaultPosition:r.default.shape({x:r.default.number,y:r.default.number}),positionOffset:r.default.shape({x:r.default.oneOfType([r.default.number,r.default.string]),y:r.default.oneOfType([r.default.number,r.default.string])}),position:r.default.shape({x:r.default.number,y:r.default.number}),className:h.dontSetMe,style:h.dontSetMe,transform:h.dontSetMe})),_(P,"defaultProps",p(p({},f.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Yn)),Yn}function zt(){if(or)return Ze.exports;or=1;var n=Ko(),e=n.default,t=n.DraggableCore;return Ze.exports=e,Ze.exports.default=e,Ze.exports.DraggableCore=t,Ze.exports}var sr,mt={exports:{}},et={},gt={};function Qo(){if(sr)return gt;sr=1,gt.__esModule=!0,gt.cloneElement=function(a,c){return c.style&&a.props.style&&(c.style=r(r({},a.props.style),c.style)),c.className&&a.props.className&&(c.className=a.props.className+" "+c.className),e.default.cloneElement(a,c)};var n,e=(n=Se())&&n.__esModule?n:{default:n};function t(a,c){var u=Object.keys(a);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(a);c&&(h=h.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),u.push.apply(u,h)}return u}function r(a){for(var c=1;c<arguments.length;c++){var u=arguments[c]!=null?arguments[c]:{};c%2?t(Object(u),!0).forEach(function(h){i(a,h,u[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(u)):t(Object(u)).forEach(function(h){Object.defineProperty(a,h,Object.getOwnPropertyDescriptor(u,h))})}return a}function i(a,c,u){return(c=function(h){var f=function(x,w){if(typeof x!="object"||x===null)return x;var s=x[Symbol.toPrimitive];if(s!==void 0){var o=s.call(x,w);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(w==="string"?String:Number)(x)}(h,"string");return typeof f=="symbol"?f:String(f)}(c))in a?Object.defineProperty(a,c,{value:u,enumerable:!0,configurable:!0,writable:!0}):a[c]=u,a}return gt}var ir,lr,tt={};function cr(){if(ir)return tt;ir=1,tt.__esModule=!0,tt.resizableProps=void 0;var n,e=(n=qe())&&n.__esModule?n:{default:n};zt();var t={axis:e.default.oneOf(["both","x","y","none"]),className:e.default.string,children:e.default.element.isRequired,draggableOpts:e.default.shape({allowAnyClick:e.default.bool,cancel:e.default.string,children:e.default.node,disabled:e.default.bool,enableUserSelectHack:e.default.bool,offsetParent:e.default.node,grid:e.default.arrayOf(e.default.number),handle:e.default.string,nodeRef:e.default.object,onStart:e.default.func,onDrag:e.default.func,onStop:e.default.func,onMouseDown:e.default.func,scale:e.default.number}),height:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var c,u=i[0];return u.axis==="both"||u.axis==="y"?(c=e.default.number).isRequired.apply(c,i):e.default.number.apply(e.default,i)},handle:e.default.oneOfType([e.default.node,e.default.func]),handleSize:e.default.arrayOf(e.default.number),lockAspectRatio:e.default.bool,maxConstraints:e.default.arrayOf(e.default.number),minConstraints:e.default.arrayOf(e.default.number),onResizeStop:e.default.func,onResizeStart:e.default.func,onResize:e.default.func,resizeHandles:e.default.arrayOf(e.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),transformScale:e.default.number,width:function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var c,u=i[0];return u.axis==="both"||u.axis==="x"?(c=e.default.number).isRequired.apply(c,i):e.default.number.apply(e.default,i)}};return tt.resizableProps=t,tt}function ur(){if(lr)return et;lr=1,et.__esModule=!0,et.default=void 0;var n=function(s,o){if(s&&s.__esModule)return s;if(s===null||typeof s!="object"&&typeof s!="function")return{default:s};var l=a(o);if(l&&l.has(s))return l.get(s);var d={},y=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var p in s)if(p!=="default"&&Object.prototype.hasOwnProperty.call(s,p)){var v=y?Object.getOwnPropertyDescriptor(s,p):null;v&&(v.get||v.set)?Object.defineProperty(d,p,v):d[p]=s[p]}return d.default=s,l&&l.set(s,d),d}(Se()),e=zt(),t=Qo(),r=cr(),i=["children","className","draggableOpts","width","height","handle","handleSize","lockAspectRatio","axis","minConstraints","maxConstraints","onResize","onResizeStop","onResizeStart","resizeHandles","transformScale"];function a(s){if(typeof WeakMap!="function")return null;var o=new WeakMap,l=new WeakMap;return(a=function(d){return d?l:o})(s)}function c(){return c=Object.assign?Object.assign.bind():function(s){for(var o=1;o<arguments.length;o++){var l=arguments[o];for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&(s[d]=l[d])}return s},c.apply(this,arguments)}function u(s,o){var l=Object.keys(s);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);o&&(d=d.filter(function(y){return Object.getOwnPropertyDescriptor(s,y).enumerable})),l.push.apply(l,d)}return l}function h(s){for(var o=1;o<arguments.length;o++){var l=arguments[o]!=null?arguments[o]:{};o%2?u(Object(l),!0).forEach(function(d){f(s,d,l[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(l)):u(Object(l)).forEach(function(d){Object.defineProperty(s,d,Object.getOwnPropertyDescriptor(l,d))})}return s}function f(s,o,l){return(o=function(d){var y=function(p,v){if(typeof p!="object"||p===null)return p;var j=p[Symbol.toPrimitive];if(j!==void 0){var D=j.call(p,v);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(p)}(d,"string");return typeof y=="symbol"?y:String(y)}(o))in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s}function x(s,o){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(l,d){return l.__proto__=d,l},x(s,o)}var w=function(s){var o,l;function d(){for(var p,v=arguments.length,j=new Array(v),D=0;D<v;D++)j[D]=arguments[D];return(p=s.call.apply(s,[this].concat(j))||this).handleRefs={},p.lastHandleRect=null,p.slack=null,p}l=s,(o=d).prototype=Object.create(l.prototype),o.prototype.constructor=o,x(o,l);var y=d.prototype;return y.componentWillUnmount=function(){this.resetData()},y.resetData=function(){this.lastHandleRect=this.slack=null},y.runConstraints=function(p,v){var j=this.props,D=j.minConstraints,k=j.maxConstraints,R=j.lockAspectRatio;if(!D&&!k&&!R)return[p,v];if(R){var T=this.props.width/this.props.height,M=p-this.props.width,_=v-this.props.height;Math.abs(M)>Math.abs(_*T)?v=p/T:p=v*T}var P=p,E=v,N=this.slack||[0,0],C=N[0],z=N[1];return p+=C,v+=z,D&&(p=Math.max(D[0],p),v=Math.max(D[1],v)),k&&(p=Math.min(k[0],p),v=Math.min(k[1],v)),this.slack=[C+(P-p),z+(E-v)],[p,v]},y.resizeHandler=function(p,v){var j=this;return function(D,k){var R=k.node,T=k.deltaX,M=k.deltaY;p==="onResizeStart"&&j.resetData();var _=(j.props.axis==="both"||j.props.axis==="x")&&v!=="n"&&v!=="s",P=(j.props.axis==="both"||j.props.axis==="y")&&v!=="e"&&v!=="w";if(_||P){var E=v[0],N=v[v.length-1],C=R.getBoundingClientRect();j.lastHandleRect!=null&&(N==="w"&&(T+=C.left-j.lastHandleRect.left),E==="n"&&(M+=C.top-j.lastHandleRect.top)),j.lastHandleRect=C,N==="w"&&(T=-T),E==="n"&&(M=-M);var z=j.props.width+(_?T/j.props.transformScale:0),g=j.props.height+(P?M/j.props.transformScale:0),b=j.runConstraints(z,g);z=b[0],g=b[1];var m=z!==j.props.width||g!==j.props.height,O=typeof j.props[p]=="function"?j.props[p]:null;O&&!(p==="onResize"&&!m)&&(D.persist==null||D.persist(),O(D,{node:R,size:{width:z,height:g},handle:v})),p==="onResizeStop"&&j.resetData()}}},y.renderResizeHandle=function(p,v){var j=this.props.handle;if(!j)return n.createElement("span",{className:"react-resizable-handle react-resizable-handle-"+p,ref:v});if(typeof j=="function")return j(p,v);var D=h({ref:v},typeof j.type=="string"?{}:{handleAxis:p});return n.cloneElement(j,D)},y.render=function(){var p=this,v=this.props,j=v.children,D=v.className,k=v.draggableOpts;v.width,v.height,v.handle,v.handleSize,v.lockAspectRatio,v.axis,v.minConstraints,v.maxConstraints,v.onResize,v.onResizeStop,v.onResizeStart;var R=v.resizeHandles;v.transformScale;var T=function(M,_){if(M==null)return{};var P,E,N={},C=Object.keys(M);for(E=0;E<C.length;E++)P=C[E],_.indexOf(P)>=0||(N[P]=M[P]);return N}(v,i);return(0,t.cloneElement)(j,h(h({},T),{},{className:(D?D+" ":"")+"react-resizable",children:[].concat(j.props.children,R.map(function(M){var _,P=(_=p.handleRefs[M])!=null?_:p.handleRefs[M]=n.createRef();return n.createElement(e.DraggableCore,c({},k,{nodeRef:P,key:"resizableHandle-"+M,onStop:p.resizeHandler("onResizeStop",M),onStart:p.resizeHandler("onResizeStart",M),onDrag:p.resizeHandler("onResize",M)}),p.renderResizeHandle(M,P))}))}))},d}(n.Component);return et.default=w,w.propTypes=r.resizableProps,w.defaultProps={axis:"both",handleSize:[20,20],lockAspectRatio:!1,minConstraints:[20,20],maxConstraints:[1/0,1/0],resizeHandles:["se"],transformScale:1},et}var dr,fr,nt={};function Zo(){if(dr)return nt;dr=1,nt.__esModule=!0,nt.default=void 0;var n=function(o,l){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=c(l);if(d&&d.has(o))return d.get(o);var y={},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var j=p?Object.getOwnPropertyDescriptor(o,v):null;j&&(j.get||j.set)?Object.defineProperty(y,v,j):y[v]=o[v]}return y.default=o,d&&d.set(o,y),y}(Se()),e=a(qe()),t=a(ur()),r=cr(),i=["handle","handleSize","onResize","onResizeStart","onResizeStop","draggableOpts","minConstraints","maxConstraints","lockAspectRatio","axis","width","height","resizeHandles","style","transformScale"];function a(o){return o&&o.__esModule?o:{default:o}}function c(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(c=function(y){return y?d:l})(o)}function u(){return u=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(o[y]=d[y])}return o},u.apply(this,arguments)}function h(o,l){var d=Object.keys(o);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(o);l&&(y=y.filter(function(p){return Object.getOwnPropertyDescriptor(o,p).enumerable})),d.push.apply(d,y)}return d}function f(o){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?h(Object(d),!0).forEach(function(y){x(o,y,d[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(d)):h(Object(d)).forEach(function(y){Object.defineProperty(o,y,Object.getOwnPropertyDescriptor(d,y))})}return o}function x(o,l,d){return(l=function(y){var p=function(v,j){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,j);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(v)}(y,"string");return typeof p=="symbol"?p:String(p)}(l))in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}function w(o,l){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(d,y){return d.__proto__=y,d},w(o,l)}var s=function(o){var l,d;function y(){for(var p,v=arguments.length,j=new Array(v),D=0;D<v;D++)j[D]=arguments[D];return(p=o.call.apply(o,[this].concat(j))||this).state={width:p.props.width,height:p.props.height,propsWidth:p.props.width,propsHeight:p.props.height},p.onResize=function(k,R){var T=R.size;p.props.onResize?(k.persist==null||k.persist(),p.setState(T,function(){return p.props.onResize&&p.props.onResize(k,R)})):p.setState(T)},p}return d=o,(l=y).prototype=Object.create(d.prototype),l.prototype.constructor=l,w(l,d),y.getDerivedStateFromProps=function(p,v){return v.propsWidth!==p.width||v.propsHeight!==p.height?{width:p.width,height:p.height,propsWidth:p.width,propsHeight:p.height}:null},y.prototype.render=function(){var p=this.props,v=p.handle,j=p.handleSize;p.onResize;var D=p.onResizeStart,k=p.onResizeStop,R=p.draggableOpts,T=p.minConstraints,M=p.maxConstraints,_=p.lockAspectRatio,P=p.axis;p.width,p.height;var E=p.resizeHandles,N=p.style,C=p.transformScale,z=function(g,b){if(g==null)return{};var m,O,L={},I=Object.keys(g);for(O=0;O<I.length;O++)m=I[O],b.indexOf(m)>=0||(L[m]=g[m]);return L}(p,i);return n.createElement(t.default,{axis:P,draggableOpts:R,handle:v,handleSize:j,height:this.state.height,lockAspectRatio:_,maxConstraints:M,minConstraints:T,onResizeStart:D,onResize:this.onResize,onResizeStop:k,resizeHandles:E,transformScale:C,width:this.state.width},n.createElement("div",u({},z,{style:f(f({},N),{},{width:this.state.width+"px",height:this.state.height+"px"})})))},y}(n.Component);return nt.default=s,s.propTypes=f(f({},r.resizableProps),{},{children:e.default.element}),nt}var pr,hr,mr,Ce={};function gr(){if(pr)return Ce;pr=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resizeHandleType=Ce.resizeHandleAxesType=Ce.default=void 0;var n=t(qe()),e=t(Se());function t(a){return a&&a.__esModule?a:{default:a}}const r=Ce.resizeHandleAxesType=n.default.arrayOf(n.default.oneOf(["s","w","e","n","sw","nw","se","ne"])),i=Ce.resizeHandleType=n.default.oneOfType([n.default.node,n.default.func]);return Ce.default={className:n.default.string,style:n.default.object,width:n.default.number,autoSize:n.default.bool,cols:n.default.number,draggableCancel:n.default.string,draggableHandle:n.default.string,verticalCompact:function(a){a.verticalCompact},compactType:n.default.oneOf(["vertical","horizontal"]),layout:function(a){var c=a.layout;c!==void 0&&Ve().validateLayout(c,"layout")},margin:n.default.arrayOf(n.default.number),containerPadding:n.default.arrayOf(n.default.number),rowHeight:n.default.number,maxRows:n.default.number,isBounded:n.default.bool,isDraggable:n.default.bool,isResizable:n.default.bool,allowOverlap:n.default.bool,preventCollision:n.default.bool,useCSSTransforms:n.default.bool,transformScale:n.default.number,isDroppable:n.default.bool,resizeHandles:r,resizeHandle:i,onLayoutChange:n.default.func,onDragStart:n.default.func,onDrag:n.default.func,onDragStop:n.default.func,onResizeStart:n.default.func,onResize:n.default.func,onResizeStop:n.default.func,onDrop:n.default.func,droppingItem:n.default.shape({i:n.default.string.isRequired,w:n.default.number.isRequired,h:n.default.number.isRequired}),children:function(a,c){const u=a[c],h={};e.default.Children.forEach(u,function(f){if((f==null?void 0:f.key)!=null){if(h[f.key])throw new Error('Duplicate child key "'+f.key+'" found! This will cause problems in ReactGridLayout.');h[f.key]=!0}})},innerRef:n.default.any},Ce}function Jo(){if(hr)return Qe;hr=1,Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.default=void 0;var n=f(Se()),e=Yt(),t=f(qe()),r=zt(),i=(fr||(fr=1,mt.exports=function(){throw new Error("Don't instantiate Resizable directly! Use require('react-resizable').Resizable")},mt.exports.Resizable=ur().default,mt.exports.ResizableBox=Zo().default),mt.exports),a=Ve(),c=Mt(),u=gr(),h=f(Pt());function f(s){return s&&s.__esModule?s:{default:s}}function x(s,o,l){return(o=function(d){var y=function(p,v){if(typeof p!="object"||p===null)return p;var j=p[Symbol.toPrimitive];if(j!==void 0){var D=j.call(p,v);if(typeof D!="object")return D;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(p)}(d,"string");return typeof y=="symbol"?y:String(y)}(o))in s?Object.defineProperty(s,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):s[o]=l,s}let w=class extends n.default.Component{constructor(){super(...arguments),x(this,"state",{resizing:null,dragging:null,className:""}),x(this,"elementRef",n.default.createRef()),x(this,"onDragStart",(s,o)=>{let{node:l}=o;const{onDragStart:d,transformScale:y}=this.props;if(!d)return;const p={top:0,left:0},{offsetParent:v}=l;if(!v)return;const j=v.getBoundingClientRect(),D=l.getBoundingClientRect(),k=D.left/y,R=j.left/y,T=D.top/y,M=j.top/y;p.left=k-R+v.scrollLeft,p.top=T-M+v.scrollTop,this.setState({dragging:p});const{x:_,y:P}=(0,c.calcXY)(this.getPositionParams(),p.top,p.left,this.props.w,this.props.h);return d.call(this,this.props.i,_,P,{e:s,node:l,newPosition:p})}),x(this,"onDrag",(s,o,l)=>{let{node:d,deltaX:y,deltaY:p}=o;const{onDrag:v}=this.props;if(!v)return;if(!this.state.dragging)throw new Error("onDrag called before onDragStart.");let j=this.state.dragging.top+p,D=this.state.dragging.left+y;const{isBounded:k,i:R,w:T,h:M,containerWidth:_}=this.props,P=this.getPositionParams();if(k){const{offsetParent:z}=d;if(z){const{margin:g,rowHeight:b,containerPadding:m}=this.props,O=z.clientHeight-(0,c.calcGridItemWHPx)(M,b,g[1]);j=(0,c.clamp)(j-m[1],0,O);const L=(0,c.calcGridColWidth)(P),I=_-(0,c.calcGridItemWHPx)(T,L,g[0]);D=(0,c.clamp)(D-m[0],0,I)}}const E={top:j,left:D};l?this.setState({dragging:E}):(0,e.flushSync)(()=>{this.setState({dragging:E})});const{x:N,y:C}=(0,c.calcXY)(P,j,D,T,M);return v.call(this,R,N,C,{e:s,node:d,newPosition:E})}),x(this,"onDragStop",(s,o)=>{let{node:l}=o;const{onDragStop:d}=this.props;if(!d)return;if(!this.state.dragging)throw new Error("onDragEnd called before onDragStart.");const{w:y,h:p,i:v}=this.props,{left:j,top:D}=this.state.dragging,k={top:D,left:j};this.setState({dragging:null});const{x:R,y:T}=(0,c.calcXY)(this.getPositionParams(),D,j,y,p);return d.call(this,v,R,T,{e:s,node:l,newPosition:k})}),x(this,"onResizeStop",(s,o,l)=>this.onResizeHandler(s,o,l,"onResizeStop")),x(this,"onResizeStart",(s,o,l)=>this.onResizeHandler(s,o,l,"onResizeStart")),x(this,"onResize",(s,o,l)=>this.onResizeHandler(s,o,l,"onResize"))}shouldComponentUpdate(s,o){if(this.props.children!==s.children||this.props.droppingPosition!==s.droppingPosition)return!0;const l=(0,c.calcGridItemPosition)(this.getPositionParams(this.props),this.props.x,this.props.y,this.props.w,this.props.h,this.state),d=(0,c.calcGridItemPosition)(this.getPositionParams(s),s.x,s.y,s.w,s.h,o);return!(0,a.fastPositionEqual)(l,d)||this.props.useCSSTransforms!==s.useCSSTransforms}componentDidMount(){this.moveDroppingItem({})}componentDidUpdate(s){this.moveDroppingItem(s)}moveDroppingItem(s){const{droppingPosition:o}=this.props;if(!o)return;const l=this.elementRef.current;if(!l)return;const d=s.droppingPosition||{left:0,top:0},{dragging:y}=this.state,p=y&&o.left!==d.left||o.top!==d.top;if(y){if(p){const v=o.left-y.left,j=o.top-y.top;this.onDrag(o.e,{node:l,deltaX:v,deltaY:j},!0)}}else this.onDragStart(o.e,{node:l,deltaX:o.left,deltaY:o.top})}getPositionParams(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return{cols:s.cols,containerPadding:s.containerPadding,containerWidth:s.containerWidth,margin:s.margin,maxRows:s.maxRows,rowHeight:s.rowHeight}}createStyle(s){const{usePercentages:o,containerWidth:l,useCSSTransforms:d}=this.props;let y;return d?y=(0,a.setTransform)(s):(y=(0,a.setTopLeft)(s),o&&(y.left=(0,a.perc)(s.left/l),y.width=(0,a.perc)(s.width/l))),y}mixinDraggable(s,o){return n.default.createElement(r.DraggableCore,{disabled:!o,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,handle:this.props.handle,cancel:".react-resizable-handle"+(this.props.cancel?","+this.props.cancel:""),scale:this.props.transformScale,nodeRef:this.elementRef},s)}curryResizeHandler(s,o){return(l,d)=>o(l,d,s)}mixinResizable(s,o,l){const{cols:d,minW:y,minH:p,maxW:v,maxH:j,transformScale:D,resizeHandles:k,resizeHandle:R}=this.props,T=this.getPositionParams(),M=(0,c.calcGridItemPosition)(T,0,0,d,0).width,_=(0,c.calcGridItemPosition)(T,0,0,y,p),P=(0,c.calcGridItemPosition)(T,0,0,v,j),E=[_.width,_.height],N=[Math.min(P.width,M),Math.min(P.height,1/0)];return n.default.createElement(i.Resizable,{draggableOpts:{disabled:!l},className:l?void 0:"react-resizable-hide",width:o.width,height:o.height,minConstraints:E,maxConstraints:N,onResizeStop:this.curryResizeHandler(o,this.onResizeStop),onResizeStart:this.curryResizeHandler(o,this.onResizeStart),onResize:this.curryResizeHandler(o,this.onResize),transformScale:D,resizeHandles:k,handle:R},s)}onResizeHandler(s,o,l,d){let{node:y,size:p,handle:v}=o;const j=this.props[d];if(!j)return;const{x:D,y:k,i:R,maxH:T,minH:M,containerWidth:_}=this.props,{minW:P,maxW:E}=this.props;let N=p;y&&(N=(0,a.resizeItemInDirection)(v,l,p,_),(0,e.flushSync)(()=>{this.setState({resizing:d==="onResizeStop"?null:N})}));let{w:C,h:z}=(0,c.calcWH)(this.getPositionParams(),N.width,N.height,D,k,v);C=(0,c.clamp)(C,Math.max(P,1),E),z=(0,c.clamp)(z,M,T),j.call(this,R,C,z,{e:s,node:y,size:N,handle:v})}render(){const{x:s,y:o,w:l,h:d,isDraggable:y,isResizable:p,droppingPosition:v,useCSSTransforms:j}=this.props,D=(0,c.calcGridItemPosition)(this.getPositionParams(),s,o,l,d,this.state),k=n.default.Children.only(this.props.children);let R=n.default.cloneElement(k,{ref:this.elementRef,className:(0,h.default)("react-grid-item",k.props.className,this.props.className,{static:this.props.static,resizing:!!this.state.resizing,"react-draggable":y,"react-draggable-dragging":!!this.state.dragging,dropping:!!v,cssTransforms:j}),style:{...this.props.style,...k.props.style,...this.createStyle(D)}});return R=this.mixinResizable(R,D,p),R=this.mixinDraggable(R,y),R}};return Qe.default=w,x(w,"propTypes",{children:t.default.element,cols:t.default.number.isRequired,containerWidth:t.default.number.isRequired,rowHeight:t.default.number.isRequired,margin:t.default.array.isRequired,maxRows:t.default.number.isRequired,containerPadding:t.default.array.isRequired,x:t.default.number.isRequired,y:t.default.number.isRequired,w:t.default.number.isRequired,h:t.default.number.isRequired,minW:function(s,o){const l=s[o];return typeof l!="number"?new Error("minWidth not Number"):l>s.w||l>s.maxW?new Error("minWidth larger than item width/maxWidth"):void 0},maxW:function(s,o){const l=s[o];return typeof l!="number"?new Error("maxWidth not Number"):l<s.w||l<s.minW?new Error("maxWidth smaller than item width/minWidth"):void 0},minH:function(s,o){const l=s[o];return typeof l!="number"?new Error("minHeight not Number"):l>s.h||l>s.maxH?new Error("minHeight larger than item height/maxHeight"):void 0},maxH:function(s,o){const l=s[o];return typeof l!="number"?new Error("maxHeight not Number"):l<s.h||l<s.minH?new Error("maxHeight smaller than item height/minHeight"):void 0},i:t.default.string.isRequired,resizeHandles:u.resizeHandleAxesType,resizeHandle:u.resizeHandleType,onDragStop:t.default.func,onDragStart:t.default.func,onDrag:t.default.func,onResizeStop:t.default.func,onResizeStart:t.default.func,onResize:t.default.func,isDraggable:t.default.bool.isRequired,isResizable:t.default.bool.isRequired,isBounded:t.default.bool.isRequired,static:t.default.bool,useCSSTransforms:t.default.bool.isRequired,transformScale:t.default.number,className:t.default.string,handle:t.default.string,cancel:t.default.string,droppingPosition:t.default.shape({e:t.default.object.isRequired,left:t.default.number.isRequired,top:t.default.number.isRequired})}),x(w,"defaultProps",{className:"",cancel:"",handle:"",minH:1,minW:1,maxH:1/0,maxW:1/0,transformScale:1}),Qe}function yr(){if(mr)return Ke;mr=1,Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.default=void 0;var n=function(o,l){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=h(l);if(d&&d.has(o))return d.get(o);var y={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var j=p?Object.getOwnPropertyDescriptor(o,v):null;j&&(j.get||j.set)?Object.defineProperty(y,v,j):y[v]=o[v]}return y.default=o,d&&d.set(o,y),y}(Se()),e=Rt(),t=u(Pt()),r=Ve(),i=Mt(),a=u(Jo()),c=u(gr());function u(o){return o&&o.__esModule?o:{default:o}}function h(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(h=function(y){return y?d:l})(o)}function f(o,l,d){return(l=function(y){var p=function(v,j){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,j);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(v)}(y,"string");return typeof p=="symbol"?p:String(p)}(l))in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}const x="react-grid-layout";let w=!1;try{w=/firefox/i.test(navigator.userAgent)}catch{}class s extends n.Component{constructor(){super(...arguments),f(this,"state",{activeDrag:null,layout:(0,r.synchronizeLayoutWithChildren)(this.props.layout,this.props.children,this.props.cols,(0,r.compactType)(this.props),this.props.allowOverlap),mounted:!1,oldDragItem:null,oldLayout:null,oldResizeItem:null,resizing:!1,droppingDOMNode:null,children:[]}),f(this,"dragEnterCounter",0),f(this,"onDragStart",(l,d,y,p)=>{let{e:v,node:j}=p;const{layout:D}=this.state,k=(0,r.getLayoutItem)(D,l);if(!k)return;const R={w:k.w,h:k.h,x:k.x,y:k.y,placeholder:!0,i:l};return this.setState({oldDragItem:(0,r.cloneLayoutItem)(k),oldLayout:D,activeDrag:R}),this.props.onDragStart(D,k,k,null,v,j)}),f(this,"onDrag",(l,d,y,p)=>{let{e:v,node:j}=p;const{oldDragItem:D}=this.state;let{layout:k}=this.state;const{cols:R,allowOverlap:T,preventCollision:M}=this.props,_=(0,r.getLayoutItem)(k,l);if(!_)return;const P={w:_.w,h:_.h,x:_.x,y:_.y,placeholder:!0,i:l};k=(0,r.moveElement)(k,_,d,y,!0,M,(0,r.compactType)(this.props),R,T),this.props.onDrag(k,D,_,P,v,j),this.setState({layout:T?k:(0,r.compact)(k,(0,r.compactType)(this.props),R),activeDrag:P})}),f(this,"onDragStop",(l,d,y,p)=>{let{e:v,node:j}=p;if(!this.state.activeDrag)return;const{oldDragItem:D}=this.state;let{layout:k}=this.state;const{cols:R,preventCollision:T,allowOverlap:M}=this.props,_=(0,r.getLayoutItem)(k,l);if(!_)return;k=(0,r.moveElement)(k,_,d,y,!0,T,(0,r.compactType)(this.props),R,M);const P=M?k:(0,r.compact)(k,(0,r.compactType)(this.props),R);this.props.onDragStop(P,D,_,null,v,j);const{oldLayout:E}=this.state;this.setState({activeDrag:null,layout:P,oldDragItem:null,oldLayout:null}),this.onLayoutMaybeChanged(P,E)}),f(this,"onResizeStart",(l,d,y,p)=>{let{e:v,node:j}=p;const{layout:D}=this.state,k=(0,r.getLayoutItem)(D,l);k&&(this.setState({oldResizeItem:(0,r.cloneLayoutItem)(k),oldLayout:this.state.layout,resizing:!0}),this.props.onResizeStart(D,k,k,null,v,j))}),f(this,"onResize",(l,d,y,p)=>{let{e:v,node:j,size:D,handle:k}=p;const{oldResizeItem:R}=this.state,{layout:T}=this.state,{cols:M,preventCollision:_,allowOverlap:P}=this.props;let E,N,C,z=!1;const[g,b]=(0,r.withLayoutItem)(T,l,O=>{let L;return N=O.x,C=O.y,["sw","w","nw","n","ne"].indexOf(k)!==-1&&(["sw","nw","w"].indexOf(k)!==-1&&(N=O.x+(O.w-d),d=O.x!==N&&N<0?O.w:d,N=N<0?0:N),["ne","n","nw"].indexOf(k)!==-1&&(C=O.y+(O.h-y),y=O.y!==C&&C<0?O.h:y,C=C<0?0:C),z=!0),_&&!P&&(L=(0,r.getAllCollisions)(T,{...O,w:d,h:y,x:N,y:C}).filter(I=>I.i!==O.i).length>0,L&&(C=O.y,y=O.h,N=O.x,d=O.w,z=!1)),O.w=d,O.h=y,O});if(!b)return;E=g,z&&(E=(0,r.moveElement)(g,b,N,C,!0,this.props.preventCollision,(0,r.compactType)(this.props),M,P));const m={w:b.w,h:b.h,x:b.x,y:b.y,static:!0,i:l};this.props.onResize(E,R,b,m,v,j),this.setState({layout:P?E:(0,r.compact)(E,(0,r.compactType)(this.props),M),activeDrag:m})}),f(this,"onResizeStop",(l,d,y,p)=>{let{e:v,node:j}=p;const{layout:D,oldResizeItem:k}=this.state,{cols:R,allowOverlap:T}=this.props,M=(0,r.getLayoutItem)(D,l),_=T?D:(0,r.compact)(D,(0,r.compactType)(this.props),R);this.props.onResizeStop(_,k,M,null,v,j);const{oldLayout:P}=this.state;this.setState({activeDrag:null,layout:_,oldResizeItem:null,oldLayout:null,resizing:!1}),this.onLayoutMaybeChanged(_,P)}),f(this,"onDragOver",l=>{var g;if(l.preventDefault(),l.stopPropagation(),w&&!((g=l.nativeEvent.target)!=null&&g.classList.contains(x)))return!1;const{droppingItem:d,onDropDragOver:y,margin:p,cols:v,rowHeight:j,maxRows:D,width:k,containerPadding:R,transformScale:T}=this.props,M=y==null?void 0:y(l);if(M===!1)return this.state.droppingDOMNode&&this.removeDroppingPlaceholder(),!1;const _={...d,...M},{layout:P}=this.state,E=l.currentTarget.getBoundingClientRect(),N=l.clientX-E.left,C=l.clientY-E.top,z={left:N/T,top:C/T,e:l};if(this.state.droppingDOMNode){if(this.state.droppingPosition){const{left:b,top:m}=this.state.droppingPosition;(b!=N||m!=C)&&this.setState({droppingPosition:z})}}else{const b={cols:v,margin:p,maxRows:D,rowHeight:j,containerWidth:k,containerPadding:R||p},m=(0,i.calcXY)(b,C,N,_.w,_.h);this.setState({droppingDOMNode:n.createElement("div",{key:_.i}),droppingPosition:z,layout:[...P,{..._,x:m.x,y:m.y,static:!1,isDraggable:!0}]})}}),f(this,"removeDroppingPlaceholder",()=>{const{droppingItem:l,cols:d}=this.props,{layout:y}=this.state,p=(0,r.compact)(y.filter(v=>v.i!==l.i),(0,r.compactType)(this.props),d,this.props.allowOverlap);this.setState({layout:p,droppingDOMNode:null,activeDrag:null,droppingPosition:void 0})}),f(this,"onDragLeave",l=>{l.preventDefault(),l.stopPropagation(),this.dragEnterCounter--,this.dragEnterCounter===0&&this.removeDroppingPlaceholder()}),f(this,"onDragEnter",l=>{l.preventDefault(),l.stopPropagation(),this.dragEnterCounter++}),f(this,"onDrop",l=>{l.preventDefault(),l.stopPropagation();const{droppingItem:d}=this.props,{layout:y}=this.state,p=y.find(v=>v.i===d.i);this.dragEnterCounter=0,this.removeDroppingPlaceholder(),this.props.onDrop(y,p,l)})}componentDidMount(){this.setState({mounted:!0}),this.onLayoutMaybeChanged(this.state.layout,this.props.layout)}static getDerivedStateFromProps(l,d){let y;return d.activeDrag?null:((0,e.deepEqual)(l.layout,d.propsLayout)&&l.compactType===d.compactType?(0,r.childrenEqual)(l.children,d.children)||(y=d.layout):y=l.layout,y?{layout:(0,r.synchronizeLayoutWithChildren)(y,l.children,l.cols,(0,r.compactType)(l),l.allowOverlap),compactType:l.compactType,children:l.children,propsLayout:l.layout}:null)}shouldComponentUpdate(l,d){return this.props.children!==l.children||!(0,r.fastRGLPropsEqual)(this.props,l,e.deepEqual)||this.state.activeDrag!==d.activeDrag||this.state.mounted!==d.mounted||this.state.droppingPosition!==d.droppingPosition}componentDidUpdate(l,d){if(!this.state.activeDrag){const y=this.state.layout,p=d.layout;this.onLayoutMaybeChanged(y,p)}}containerHeight(){if(!this.props.autoSize)return;const l=(0,r.bottom)(this.state.layout),d=this.props.containerPadding?this.props.containerPadding[1]:this.props.margin[1];return l*this.props.rowHeight+(l-1)*this.props.margin[1]+2*d+"px"}onLayoutMaybeChanged(l,d){d||(d=this.state.layout),(0,e.deepEqual)(d,l)||this.props.onLayoutChange(l)}placeholder(){const{activeDrag:l}=this.state;if(!l)return null;const{width:d,cols:y,margin:p,containerPadding:v,rowHeight:j,maxRows:D,useCSSTransforms:k,transformScale:R}=this.props;return n.createElement(a.default,{w:l.w,h:l.h,x:l.x,y:l.y,i:l.i,className:"react-grid-placeholder "+(this.state.resizing?"placeholder-resizing":""),containerWidth:d,cols:y,margin:p,containerPadding:v||p,maxRows:D,rowHeight:j,isDraggable:!1,isResizable:!1,isBounded:!1,useCSSTransforms:k,transformScale:R},n.createElement("div",null))}processGridItem(l,d){if(!l||!l.key)return;const y=(0,r.getLayoutItem)(this.state.layout,String(l.key));if(!y)return null;const{width:p,cols:v,margin:j,containerPadding:D,rowHeight:k,maxRows:R,isDraggable:T,isResizable:M,isBounded:_,useCSSTransforms:P,transformScale:E,draggableCancel:N,draggableHandle:C,resizeHandles:z,resizeHandle:g}=this.props,{mounted:b,droppingPosition:m}=this.state,O=typeof y.isDraggable=="boolean"?y.isDraggable:!y.static&&T,L=typeof y.isResizable=="boolean"?y.isResizable:!y.static&&M,I=y.resizeHandles||z,H=O&&_&&y.isBounded!==!1;return n.createElement(a.default,{containerWidth:p,cols:v,margin:j,containerPadding:D||j,maxRows:R,rowHeight:k,cancel:N,handle:C,onDragStop:this.onDragStop,onDragStart:this.onDragStart,onDrag:this.onDrag,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,isDraggable:O,isResizable:L,isBounded:H,useCSSTransforms:P&&b,usePercentages:!b,transformScale:E,w:y.w,h:y.h,x:y.x,y:y.y,i:y.i,minH:y.minH,minW:y.minW,maxH:y.maxH,maxW:y.maxW,static:y.static,droppingPosition:d?m:void 0,resizeHandles:I,resizeHandle:g},l)}render(){const{className:l,style:d,isDroppable:y,innerRef:p}=this.props,v=(0,t.default)(x,l),j={height:this.containerHeight(),...d};return n.createElement("div",{ref:p,className:v,style:j,onDrop:y?this.onDrop:r.noop,onDragLeave:y?this.onDragLeave:r.noop,onDragEnter:y?this.onDragEnter:r.noop,onDragOver:y?this.onDragOver:r.noop},n.Children.map(this.props.children,D=>this.processGridItem(D)),y&&this.state.droppingDOMNode&&this.processGridItem(this.state.droppingDOMNode,!0),this.placeholder())}}return Ke.default=s,f(s,"displayName","ReactGridLayout"),f(s,"propTypes",c.default),f(s,"defaultProps",{autoSize:!0,cols:12,className:"",style:{},draggableHandle:"",draggableCancel:"",containerPadding:null,rowHeight:150,maxRows:1/0,layout:[],margin:[10,10],isBounded:!1,isDraggable:!0,isResizable:!0,allowOverlap:!1,isDroppable:!1,useCSSTransforms:!0,transformScale:1,verticalCompact:!0,compactType:"vertical",preventCollision:!1,droppingItem:{i:"__dropping-elem__",h:1,w:1},resizeHandles:["se"],onLayoutChange:r.noop,onDragStart:r.noop,onDrag:r.noop,onDragStop:r.noop,onResizeStart:r.noop,onResize:r.noop,onResizeStop:r.noop,onDrop:r.noop,onDropDragOver:r.noop}),Ke}var br,vr,rt={},Be={};function wr(){if(br)return Be;br=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.findOrGenerateResponsiveLayout=function(t,r,i,a,c,u){if(t[i])return(0,n.cloneLayout)(t[i]);let h=t[a];const f=e(r),x=f.slice(f.indexOf(i));for(let w=0,s=x.length;w<s;w++){const o=x[w];if(t[o]){h=t[o];break}}return h=(0,n.cloneLayout)(h||[]),(0,n.compact)((0,n.correctBounds)(h,{cols:c}),u,c)},Be.getBreakpointFromWidth=function(t,r){const i=e(t);let a=i[0];for(let c=1,u=i.length;c<u;c++){const h=i[c];r>t[h]&&(a=h)}return a},Be.getColsFromBreakpoint=function(t,r){if(!r[t])throw new Error("ResponsiveReactGridLayout: `cols` entry for breakpoint "+t+" is missing!");return r[t]},Be.sortBreakpoints=e;var n=Ve();function e(t){return Object.keys(t).sort(function(r,i){return t[r]-t[i]})}return Be}function ea(){if(vr)return rt;vr=1,Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=void 0;var n=function(o,l){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var d=u(l);if(d&&d.has(o))return d.get(o);var y={__proto__:null},p=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var v in o)if(v!=="default"&&Object.prototype.hasOwnProperty.call(o,v)){var j=p?Object.getOwnPropertyDescriptor(o,v):null;j&&(j.get||j.set)?Object.defineProperty(y,v,j):y[v]=o[v]}return y.default=o,d&&d.set(o,y),y}(Se()),e=c(qe()),t=Rt(),r=Ve(),i=wr(),a=c(yr());function c(o){return o&&o.__esModule?o:{default:o}}function u(o){if(typeof WeakMap!="function")return null;var l=new WeakMap,d=new WeakMap;return(u=function(y){return y?d:l})(o)}function h(){return h=Object.assign?Object.assign.bind():function(o){for(var l=1;l<arguments.length;l++){var d=arguments[l];for(var y in d)Object.prototype.hasOwnProperty.call(d,y)&&(o[y]=d[y])}return o},h.apply(this,arguments)}function f(o,l,d){return(l=function(y){var p=function(v,j){if(typeof v!="object"||v===null)return v;var D=v[Symbol.toPrimitive];if(D!==void 0){var k=D.call(v,j);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(j==="string"?String:Number)(v)}(y,"string");return typeof p=="symbol"?p:String(p)}(l))in o?Object.defineProperty(o,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):o[l]=d,o}const x=o=>Object.prototype.toString.call(o);function w(o,l){return o==null?null:Array.isArray(o)?o:o[l]}let s=class extends n.Component{constructor(){super(...arguments),f(this,"state",this.generateInitialState()),f(this,"onLayoutChange",o=>{this.props.onLayoutChange(o,{...this.props.layouts,[this.state.breakpoint]:o})})}generateInitialState(){const{width:o,breakpoints:l,layouts:d,cols:y}=this.props,p=(0,i.getBreakpointFromWidth)(l,o),v=(0,i.getColsFromBreakpoint)(p,y),j=this.props.verticalCompact===!1?null:this.props.compactType;return{layout:(0,i.findOrGenerateResponsiveLayout)(d,l,p,p,v,j),breakpoint:p,cols:v}}static getDerivedStateFromProps(o,l){if(!(0,t.deepEqual)(o.layouts,l.layouts)){const{breakpoint:d,cols:y}=l;return{layout:(0,i.findOrGenerateResponsiveLayout)(o.layouts,o.breakpoints,d,d,y,o.compactType),layouts:o.layouts}}return null}componentDidUpdate(o){this.props.width==o.width&&this.props.breakpoint===o.breakpoint&&(0,t.deepEqual)(this.props.breakpoints,o.breakpoints)&&(0,t.deepEqual)(this.props.cols,o.cols)||this.onWidthChange(o)}onWidthChange(o){const{breakpoints:l,cols:d,layouts:y,compactType:p}=this.props,v=this.props.breakpoint||(0,i.getBreakpointFromWidth)(this.props.breakpoints,this.props.width),j=this.state.breakpoint,D=(0,i.getColsFromBreakpoint)(v,d),k={...y};if(j!==v||o.breakpoints!==l||o.cols!==d){j in k||(k[j]=(0,r.cloneLayout)(this.state.layout));let M=(0,i.findOrGenerateResponsiveLayout)(k,l,v,j,D,p);M=(0,r.synchronizeLayoutWithChildren)(M,this.props.children,D,p,this.props.allowOverlap),k[v]=M,this.props.onBreakpointChange(v,D),this.props.onLayoutChange(M,k),this.setState({breakpoint:v,layout:M,cols:D})}const R=w(this.props.margin,v),T=w(this.props.containerPadding,v);this.props.onWidthChange(this.props.width,R,D,T)}render(){const{breakpoint:o,breakpoints:l,cols:d,layouts:y,margin:p,containerPadding:v,onBreakpointChange:j,onLayoutChange:D,onWidthChange:k,...R}=this.props;return n.createElement(a.default,h({},R,{margin:w(p,this.state.breakpoint),containerPadding:w(v,this.state.breakpoint),onLayoutChange:this.onLayoutChange,layout:this.state.layout,cols:this.state.cols}))}};return rt.default=s,f(s,"propTypes",{breakpoint:e.default.string,breakpoints:e.default.object,allowOverlap:e.default.bool,cols:e.default.object,margin:e.default.oneOfType([e.default.array,e.default.object]),containerPadding:e.default.oneOfType([e.default.array,e.default.object]),layouts(o,l){if(x(o[l])!=="[object Object]")throw new Error("Layout property must be an object. Received: "+x(o[l]));Object.keys(o[l]).forEach(d=>{if(!(d in o.breakpoints))throw new Error("Each key in layouts must align with a key in breakpoints.");(0,r.validateLayout)(o.layouts[d],"layouts."+d)})},width:e.default.number.isRequired,onBreakpointChange:e.default.func,onLayoutChange:e.default.func,onWidthChange:e.default.func}),f(s,"defaultProps",{breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:10,sm:6,xs:4,xxs:2},containerPadding:{lg:null,md:null,sm:null,xs:null,xxs:null},layouts:{},margin:[10,10],allowOverlap:!1,onBreakpointChange:r.noop,onLayoutChange:r.noop,onWidthChange:r.noop}),rt}var yt={},xr=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,a){return i[0]===t&&(r=a,!0)}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,a=this.__entries__;i<a.length;i++){var c=a[i];t.call(r,c[1],c[0])}},e}()}(),Lt=typeof window<"u"&&typeof document<"u"&&window.document===document,bt=typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")(),ta=typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(bt):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)},na=["top","right","bottom","left","width","height","size","weight"],ra=typeof MutationObserver<"u",oa=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,i=!1,a=0;function c(){r&&(r=!1,e()),i&&h()}function u(){ta(c)}function h(){var f=Date.now();if(r){if(f-a<2)return;i=!0}else r=!0,i=!1,setTimeout(u,t);a=f}return h}(this.refresh.bind(this),20)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){Lt&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),ra?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){Lt&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t;na.some(function(i){return!!~r.indexOf(i)})&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Sr=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},Ue=function(n){return n&&n.ownerDocument&&n.ownerDocument.defaultView||bt},_r=wt(0,0,0,0);function vt(n){return parseFloat(n)||0}function jr(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){return r+vt(n["border-"+i+"-width"])},0)}function aa(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return _r;var r=Ue(n).getComputedStyle(n),i=function(w){for(var s={},o=0,l=["top","right","bottom","left"];o<l.length;o++){var d=l[o],y=w["padding-"+d];s[d]=vt(y)}return s}(r),a=i.left+i.right,c=i.top+i.bottom,u=vt(r.width),h=vt(r.height);if(r.boxSizing==="border-box"&&(Math.round(u+a)!==e&&(u-=jr(r,"left","right")+a),Math.round(h+c)!==t&&(h-=jr(r,"top","bottom")+c)),!function(w){return w===Ue(w).document.documentElement}(n)){var f=Math.round(u+a)-e,x=Math.round(h+c)-t;Math.abs(f)!==1&&(u-=f),Math.abs(x)!==1&&(h-=x)}return wt(i.left,i.top,u,h)}var sa=typeof SVGGraphicsElement<"u"?function(n){return n instanceof Ue(n).SVGGraphicsElement}:function(n){return n instanceof Ue(n).SVGElement&&typeof n.getBBox=="function"};function ia(n){return Lt?sa(n)?function(e){var t=e.getBBox();return wt(0,0,t.width,t.height)}(n):aa(n):_r}function wt(n,e,t,r){return{x:n,y:e,width:t,height:r}}var la=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=wt(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=ia(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),ca=function(n,e){var t=function(r){var i=r.x,a=r.y,c=r.width,u=r.height,h=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,f=Object.create(h.prototype);return Sr(f,{x:i,y:a,width:c,height:u,top:a,right:i+c,bottom:u+a,left:i}),f}(e);Sr(this,{target:n,contentRect:t})},ua=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new xr,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new la(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(typeof Element<"u"&&Element instanceof Object){if(!(e instanceof Ue(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new ca(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Or=typeof WeakMap<"u"?new WeakMap:new xr,Dr=function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=oa.getInstance(),r=new ua(e,t,this);Or.set(this,r)};["observe","unobserve","disconnect"].forEach(function(n){Dr.prototype[n]=function(){var e;return(e=Or.get(this))[n].apply(e,arguments)}});var da=bt.ResizeObserver!==void 0?bt.ResizeObserver:Dr;const fa=co(Object.freeze(Object.defineProperty({__proto__:null,default:da},Symbol.toStringTag,{value:"Module"})));var Er,Cr;function pa(){if(Er)return yt;Er=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=function(f){var x;return x=class extends n.Component{constructor(){super(...arguments),u(this,"state",{width:1280}),u(this,"elementRef",n.createRef()),u(this,"mounted",!1),u(this,"resizeObserver",void 0)}componentDidMount(){this.mounted=!0,this.resizeObserver=new t.default(s=>{if(this.elementRef.current instanceof HTMLElement){const o=s[0].contentRect.width;this.setState({width:o})}});const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.observe(w)}componentWillUnmount(){this.mounted=!1;const w=this.elementRef.current;w instanceof HTMLElement&&this.resizeObserver.unobserve(w),this.resizeObserver.disconnect()}render(){const{measureBeforeMount:w,...s}=this.props;return w&&!this.mounted?n.createElement("div",{className:(0,r.default)(this.props.className,h),style:this.props.style,ref:this.elementRef}):n.createElement(f,c({innerRef:this.elementRef},s,this.state))}},u(x,"defaultProps",{measureBeforeMount:!1}),u(x,"propTypes",{measureBeforeMount:e.default.bool}),x};var n=function(f,x){if(f&&f.__esModule)return f;if(f===null||typeof f!="object"&&typeof f!="function")return{default:f};var w=a(x);if(w&&w.has(f))return w.get(f);var s={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in f)if(l!=="default"&&Object.prototype.hasOwnProperty.call(f,l)){var d=o?Object.getOwnPropertyDescriptor(f,l):null;d&&(d.get||d.set)?Object.defineProperty(s,l,d):s[l]=f[l]}return s.default=f,w&&w.set(f,s),s}(Se()),e=i(qe()),t=i(fa),r=i(Pt());function i(f){return f&&f.__esModule?f:{default:f}}function a(f){if(typeof WeakMap!="function")return null;var x=new WeakMap,w=new WeakMap;return(a=function(s){return s?w:x})(f)}function c(){return c=Object.assign?Object.assign.bind():function(f){for(var x=1;x<arguments.length;x++){var w=arguments[x];for(var s in w)Object.prototype.hasOwnProperty.call(w,s)&&(f[s]=w[s])}return f},c.apply(this,arguments)}function u(f,x,w){return(x=function(s){var o=function(l,d){if(typeof l!="object"||l===null)return l;var y=l[Symbol.toPrimitive];if(y!==void 0){var p=y.call(l,d);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(l)}(s,"string");return typeof o=="symbol"?o:String(o)}(x))in f?Object.defineProperty(f,x,{value:w,enumerable:!0,configurable:!0,writable:!0}):f[x]=w,f}const h="react-grid-layout";return yt}var Ye,kr=(Cr||(Cr=1,(Ye=An).exports=yr().default,Ye.exports.utils=Ve(),Ye.exports.calculateUtils=Mt(),Ye.exports.Responsive=ea().default,Ye.exports.Responsive.utils=wr(),Ye.exports.WidthProvider=pa().default),An.exports);let Nr;Nr=[Ss(),_s({syntaxHighlighting:!0,highlightSpecialChars:!1,history:!1,drawSelection:!1,defaultKeymap:!1,historyKeymap:!1})],Ct=te.memo(n=>{const e=F.c(8),{code:t,className:r}=n,{theme:i}=js();let a;e[0]!==r?(a=ee(r,"text-muted-foreground flex flex-col overflow-hidden"),e[0]=r,e[1]=a):a=e[1];const c=i==="dark"?"dark":"light";let u,h;return e[2]!==t||e[3]!==c?(u=S.jsx(uo,{minHeight:"10px",theme:c,height:"100%",className:"tiny-code",editable:!1,basicSetup:!1,extensions:Nr,value:t}),e[2]=t,e[3]=c,e[4]=u):u=e[4],e[5]!==a||e[6]!==u?(h=S.jsx("div",{className:a,children:u}),e[5]=a,e[6]=u,e[7]=h):h=e[7],h}),Ct.displayName="TinyCode";const ha=kr.WidthProvider(kr.Responsive),ma=[0,0],It="grid-drag-handle",Ht=te.memo(n=>{const e=F.c(20),{output:t,cellId:r,status:i,mode:a,code:c,hidden:u,isScrollable:h,side:f,className:x}=n;let w;e[0]!==i?(w=$t(i),e[0]=i,e[1]=w):w=e[1];const s=w;if((t==null||t.data==="")&&a!=="read"){let R;return e[2]!==x||e[3]!==c?(R=S.jsx(Ct,{className:x,code:c}),e[2]=x,e[3]=c,e[4]=R):R=e[4],R}const o=u&&"invisible",l=h?"overflow-y-auto":"overflow-y-hidden",d=f==="top"&&"flex items-start",y=f==="bottom"&&"flex items-end",p=f==="left"&&"flex justify-start",v=f==="right"&&"flex justify-end";let j,D,k;return e[5]!==x||e[6]!==o||e[7]!==l||e[8]!==d||e[9]!==y||e[10]!==p||e[11]!==v?(j=ee(x,"h-full w-full p-2 overflow-x-auto",o,l,d,y,p,v),e[5]=x,e[6]=o,e[7]=l,e[8]=d,e[9]=y,e[10]=p,e[11]=v,e[12]=j):j=e[12],e[13]!==r||e[14]!==s||e[15]!==t?(D=S.jsx(_t,{allowExpand:!1,output:t,cellId:r,stale:s,loading:s}),e[13]=r,e[14]=s,e[15]=t,e[16]=D):D=e[16],e[17]!==j||e[18]!==D?(k=S.jsx("div",{className:j,children:D}),e[17]=j,e[18]=D,e[19]=k):k=e[19],k});Ht.displayName="GridCell";const ga=n=>{const e=F.c(38),{layout:t,setLayout:r,isLocked:i,setIsLocked:a}=n;let c,u,h,f,x,w,s,o,l,d,y,p,v,j,D;return e[0]===Symbol.for("react.memo_cache_sentinel")?(c=S.jsx(ut,{htmlFor:"columns",children:"Columns"}),e[0]=c):c=e[0],e[1]!==t||e[2]!==r?(u=k=>{r({...t,columns:k})},e[1]=t,e[2]=r,e[3]=u):u=e[3],e[4]!==t.columns||e[5]!==u?(h=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[c,S.jsx(Xt,{"data-testid":"grid-columns-input",id:"columns",value:t.columns,className:"w-[60px]",placeholder:"# of Columns",minValue:1,onChange:u})]}),e[4]=t.columns,e[5]=u,e[6]=h):h=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(ut,{htmlFor:"rowHeight",children:"Row Height (px)"}),e[7]=f):f=e[7],e[8]!==t||e[9]!==r?(x=k=>{r({...t,rowHeight:k})},e[8]=t,e[9]=r,e[10]=x):x=e[10],e[11]!==t.rowHeight||e[12]!==x?(w=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[f,S.jsx(Xt,{"data-testid":"grid-row-height-input",id:"rowHeight",value:t.rowHeight,className:"w-[60px]",placeholder:"Row Height (px)",minValue:1,onChange:x})]}),e[11]=t.rowHeight,e[12]=x,e[13]=w):w=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(s=S.jsx(ut,{htmlFor:"maxWidth",children:"Max Width (px)"}),e[14]=s):s=e[14],e[15]!==t||e[16]!==r?(o=k=>{r({...t,maxWidth:Number.isNaN(k)?void 0:k})},e[15]=t,e[16]=r,e[17]=o):o=e[17],e[18]!==t.maxWidth||e[19]!==o?(l=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[s,S.jsx(Xt,{"data-testid":"grid-max-width-input",id:"maxWidth",value:t.maxWidth,className:"w-[90px]",step:100,placeholder:"Full",onChange:o})]}),e[18]=t.maxWidth,e[19]=o,e[20]=l):l=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(d=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(Es,{className:"h-3 w-3"}),"Bordered"]}),e[21]=d):d=e[21],e[22]!==t||e[23]!==r?(y=k=>{r({...t,bordered:k})},e[22]=t,e[23]=r,e[24]=y):y=e[24],e[25]!==t.bordered||e[26]!==y?(p=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[d,S.jsx(Kt,{"data-testid":"grid-bordered-switch",id:"lock",checked:t.bordered,size:"sm",onCheckedChange:y})]}),e[25]=t.bordered,e[26]=y,e[27]=p):p=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(v=S.jsxs(ut,{className:"flex flex-row items-center gap-1",htmlFor:"lock",children:[S.jsx(ho,{className:"h-3 w-3"}),"Lock Grid"]}),e[28]=v):v=e[28],e[29]!==i||e[30]!==a?(j=S.jsxs("div",{className:"flex flex-row items-center gap-2",children:[v,S.jsx(Kt,{"data-testid":"grid-lock-switch",id:"lock",checked:i,size:"sm",onCheckedChange:a})]}),e[29]=i,e[30]=a,e[31]=j):j=e[31],e[32]!==p||e[33]!==j||e[34]!==h||e[35]!==w||e[36]!==l?(D=S.jsxs("div",{className:"flex flex-row absolute pl-5 top-8 gap-4 w-full justify-end pr-[350px] pb-3 border-b z-50",children:[h,w,l,p,j]}),e[32]=p,e[33]=j,e[34]=h,e[35]=w,e[36]=l,e[37]=D):D=e[37],D},Rr=we.forwardRef((n,e)=>{const t=F.c(30);let r,i,a,c,u,h,f,x,w,s;t[0]!==n?({children:r,isDragging:c,className:i,onDelete:h,isScrollable:u,setIsScrollable:x,side:s,setSide:w,display:a,...f}=n,t[0]=n,t[1]=r,t[2]=i,t[3]=a,t[4]=c,t[5]=u,t[6]=h,t[7]=f,t[8]=x,t[9]=w,t[10]=s):(r=t[1],i=t[2],a=t[3],c=t[4],u=t[5],h=t[6],f=t[7],x=t[8],w=t[9],s=t[10]);const[o,l]=te.useState(),d=o&&"border-[var(--sky-8)] z-20",y=!o&&"hover-actions-parent",p=c&&"bg-[var(--slate-2)] border-border z-20";let v,j,D;return t[11]!==i||t[12]!==d||t[13]!==y||t[14]!==p?(v=ee(i,"relative z-10 hover:z-20","bg-background border-transparent hover:border-[var(--sky-8)] border",d,y,p),t[11]=i,t[12]=d,t[13]=y,t[14]=p,t[15]=v):v=t[15],t[16]!==a||t[17]!==u||t[18]!==h||t[19]!==o||t[20]!==x||t[21]!==w||t[22]!==s?(j=S.jsx(ya,{onDelete:h,isScrollable:u,setIsScrollable:x,side:s,setSide:w,display:a,setPopoverOpened:l,popoverOpened:o}),t[16]=a,t[17]=u,t[18]=h,t[19]=o,t[20]=x,t[21]=w,t[22]=s,t[23]=j):j=t[23],t[24]!==r||t[25]!==e||t[26]!==f||t[27]!==v||t[28]!==j?(D=S.jsxs("div",{ref:e,...f,className:v,children:[r,j]}),t[24]=r,t[25]=e,t[26]=f,t[27]=v,t[28]=j,t[29]=D):D=t[29],D});Rr.displayName="EditableGridCell";const ya=n=>{const e=F.c(43),{display:t,onDelete:r,side:i,setSide:a,isScrollable:c,setIsScrollable:u,popoverOpened:h,setPopoverOpened:f}=n,x=i==="left"?Le:i==="right"?De:void 0,w=!h&&"hover-action",s=t==="top"&&"-top-6 rounded-t",o=t==="bottom"&&"-bottom-6 rounded-b";let l;e[0]!==w||e[1]!==s||e[2]!==o?(l=ee("absolute right-0 p-1 bg-[var(--sky-8)] text-white h-6 z-10 flex gap-2",w,s,o),e[0]=w,e[1]=s,e[2]=o,e[3]=l):l=e[3];const d=h==="side";let y,p,v,j,D;e[4]!==f?(y=b=>f(b?"side":void 0),e[4]=f,e[5]=y):y=e[5],e[6]!==x?(p=S.jsx(Zt,{asChild:!0,children:x?S.jsx(x,{className:"h-4 w-4 opacity-60 hover:opacity-100"}):S.jsx(_e,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[6]=x,e[7]=p):p=e[7],e[8]!==a||e[9]!==i?(v=Qt.entries(ba).map(b=>{const[m,O]=b;return S.jsxs(ct,{onSelect:()=>a(m),children:[S.jsx(O,{className:"h-4 w-3 mr-2"}),S.jsx("span",{className:"flex-1",children:Os(m)}),m===i&&S.jsx(po,{className:"h-4 w-4"})]},m)}),e[8]=a,e[9]=i,e[10]=v):v=e[10],e[11]!==v?(j=S.jsx(Jt,{side:"bottom",children:v}),e[11]=v,e[12]=j):j=e[12],e[13]!==d||e[14]!==y||e[15]!==p||e[16]!==j?(D=S.jsxs(en,{open:d,onOpenChange:y,children:[p,j]}),e[13]=d,e[14]=y,e[15]=p,e[16]=j,e[17]=D):D=e[17];const k=h==="scroll";let R,T,M,_,P,E,N,C,z,g;return e[18]!==f?(R=b=>f(b?"scroll":void 0),e[18]=f,e[19]=R):R=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(Zt,{asChild:!0,children:S.jsx(Tn,{className:"h-4 w-4 opacity-60 hover:opacity-100"})}),e[20]=T):T=e[20],e[21]!==c||e[22]!==u?(M=()=>u(!c),e[21]=c,e[22]=u,e[23]=M):M=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(_=S.jsx("span",{className:"flex-1",children:"Scrollable"}),e[24]=_):_=e[24],e[25]!==c||e[26]!==u?(P=S.jsx(Kt,{"data-testid":"grid-scrollable-switch",checked:c,size:"sm",onCheckedChange:u}),e[25]=c,e[26]=u,e[27]=P):P=e[27],e[28]!==M||e[29]!==P?(E=S.jsx(Jt,{side:"bottom",children:S.jsxs(ct,{onSelect:M,children:[_,P]})}),e[28]=M,e[29]=P,e[30]=E):E=e[30],e[31]!==k||e[32]!==R||e[33]!==E?(N=S.jsxs(en,{open:k,onOpenChange:R,children:[T,E]}),e[31]=k,e[32]=R,e[33]=E,e[34]=N):N=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(C=S.jsx(Ds,{className:ee(It,"cursor-move","h-4 w-4 opacity-60 hover:opacity-100")}),e[35]=C):C=e[35],e[36]!==r?(z=S.jsx(Cs,{className:"h-4 w-4 opacity-60 hover:opacity-100",onClick:()=>r()}),e[36]=r,e[37]=z):z=e[37],e[38]!==D||e[39]!==N||e[40]!==z||e[41]!==l?(g=S.jsxs("div",{className:l,children:[D,N,C,z]}),e[38]=D,e[39]=N,e[40]=z,e[41]=l,e[42]=g):g=e[42],g},ba={left:Le,right:De};function va(n){return n.i}function wa(n){return n.i}function xa(){window.dispatchEvent(new Event("resize"))}let Pr;Pr={type:"grid",name:"Grid",validator:ce.object({columns:ce.number().min(1),rowHeight:ce.number().min(1),maxWidth:ce.number().optional(),bordered:ce.boolean().optional(),cells:ce.array(ce.object({position:ce.tuple([ce.number(),ce.number(),ce.number(),ce.number()]).nullable(),scrollable:ce.boolean().optional(),alignment:ce.enum(["top","bottom","left","right"]).optional()}))}),deserializeLayout:(n,e)=>{if(n.cells.length===0)return{columns:n.columns,rowHeight:n.rowHeight,scrollableCells:new Set,cellSide:new Map,cells:[]};n.cells.length!==e.length&&ve.warn("Number of cells in layout does not match number of cells in notebook");const t=new Set,r=new Map,i=n.cells.flatMap((a,c)=>{const u=a.position;if(!u)return[];const h=e[c];return h?(a.scrollable&&t.add(h.id),a.side&&r.set(h.id,a.side),{i:h.id,x:u[0],y:u[1],w:u[2],h:u[3]}):[]});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:i,cellSide:r,scrollableCells:t}},serializeLayout:(n,e)=>{const t=fo.keyBy(n.cells,i=>i.i),r=e.map(i=>{const a=t.get(i.id);if(!a)return{position:null};const c={position:[a.x,a.y,a.w,a.h]};return n.scrollableCells.has(i.id)&&(c.scrollable=!0),n.cellSide.has(i.id)&&(c.side=n.cellSide.get(i.id)),c});return{columns:n.columns,rowHeight:n.rowHeight,maxWidth:n.maxWidth,bordered:n.bordered,cells:r}},Component:n=>{const e=F.c(156),{layout:t,setLayout:r,cells:i,mode:a}=n,c=a==="read";let u;e[0]!==t.cells?(u=new Set(t.cells.map(va)),e[0]=t.cells,e[1]=u):u=e[1];const h=u,[f,x]=te.useState(null),[w,s]=te.useState(!1);let o,l;e[2]!==t.columns?(l={lg:t.columns},e[2]=t.columns,e[3]=l):l=e[3],o=l;const d=o;let y,p;e[4]!==t.bordered?(y=()=>{const U=document.getElementById("App");return t.bordered?U==null||U.classList.add("grid-bordered"):U==null||U.classList.remove("grid-bordered"),()=>{U==null||U.classList.remove("grid-bordered")}},p=[t.bordered],e[4]=t.bordered,e[5]=y,e[6]=p):(y=e[5],p=e[6]),te.useEffect(y,p);const v=function(){const U=F.c(9),[xe,Ne]=te.useState(!1);let ye;U[0]===Symbol.for("react.memo_cache_sentinel")?(ye={x:0,y:0},U[0]=ye):ye=U[0];const[oe,be]=we.useState(ye),[Fe,$e]=we.useState(!1);let Re;U[1]===Symbol.for("react.memo_cache_sentinel")?(Re=it=>{Ne(!0),be({x:it.clientX,y:it.clientY})},U[1]=Re):Re=U[1];const Q=Re;let de;U[2]!==oe||U[3]!==xe?(de=it=>{if(xe){const bs=it.clientX-oe.x,vs=it.clientY-oe.y;$e(Math.hypot(bs,vs)>10)}},U[2]=oe,U[3]=xe,U[4]=de):de=U[4];const fe=de;let Pe;U[5]===Symbol.for("react.memo_cache_sentinel")?(Pe=()=>{Ne(!1),$e(!1)},U[5]=Pe):Pe=U[5];const Ae=Pe,st=xe&&Fe;let St;return U[6]!==fe||U[7]!==st?(St={isDragging:st,onDragStart:Q,onDragMove:fe,onDragStop:Ae},U[6]=fe,U[7]=st,U[8]=St):St=U[8],St}();let j,D;e[7]!==v?({isDragging:D,...j}=v,e[7]=v,e[8]=j,e[9]=D):(j=e[8],D=e[9]);const k=!c&&!w;let R,T,M,_,P,E,N,C,z,g,b,m,O,L,I,H,A,G,$,ue,W,q,V,Y,B,Z,se;if(e[10]!==i||e[11]!==d||e[12]!==j||e[13]!==f||e[14]!==k||e[15]!==h||e[16]!==D||e[17]!==c||e[18]!==t||e[19]!==a||e[20]!==r){const U=fo.keyBy(t.cells,wa);let xe;e[47]!==t||e[48]!==r?(xe=Q=>de=>{const fe=new Set(t.scrollableCells);de?fe.add(Q):fe.delete(Q),r({...t,scrollableCells:fe})},e[47]=t,e[48]=r,e[49]=xe):xe=e[49];const Ne=xe;let ye;e[50]!==t||e[51]!==r?(ye=Q=>de=>{const fe=new Map(t.cellSide);de===fe.get(Q)?fe.delete(Q):fe.set(Q,de),r({...t,cellSide:fe})},e[50]=t,e[51]=r,e[52]=ye):ye=e[52];const oe=ye;e[53]!==k||e[54]!==t.columns||e[55]!==t.maxWidth||e[56]!==t.rowHeight?(T={},t.maxWidth&&(T.maxWidth=`${t.maxWidth}px`),k&&(T.backgroundImage="repeating-linear-gradient(var(--gray-4) 0 1px, transparent 1px 100%), repeating-linear-gradient(90deg, var(--gray-4) 0 1px, transparent 1px 100%)",T.backgroundSize=`calc((100% / ${t.columns})) ${t.rowHeight}px`),e[53]=k,e[54]=t.columns,e[55]=t.maxWidth,e[56]=t.rowHeight,e[57]=T):T=e[57],R=ha,Y="lg",e[58]!==t.cells?(B={lg:t.cells},e[58]=t.cells,e[59]=B):B=e[59],Z=T,M=d,_=!1;const be=k&&"bg-[var(--slate-2)] border-r",Fe=c&&"disable-animation",$e=!t.maxWidth&&"min-w-[800px]";let Re;e[60]!==be||e[61]!==Fe||e[62]!==$e?(P=ee("w-full mx-auto bg-background flex-1 min-h-full",be,Fe,$e),e[60]=be,e[61]=Fe,e[62]=$e,e[63]=P):P=e[63],e[64]!==c?(E=c?[20,20]:void 0,e[64]=c,e[65]=E):E=e[65],N=ma,C=!1,z=null,g=!0,b=t.rowHeight,e[66]!==t||e[67]!==r?(m=Q=>r({...t,cells:Q}),e[66]=t,e[67]=r,e[68]=m):m=e[68],e[69]!==f?(O=f?{i:f.i,w:f.w||2,h:f.h||2}:void 0,e[69]=f,e[70]=O):O=e[70],e[71]!==j||e[72]!==t||e[73]!==r?(L=(Q,de,fe)=>{j.onDragStop(),de&&r({...t,cells:[...Q,de]})},e[71]=j,e[72]=t,e[73]=r,e[74]=L):L=e[74],e[75]!==j?(I=(Q,de,fe,Pe,Ae)=>{j.onDragStart(Ae)},H=(Q,de,fe,Pe,Ae)=>{j.onDragMove(Ae)},A=()=>{j.onDragStop()},e[75]=j,e[76]=I,e[77]=H,e[78]=A):(I=e[76],H=e[77],A=e[78]),G=xa,$=k,ue=k,W=k,q=k?`.${It}`:"noop",e[79]!==h?(Re=Q=>h.has(Q.id),e[79]=h,e[80]=Re):Re=e[80],V=i.filter(Re).map(Q=>{const de=U.get(Q.id),fe=t.scrollableCells.has(Q.id)??!1,Pe=t.cellSide.get(Q.id),Ae=S.jsx(Ht,{code:Q.code,mode:a,cellId:Q.id,output:Q.output,status:Q.status,isScrollable:fe,side:Pe,hidden:Q.errored||Q.interrupted||Q.stopped});return k?S.jsx(Rr,{id:Q.id,isDragging:D,side:Pe,setSide:oe(Q.id),isScrollable:fe,setIsScrollable:Ne(Q.id),display:(de==null?void 0:de.y)===0?"bottom":"top",onDelete:()=>{r({...t,cells:t.cells.filter(st=>st.i!==Q.id)})},children:Ae},Q.id):S.jsx("div",{children:Ae},Q.id)}),e[10]=i,e[11]=d,e[12]=j,e[13]=f,e[14]=k,e[15]=h,e[16]=D,e[17]=c,e[18]=t,e[19]=a,e[20]=r,e[21]=R,e[22]=T,e[23]=M,e[24]=_,e[25]=P,e[26]=E,e[27]=N,e[28]=C,e[29]=z,e[30]=g,e[31]=b,e[32]=m,e[33]=O,e[34]=L,e[35]=I,e[36]=H,e[37]=A,e[38]=G,e[39]=$,e[40]=ue,e[41]=W,e[42]=q,e[43]=V,e[44]=Y,e[45]=B,e[46]=Z}else R=e[21],T=e[22],M=e[23],_=e[24],P=e[25],E=e[26],N=e[27],C=e[28],z=e[29],g=e[30],b=e[31],m=e[32],O=e[33],L=e[34],I=e[35],H=e[36],A=e[37],G=e[38],$=e[39],ue=e[40],W=e[41],q=e[42],V=e[43],Y=e[44],B=e[45],Z=e[46];e[81]!==R||e[82]!==M||e[83]!==_||e[84]!==P||e[85]!==E||e[86]!==N||e[87]!==C||e[88]!==z||e[89]!==g||e[90]!==b||e[91]!==m||e[92]!==O||e[93]!==L||e[94]!==I||e[95]!==H||e[96]!==A||e[97]!==G||e[98]!==$||e[99]!==ue||e[100]!==W||e[101]!==q||e[102]!==V||e[103]!==Y||e[104]!==B||e[105]!==Z?(se=S.jsx(R,{breakpoint:Y,layouts:B,style:Z,cols:M,allowOverlap:_,className:P,containerPadding:E,margin:N,isBounded:C,compactType:z,preventCollision:g,rowHeight:b,onLayoutChange:m,droppingItem:O,onDrop:L,onDragStart:I,onDrag:H,onDragStop:A,onResizeStop:G,isDraggable:$,isDroppable:ue,isResizable:W,draggableHandle:q,children:V}),e[81]=R,e[82]=M,e[83]=_,e[84]=P,e[85]=E,e[86]=N,e[87]=C,e[88]=z,e[89]=g,e[90]=b,e[91]=m,e[92]=O,e[93]=L,e[94]=I,e[95]=H,e[96]=A,e[97]=G,e[98]=$,e[99]=ue,e[100]=W,e[101]=q,e[102]=V,e[103]=Y,e[104]=B,e[105]=Z,e[106]=se):se=e[106];let re,ie,J,K,le,ge,ke,pe,xt,he=se;if(c){if(t.bordered){let U;e[107]!==he||e[108]!==T?(U=S.jsx("div",{className:"flex flex-1 flex-col items-center",children:S.jsx("div",{style:T,className:"bg-background flex-1 border-t border-x rounded-t shadow-sm w-full overflow-hidden",children:he})}),e[107]=he,e[108]=T,e[109]=U):U=e[109],he=U}return he}if(e[110]!==i||e[111]!==he||e[112]!==h||e[113]!==w||e[114]!==t||e[115]!==a||e[116]!==r||e[117]!==T){let U;e[125]!==h?(U=oe=>!h.has(oe.id),e[125]=h,e[126]=U):U=e[126];const xe=i.filter(U);if(t.bordered){let oe,be;e[127]!==he?(oe=S.jsx("div",{className:"h-full overflow-auto",children:he}),e[127]=he,e[128]=oe):oe=e[128],e[129]!==T||e[130]!==oe?(be=S.jsx("div",{style:T,className:"bg-background border-t border-x rounded-t shadow-sm w-full mx-auto mt-4 h-[calc(100%-1rem)] overflow-hidden",children:oe}),e[129]=T,e[130]=oe,e[131]=be):be=e[131],he=be}let Ne,ye;e[132]!==w||e[133]!==t||e[134]!==r?(ge=S.jsx(ga,{layout:t,setLayout:r,isLocked:w,setIsLocked:s}),e[132]=w,e[133]=t,e[134]=r,e[135]=ge):ge=e[135],e[136]===Symbol.for("react.memo_cache_sentinel")?(K=ee("relative flex z-10 flex-1 overflow-hidden"),Ne=ee("flex-grow overflow-auto transparent-when-disconnected"),e[136]=K,e[137]=Ne):(K=e[136],Ne=e[137]),e[138]!==he?(le=S.jsx("div",{className:Ne,children:he}),e[138]=he,e[139]=le):le=e[139],re="flex-none flex flex-col w-[300px] p-2 pb-20 gap-2 overflow-auto bg-[var(--slate-2)] border-t border-x rounded-t shadow-sm transparent-when-disconnected mx-2 mt-4",e[140]===Symbol.for("react.memo_cache_sentinel")?(ie=S.jsx("div",{className:"text font-bold text-[var(--slate-20)] flex-shrink-0",children:"Outputs"}),e[140]=ie):ie=e[140],e[141]!==t.columns||e[142]!==t.rowHeight||e[143]!==a?(ye=oe=>S.jsx("div",{draggable:!0,unselectable:"on","data-cell-id":oe.id,onDragStart:be=>{const Fe=be.currentTarget.offsetHeight;x({i:oe.id,w:t.columns/4,h:Math.ceil(Fe/t.rowHeight)||1}),be.dataTransfer.setData("text/plain","")},className:ee(It,"droppable-element bg-background border-border border overflow-hidden p-2 rounded flex-shrink-0"),children:S.jsx(Ht,{code:oe.code,className:"select-none pointer-events-none",mode:a,cellId:oe.id,output:oe.output,isScrollable:!1,status:oe.status,hidden:!1})},oe.id),e[141]=t.columns,e[142]=t.rowHeight,e[143]=a,e[144]=ye):ye=e[144],J=xe.map(ye),e[110]=i,e[111]=he,e[112]=h,e[113]=w,e[114]=t,e[115]=a,e[116]=r,e[117]=T,e[118]=re,e[119]=ie,e[120]=J,e[121]=K,e[122]=le,e[123]=ge,e[124]=he}else re=e[118],ie=e[119],J=e[120],K=e[121],le=e[122],ge=e[123],he=e[124];return e[145]!==re||e[146]!==ie||e[147]!==J?(ke=S.jsxs("div",{className:re,children:[ie,J]}),e[145]=re,e[146]=ie,e[147]=J,e[148]=ke):ke=e[148],e[149]!==K||e[150]!==le||e[151]!==ke?(pe=S.jsxs("div",{className:K,children:[le,ke]}),e[149]=K,e[150]=le,e[151]=ke,e[152]=pe):pe=e[152],e[153]!==ge||e[154]!==pe?(xt=S.jsxs(S.Fragment,{children:[ge,pe]}),e[153]=ge,e[154]=pe,e[155]=xt):xt=e[155],xt},getInitialLayout:()=>({columns:24,rowHeight:20,maxWidth:1400,bordered:!0,scrollableCells:new Set,cellSide:new Map,cells:[]})},Cn=n=>{const e=F.c(15),{invisible:t,appConfig:r,className:i,children:a,innerClassName:c}=n;let u;e[0]!==i?(u=ee("px-1 sm:px-16 md:px-20 xl:px-24 print:px-0 print:pb-0",i),e[0]=i,e[1]=u):u=e[1];const h=r.width==="compact"&&"max-w-contentWidth min-w-[400px]",f=r.width==="medium"&&"max-w-contentWidthMedium min-w-[400px]",x=r.width==="columns"&&"w-fit",w=r.width==="full"&&"max-w-full",s=t&&"invisible";let o,l,d;return e[2]!==c||e[3]!==h||e[4]!==f||e[5]!==x||e[6]!==w||e[7]!==s?(o=ee("m-auto pb-24 sm:pb-12",h,f,x,w,s,c),e[2]=c,e[3]=h,e[4]=f,e[5]=x,e[6]=w,e[7]=s,e[8]=o):o=e[8],e[9]!==a||e[10]!==o?(l=S.jsx("div",{className:o,children:a}),e[9]=a,e[10]=o,e[11]=l):l=e[11],e[12]!==u||e[13]!==l?(d=S.jsx("div",{className:u,children:l}),e[12]=u,e[13]=l,e[14]=d):d=e[14],d},Wo=function(n){const e=new URL(window.location.href);return e.hash=`scrollTo=${encodeURIComponent(n)}`,e.toString()},Ao=function(n){return n!==ks&&!!(n&&n.trim().length>0)},En=function(n,e){const t=F.c(5),[r,i]=te.useState(!0);let a,c;return t[0]!==e||t[1]!==n?(a=()=>{const u=Math.max(Math.min(15*(n-1),100),0),h=setTimeout(()=>{i(!1),e!=="read"&&requestAnimationFrame(Sa)},u);return()=>clearTimeout(h)},t[0]=e,t[1]=n,t[2]=a):a=t[2],mo(a),t[3]!==r?(c={invisible:r},t[3]=r,t[4]=c):c=t[4],c};function Sa(){const n=function(e){const t=e.match(/scrollTo=([^&]+)/),r=t==null?void 0:t[1];return r?decodeURIComponent(r.split("&")[0]):null}(window.location.hash);if(n)(function(e){var r,i;if(Tr)return;const t=document.querySelector(`[data-cell-name="${e}"]`);if(t){if(t.scrollIntoView({behavior:"smooth",block:"start"}),Tr=!0,t instanceof HTMLElement){t.focus();const{cellHandles:a}=jt(),c=t.dataset.cellId;if(!c)return void ve.error(`Missing cellId for cell with name ${e}`);const u=(i=(r=a[c])==null?void 0:r.current)==null?void 0:i.editorView;u&&u.focus()}}else ve.warn(`Cannot focus cell with name ${e} because it was not found`),Mr()})(n);else try{Mr()}catch(e){const t=e;ve.warn("Error focusing first editor",t)}}function Mr(){var r;const{cellIds:n,cellData:e,cellHandles:t}=jt();for(const i of n.iterateTopLevelIds){const a=t[i];if(!e[i].config.hide_code&&((r=a==null?void 0:a.current)!=null&&r.editorView))return void a.current.editorView.focus()}}let Tr=!1,zr;zo=n=>{const e=F.c(13);let t,r,i,a;e[0]!==n?({value:a,onChange:t,placeholder:r,...i}=n,e[0]=n,e[1]=t,e[2]=r,e[3]=i,e[4]=a):(t=e[1],r=e[2],i=e[3],a=e[4]);const c=te.useRef(null),u=Lr(a,t);let h;e[5]!==u.onBlur?(h=()=>{const o=u.onBlur,l=c.current;if(l)return l.addEventListener("blur",o),()=>{l.removeEventListener("blur",o)}},e[5]=u.onBlur,e[6]=h):h=e[6],mo(h);const f=u.value,x=u.onChange;let w,s;return e[7]===Symbol.for("react.memo_cache_sentinel")?(w=tn.onEnter(tn.stopPropagation()),e[7]=w):w=e[7],e[8]!==u.onChange||e[9]!==u.value||e[10]!==r||e[11]!==i?(s=S.jsx(yo,{"data-testid":"cell-name-input",value:f,onChange:x,ref:c,placeholder:r,className:"shadow-none! hover:shadow-none focus:shadow-none focus-visible:shadow-none",onKeyDown:w,...i}),e[8]=u.onChange,e[9]=u.value,e[10]=r,e[11]=i,e[12]=s):s=e[12],s},zr=n=>{const e=F.c(11),{value:t,cellId:r,className:i}=n,{updateCellName:a}=go();let c;e[0]!==r||e[1]!==a?(c=o=>a({cellId:r,name:o}),e[0]=r,e[1]=a,e[2]=c):c=e[2];const u=Lr(t,c);if(Ot(t))return null;let h;e[3]!==i?(h=ee("outline-none border hover:border-cyan-500/40 focus:border-cyan-500/40",i),e[3]=i,e[4]=h):h=e[4];const f=u.onChange,x=u.onBlur;let w,s;return e[5]===Symbol.for("react.memo_cache_sentinel")?(w=tn.onEnter(_a),e[5]=w):w=e[5],e[6]!==u.onBlur||e[7]!==u.onChange||e[8]!==h||e[9]!==t?(s=S.jsx(Me,{content:"Click to rename",children:S.jsx("span",{className:h,contentEditable:!0,suppressContentEditableWarning:!0,onChange:f,onBlur:x,onKeyDown:w,children:t})}),e[6]=u.onBlur,e[7]=u.onChange,e[8]=h,e[9]=t,e[10]=s):s=e[10],s};function Lr(n,e){const t=F.c(11),[r,i]=te.useState(n);let a;t[0]!==e||t[1]!==n?(a=w=>{if(w===n)return;if(!w||Ot(w))return void e(w);const s=Ns(w,Rs());e(s)},t[0]=e,t[1]=n,t[2]=a):a=t[2];const c=a;let u,h,f,x;return t[3]!==r?(u=Ot(r)?"":r,t[3]=r,t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=w=>{const s=w.target.value,o=nn(s);i(o)},t[5]=h):h=t[5],t[6]!==c?(f=w=>{if(w.target instanceof HTMLInputElement){const s=w.target.value;c(nn(s))}else if(w.target instanceof HTMLSpanElement){const s=w.target.innerText.trim();c(nn(s))}},t[6]=c,t[7]=f):f=t[7],t[8]!==u||t[9]!==f?(x={value:u,onChange:h,onBlur:f},t[8]=u,t[9]=f,t[10]=x):x=t[10],x}function _a(n){n.target instanceof HTMLElement&&n.target.blur()}te.memo(n=>{const e=we.useRef({});return S.jsx(uo,{minHeight:"200px",maxHeight:"200px",ref:e,theme:"dark",value:n.code,className:"[&>*]:outline-none [&>.cm-editor]:pr-0 overflow-hidden dark",readOnly:!0,editable:!1,basicSetup:{lineNumbers:!1},extensions:[tl.shell(),Ps.updateListener.of(t=>{var r;t.docChanged&&((r=e.current.view)==null||r.dispatch({selection:{anchor:t.state.doc.length,head:t.state.doc.length},scrollIntoView:!0}))})]})}).displayName="DebuggerOutput";let Ir,Hr,Wr,Ar,qr,Wt;Ir=n=>{const e=F.c(30),{onSubmit:t,onClear:r}=n;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=ee("m-0 w-9 h-8 bg-[var(--slate-2)] text-[var(--slate-11)] hover:text-[var(--blue-11)] rounded-none hover:bg-[var(--sky-3)] hover:border-[var(--blue-8)]","first:rounded-l-lg first:border-l border-t border-b hover:border","last:rounded-r-lg last:border-r"),e[0]=i):i=e[0];const a=i;let c,u,h,f,x,w,s,o,l,d,y,p,v,j,D;return e[1]!==t?(c=()=>t("n"),e[1]=t,e[2]=c):c=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(zn,{fontSize:36,className:"w-5 h-5"}),e[3]=u):u=e[3],e[4]!==c?(h=S.jsx(Me,{content:"Next line",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-next-button",className:a,onClick:c,children:u})}),e[4]=c,e[5]=h):h=e[5],e[6]!==t?(f=()=>t("c"),e[6]=t,e[7]=f):f=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(x=ee(a,"text-[var(--grass-11)] hover:text-[var(--grass-11)] hover:bg-[var(--grass-3)] hover:border-[var(--grass-8)]"),w=S.jsx(xn,{fontSize:36,className:"w-5 h-5"}),e[8]=x,e[9]=w):(x=e[8],w=e[9]),e[10]!==f?(s=S.jsx(Me,{content:"Continue execution",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-continue-button",onClick:f,className:x,children:w})}),e[10]=f,e[11]=s):s=e[11],e[12]!==t?(o=()=>t("bt"),e[12]=t,e[13]=o):o=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(l=S.jsx(Mn,{fontSize:36,className:"w-5 h-5"}),e[14]=l):l=e[14],e[15]!==o?(d=S.jsx(Me,{content:"Print stack trace",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-stack-button",className:a,onClick:o,children:l})}),e[15]=o,e[16]=d):d=e[16],e[17]!==t?(y=()=>t("help"),e[17]=t,e[18]=y):y=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(p=S.jsx(Ms,{fontSize:36,className:"w-5 h-5"}),e[19]=p):p=e[19],e[20]!==y?(v=S.jsx(Me,{content:"Help",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-help-button",className:a,onClick:y,children:p})}),e[20]=y,e[21]=v):v=e[21],e[22]!==r?(j=r&&S.jsx(Me,{content:"Clear",children:S.jsx(Te,{variant:"text",size:"icon","data-testid":"debugger-clear-button",className:ee(a,"text-[var(--red-11)] hover:text-[var(--red-11)] hover:bg-[var(--red-2)] hover:border-[var(--red-8)]"),onClick:r,children:S.jsx(In,{fontSize:36,className:"w-5 h-5"})})}),e[22]=r,e[23]=j):j=e[23],e[24]!==d||e[25]!==v||e[26]!==j||e[27]!==h||e[28]!==s?(D=S.jsxs("div",{className:"flex",children:[h,s,d,v,j]}),e[24]=d,e[25]=v,e[26]=j,e[27]=h,e[28]=s,e[29]=D):D=e[29],D},Hr=new zs,jn=n=>{const e=F.c(2);let t;return e[0]!==n?(t=S.jsx(Ts,{children:S.jsx(Wr,{...n})}),e[0]=n,e[1]=t):t=e[1],t},Wr=n=>{const e=F.c(36),t=we.useRef(null),{consoleOutputs:r,stale:i,cellName:a,cellId:c,onSubmitDebugger:u,onClear:h,onRefactorWithAI:f,className:x}=n,w=r.length>0;let s,o,l,d,y,p,v,j;if(e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>{const D=t.current;if(!D)return;const k=D.scrollHeight-D.clientHeight;k-D.scrollTop<120&&(D.scrollTop=k)},e[0]=s):s=e[0],te.useLayoutEffect(s),!w&&Ot(a))return null;if(e[1]!==c||e[2]!==x||e[3]!==r||e[4]!==w||e[5]!==h||e[6]!==f||e[7]!==u||e[8]!==i){const D=[...r].reverse(),k=D.some(ja),R=D.findIndex(Oa);o=i?"This console output is stale":void 0,l="console-output-area",d=t;const T=i&&"marimo-output-stale",M=w?"p-5":"p-3";let _;e[14]!==x||e[15]!==T||e[16]!==M?(y=ee("console-output-area overflow-hidden rounded-b-lg flex flex-col-reverse w-full gap-1",T,M,x),e[14]=x,e[15]=T,e[16]=M,e[17]=y):y=e[17],e[18]!==c||e[19]!==r.length||e[20]!==k||e[21]!==R||e[22]!==h||e[23]!==f||e[24]!==u?(_=(P,E)=>{if(P.channel==="pdb")return null;if(P.channel==="stdin"){Ls(typeof P.data=="string","Expected data to be a string");const N=r.length-E-1;return P.response==null&&R===E?S.jsx(Ar,{output:P.data,isPdb:k,onSubmit:C=>u(C,N),onClear:h},E):S.jsx(qr,{output:P.data,response:P.response},E)}return S.jsx(we.Fragment,{children:S.jsx(Is,{cellId:c,onRefactorWithAI:f,message:P})},E)},e[18]=c,e[19]=r.length,e[20]=k,e[21]=R,e[22]=h,e[23]=f,e[24]=u,e[25]=_):_=e[25],p=D.map(_),e[1]=c,e[2]=x,e[3]=r,e[4]=w,e[5]=h,e[6]=f,e[7]=u,e[8]=i,e[9]=o,e[10]=l,e[11]=d,e[12]=y,e[13]=p}else o=e[9],l=e[10],d=e[11],y=e[12],p=e[13];return e[26]!==c||e[27]!==a?(v=S.jsx(zr,{value:a,cellId:c,className:"bg-[var(--slate-4)] border-[var(--slate-4)] hover:bg-[var(--slate-5)] dark:border-[var(--sky-5)] dark:bg-[var(--sky-6)] dark:text-[var(--sky-12)] text-[var(--slate-12)] rounded-tl rounded-br-lg absolute right-0 bottom-0 text-xs px-1.5 py-0.5 font-mono"}),e[26]=c,e[27]=a,e[28]=v):v=e[28],e[29]!==o||e[30]!==l||e[31]!==d||e[32]!==y||e[33]!==p||e[34]!==v?(j=S.jsxs("div",{title:o,"data-testid":l,ref:d,className:y,children:[p,v]}),e[29]=o,e[30]=l,e[31]=d,e[32]=y,e[33]=p,e[34]=v,e[35]=j):j=e[35],j},Ar=n=>{const e=F.c(13);let t,r,i,a,c;return e[0]!==n.output?(t=Wt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(Hs,{className:"w-5 h-5"}),e[2]=r):r=e[2],e[3]!==n?(i=S.jsx(yo,{"data-testid":"console-input","data-stdin-blocking":!0,type:"text",autoComplete:"off",autoFocus:!0,icon:r,className:"m-0 h-8 focus-visible:shadow-xsSolid",placeholder:"stdin",onKeyDownCapture:u=>{u.key!=="Enter"||u.shiftKey||(n.onSubmit(u.currentTarget.value),u.preventDefault(),u.stopPropagation()),u.key==="Enter"&&u.metaKey&&(u.preventDefault(),u.stopPropagation())}}),e[3]=n,e[4]=i):i=e[4],e[5]!==n.isPdb||e[6]!==n.onClear||e[7]!==n.onSubmit?(a=n.isPdb&&S.jsx(Ir,{onSubmit:n.onSubmit,onClear:n.onClear}),e[5]=n.isPdb,e[6]=n.onClear,e[7]=n.onSubmit,e[8]=a):a=e[8],e[9]!==t||e[10]!==i||e[11]!==a?(c=S.jsxs("div",{className:"flex gap-2 items-center pt-2",children:[t,i,a]}),e[9]=t,e[10]=i,e[11]=a,e[12]=c):c=e[12],c},qr=n=>{const e=F.c(7);let t,r,i;return e[0]!==n.output?(t=Wt(n.output),e[0]=n.output,e[1]=t):t=e[1],e[2]!==n.response?(r=S.jsx("span",{className:"text-[var(--sky-11)]",children:n.response}),e[2]=n.response,e[3]=r):r=e[3],e[4]!==t||e[5]!==r?(i=S.jsxs("div",{className:"flex gap-2 items-center",children:[t,r]}),e[4]=t,e[5]=r,e[6]=i):i=e[6],i},Wt=n=>n?S.jsx("span",{dangerouslySetInnerHTML:{__html:Hr.ansi_to_html(n)}}):null;function ja(n){return typeof n.data=="string"&&n.data.includes("(Pdb)")}function Oa(n){return n.channel==="stdin"}const Da=/\/@file\/([^\s/]+)\.([\dA-Za-z]+)/g;Xe=class{static get INSTANCE(){const n="_marimo_private_VirtualFileTracker";return window[n]||(window[n]=new Xe),window[n]}constructor(){this.virtualFiles=new Map}track(n){const e=n.output,t=n.cell_id;if(e)switch(e.mimetype){case"application/json":case"text/html":{const r=this.virtualFiles.get(t),i=function(a){if(!a)return new Set;const c=new Set,u=(typeof a=="string"?a:JSON.stringify(a)).match(Da);if(u)for(const h of u)c.add(h);return c}(e.data);return r==null||r.forEach(a=>i.add(a)),void this.virtualFiles.set(t,i)}default:return}}filenames(){const n=new Set;for(const e of this.virtualFiles.values())e.forEach(t=>n.add(t));return[...n]}removeForCellId(n){this.virtualFiles.delete(n)}},Sn=async function(n){const{filename:e,includeCode:t}=n,r=await Ws({download:!0,includeCode:t,files:Xe.INSTANCE.filenames()}),i=As.basename(e)??"notebook.py";qs(new Blob([r],{type:"text/html"}),Bs.toHTML(i))},Rn=function(n){const e=F.c(5),[t,r]=te.useState(void 0),i=te.useRef(null),a=te.useRef(null);let c,u,h;return e[0]!==n?(c=()=>{if(n.length!==0)return i.current=new IntersectionObserver(f=>{let x;if(x=!1,f.forEach(w=>{const s=w.target;w.isIntersecting?(!a.current||s.getBoundingClientRect().top<a.current.getBoundingClientRect().top)&&(a.current=s,x=!0):s===a.current&&(a.current=null,x=!0)}),x&&a.current){const w=Fs(a.current),s="id"in w?w.id:w.path;r(s)}},{root:bo==="edit"?document.getElementById("App"):void 0,rootMargin:"0px",threshold:0}),n.forEach(f=>{var x;f&&((x=i.current)==null||x.observe(f[0]))}),()=>{i.current&&i.current.disconnect(),a.current=null}},u=[n],e[0]=n,e[1]=c,e[2]=u):(c=e[1],u=e[2]),te.useEffect(c,u),e[3]!==t?(h={activeHeaderId:t},e[3]=t,e[4]=h):h=e[4],h},Nn=function(n){if(n.length===0)return[];const e=new Map;return n.map(t=>{const r="id"in t.by?t.by.id:t.by.path,i=e.get(r)??0;e.set(r,i+1);const a=Fr(t,i);return a?[a,r]:null}).filter(Boolean)};function Br(n,e){const t=Fr(n,e);t?(t.scrollIntoView({behavior:"smooth",block:"start"}),t.classList.add("outline-item-highlight"),setTimeout(()=>{t.classList.remove("outline-item-highlight")},3e3)):ve.warn("Could not find element for outline item",n)}function Fr(n,e){return"id"in n.by?document.querySelectorAll(`[id="${CSS.escape(n.by.id)}"]`)[e]:document.evaluate(n.by.path,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}let Gr,Vr,At;kn=()=>{const n=F.c(17),{items:e}=ze(Gs);let t;n[0]!==e?(t=Nn(e),n[0]=e,n[1]=t):t=n[1];const{activeHeaderId:r}=Rn(t),[i,a]=we.useState(!1);if(e.length<2)return null;let c,u,h;n[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>a(!0),u=()=>a(!1),h=ee("fixed top-[25vh] right-8 z-[10000]","hidden md:block"),n[2]=c,n[3]=u,n[4]=h):(c=n[2],u=n[3],h=n[4]);const f=i?"-left-[280px] opacity-100":"left-[300px] opacity-0";let x,w,s,o;return n[5]!==f?(x=ee("-top-4 max-h-[70vh] bg-background rounded-lg shadow-lg absolute overflow-auto transition-all duration-300 w-[300px] border",f),n[5]=f,n[6]=x):x=n[6],n[7]!==r||n[8]!==e||n[9]!==x?(w=S.jsx(gn,{className:x,items:e,activeHeaderId:r}),n[7]=r,n[8]=e,n[9]=x,n[10]=w):w=n[10],n[11]!==r||n[12]!==e?(s=S.jsx(Gr,{items:e,activeHeaderId:r}),n[11]=r,n[12]=e,n[13]=s):s=n[13],n[14]!==w||n[15]!==s?(o=S.jsxs("div",{onMouseEnter:c,onMouseLeave:u,className:h,children:[w,s]}),n[14]=w,n[15]=s,n[16]=o):o=n[16],o},Gr=n=>{const e=F.c(7),{items:t,activeHeaderId:r}=n;let i,a,c;if(e[0]!==r||e[1]!==t){const u=new Map;i="flex flex-col gap-4 items-end max-h-[70vh] overflow-hidden",a=t.map((h,f)=>{const x="id"in h.by?h.by.id:h.by.path,w=u.get(x)??0;return u.set(x,w+1),S.jsx("div",{className:ee("h-[2px] bg-muted-foreground/60",h.level===1&&"w-5",h.level===2&&"w-4",h.level===3&&"w-3",h.level===4&&"w-2",r===x&&"bg-foreground"),onClick:()=>Br(h,w)},`${x}-${f}`)}),e[0]=r,e[1]=t,e[2]=i,e[3]=a}else i=e[2],a=e[3];return e[4]!==i||e[5]!==a?(c=S.jsx("div",{className:i,children:a}),e[4]=i,e[5]=a,e[6]=c):c=e[6],c},gn=n=>{const e=F.c(10),{items:t,activeHeaderId:r,className:i}=n;let a,c,u;if(e[0]!==r||e[1]!==i||e[2]!==t){const h=new Map;e[5]!==i?(a=ee("flex flex-col overflow-auto py-4 pl-2",i),e[5]=i,e[6]=a):a=e[6],c=t.map((f,x)=>{const w="id"in f.by?f.by.id:f.by.path,s=h.get(w)??0;return h.set(w,s+1),S.jsx("div",{className:ee("px-2 py-1 cursor-pointer hover:bg-accent/50 hover:text-accent-foreground rounded-l",f.level===1&&"font-semibold",f.level===2&&"ml-3",f.level===3&&"ml-6",f.level===4&&"ml-9",r===w&&"text-accent-foreground"),onClick:()=>Br(f,s),children:f.name},`${w}-${x}`)}),e[0]=r,e[1]=i,e[2]=t,e[3]=a,e[4]=c}else a=e[3],c=e[4];return e[7]!==a||e[8]!==c?(u=S.jsx("div",{className:a,children:c}),e[7]=a,e[8]=c,e[9]=u):u=e[9],u},Vr=n=>{const e=F.c(10),{canShowCode:t,showCode:r,onToggleShowCode:i}=n,a=Na,c=Ra;let u,h,f,x,w,s;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=ee("right-0 top-0 z-50 m-4 no-print flex gap-2 print:hidden",on()?"absolute":"fixed"),e[0]=u):u=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(h=S.jsx(Zt,{asChild:!0,children:S.jsx(Te,{variant:"secondary",size:"xs",children:S.jsx(fn,{className:"w-4 h-4"})})}),e[1]=h):h=e[1],e[2]!==t||e[3]!==i||e[4]!==r?(f=t&&S.jsxs(S.Fragment,{children:[S.jsxs(ct,{onSelect:i,id:"notebook-action-show-code",children:[S.jsx(Qs,{className:"mr-2",size:14,strokeWidth:1.5}),S.jsx("span",{className:"flex-1",children:"Show code"}),r&&S.jsx(po,{className:"h-4 w-4"})]}),S.jsx(Zs,{})]}),e[2]=t,e[3]=i,e[4]=r,e[5]=f):f=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(x=S.jsxs(ct,{onSelect:c,id:"notebook-action-download-html",children:[S.jsx(pn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as HTML"]}),e[6]=x):x=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(w=S.jsxs(ct,{onSelect:a,id:"notebook-action-download-png",children:[S.jsx(hn,{className:"mr-2",size:14,strokeWidth:1.5}),"Download as PNG"]}),e[7]=w):w=e[7],e[8]!==f?(s=S.jsx("div",{id:"notebook-actions-dropdown",className:u,children:S.jsxs(en,{modal:!1,children:[h,S.jsxs(Jt,{align:"end",className:"no-print w-[220px]",children:[f,x,w]})]})}),e[8]=f,e[9]=s):s=e[9],s},At=te.memo(n=>{const e=F.c(55),{output:t,consoleOutputs:r,cellOutputArea:i,cellId:a,status:c,stopped:u,errored:h,config:f,interrupted:x,staleInputs:w,runStartTimestamp:s,code:o,showCode:l,mode:d,name:y,kiosk:p}=n,v=te.useRef(null);let j;e[0]!==x||e[1]!==t||e[2]!==s||e[3]!==w||e[4]!==c?(j=Us({status:c,output:t,interrupted:x,runStartTimestamp:s,staleInputs:w},!1),e[0]=x,e[1]=t,e[2]=s,e[3]=w,e[4]=c,e[5]=j):j=e[5];const D=j;let k;e[6]!==c?(k=$t(c),e[6]=c,e[7]=k):k=e[7];const R=k,T=p&&d!=="present";let M,_;if(e[8]!==o||e[9]!==h||e[10]!==T||e[11]!==d||e[12]!==l||e[13]!==u){M=new Ys().isSupported(o);const m=!l&&!T;_=ee("marimo-cell","hover-actions-parent empty:invisible",{published:m,interactive:d==="edit","has-error":h,stopped:u,borderless:M&&!m}),e[8]=o,e[9]=h,e[10]=T,e[11]=d,e[12]=l,e[13]=u,e[14]=M,e[15]=_}else M=e[14],_=e[15];const P=_;let E;e[16]!==a?(E=$s.create(a),e[16]=a,e[17]=E):E=e[17];const N=E;if(d==="read"&&l||T){let m;e[18]!==a||e[19]!==R||e[20]!==t||e[21]!==D?(m=S.jsx(_t,{allowExpand:!0,output:t,className:"output-area",cellId:a,stale:D,loading:R}),e[18]=a,e[19]=R,e[20]=t,e[21]=D,e[22]=m):m=e[22];const O=m,L=o.trim()==="",I=i==="above"&&O;let H;e[23]!==o||e[24]!==f||e[25]!==L||e[26]!==M||e[27]!==p?(H=!M&&!L&&S.jsx("div",{className:"tray",children:S.jsx(Xs,{initiallyHideCode:f.hide_code||p,code:o})}),e[23]=o,e[24]=f,e[25]=L,e[26]=M,e[27]=p,e[28]=H):H=e[28];const A=i==="below"&&O;let G,$;return e[29]!==a||e[30]!==r||e[31]!==y||e[32]!==D?(G=S.jsx(jn,{consoleOutputs:r,stale:D,cellName:y,onSubmitDebugger:Pa,cellId:a,debuggerActive:!1}),e[29]=a,e[30]=r,e[31]=y,e[32]=D,e[33]=G):G=e[33],e[34]!==N||e[35]!==a||e[36]!==P||e[37]!==y||e[38]!==I||e[39]!==H||e[40]!==A||e[41]!==G?($=S.jsxs("div",{tabIndex:-1,id:N,ref:v,className:P,"data-cell-id":a,"data-cell-name":y,children:[I,H,A,G]}),e[34]=N,e[35]=a,e[36]=P,e[37]=y,e[38]=I,e[39]=H,e[40]=A,e[41]=G,e[42]=$):$=e[42],$}const C=Ks(t==null?void 0:t.mimetype);if(h||x||u||C)return null;const z=d==="edit";let g,b;return e[43]!==a||e[44]!==R||e[45]!==t||e[46]!==D||e[47]!==z?(g=S.jsx(_t,{allowExpand:z,output:t,className:"output-area",cellId:a,stale:D,loading:R}),e[43]=a,e[44]=R,e[45]=t,e[46]=D,e[47]=z,e[48]=g):g=e[48],e[49]!==N||e[50]!==a||e[51]!==P||e[52]!==y||e[53]!==g?(b=S.jsx("div",{tabIndex:-1,id:N,ref:v,className:P,"data-cell-id":a,"data-cell-name":y,children:g}),e[49]=N,e[50]=a,e[51]=P,e[52]=y,e[53]=g,e[54]=b):b=e[54],b}),At.displayName="VerticalCell";const Ea={type:"vertical",name:"Vertical",validator:ce.any(),Component:n=>{const e=F.c(33),{cells:t,appConfig:r,mode:i}=n,{invisible:a}=En(t.length,i),c=ze(rn),[u]=Vs();let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h=new URLSearchParams(window.location.search),e[0]=h):h=e[0];const f=h;let x;e[1]!==c?(x=()=>{if(!vo())return!1;const _=f.get(dt.showCode);return _===null?on()||an()||c:_==="true"},e[1]=c,e[2]=x):x=e[2];const[w,s]=te.useState(x);let o;e[3]!==t||e[4]!==c||e[5]!==i?(o=()=>{const _=t.some(Ca);if(c)return!0;const P=f.get(dt.includeCode);return i==="read"&&P!=="false"&&_},e[3]=t,e[4]=c,e[5]=i,e[6]=o):o=e[6];const l=o;let d;e[7]!==l?(d=l(),e[7]=l,e[8]=d):d=e[8];const y=d;let p;e[9]!==y||e[10]!==c||e[11]!==i||e[12]!==w||e[13]!==u?(p=_=>S.jsx(At,{cellId:_.id,output:_.output,consoleOutputs:_.consoleOutputs,status:_.status,code:_.code,config:_.config,cellOutputArea:u.display.cell_output,stopped:_.stopped,showCode:w&&y,errored:_.errored,mode:i,runStartTimestamp:_.runStartTimestamp,interrupted:_.interrupted,staleInputs:_.staleInputs,name:_.name,kiosk:c},_.id),e[9]=y,e[10]=c,e[11]=i,e[12]=w,e[13]=u,e[14]=p):p=e[14];const v=p;let j;e[15]!==r.width||e[16]!==t||e[17]!==v?(j=()=>{if(r.width==="columns"){const _=function(P){const E=new Map;let N=0;return P.forEach(C=>{var g;const z=C.config.column??N;N=z,E.has(z)||E.set(z,[]),(g=E.get(z))==null||g.push(C)}),[...E.entries()].sort(([C],[z])=>C-z)}(t);return S.jsx("div",{className:"flex flex-row gap-8 w-full",children:_.map(P=>{const[E,N]=P;return S.jsx("div",{className:"flex-1 flex flex-col gap-2 w-contentWidth",children:N.map(v)},E)})})}return S.jsx(S.Fragment,{children:t.map(v)})},e[15]=r.width,e[16]=t,e[17]=v,e[18]=j):j=e[18];const D=j;let k,R,T,M;return e[19]!==y||e[20]!==D||e[21]!==w?(k=w&&y?S.jsxs("div",{className:"flex flex-col gap-5",children:[" ",D()]}):D(),e[19]=y,e[20]=D,e[21]=w,e[22]=k):k=e[22],e[23]!==y||e[24]!==i||e[25]!==w?(R=i==="read"&&S.jsx(Vr,{canShowCode:y,showCode:w,onToggleShowCode:()=>s(ka)}),e[23]=y,e[24]=i,e[25]=w,e[26]=R):R=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(T=S.jsx(kn,{}),e[27]=T):T=e[27],e[28]!==r||e[29]!==a||e[30]!==k||e[31]!==R?(M=S.jsxs(Cn,{invisible:a,appConfig:r,children:[k,R,T]}),e[28]=r,e[29]=a,e[30]=k,e[31]=R,e[32]=M):M=e[32],M},deserializeLayout:n=>n,serializeLayout:n=>n,getInitialLayout:()=>null};function Ca(n){return!!n.code}function ka(n){return!n}async function Na(){const n=document.getElementById("App");n&&await Js(n,document.title)}async function Ra(){document.getElementById("App")&&await Sn({filename:document.title,includeCode:!0})}function Pa(){return null}const Ma=we.lazy(()=>ei(()=>import("./slides-component--i-DYgOt.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)),Ur=te.memo(n=>{const e=F.c(6),{output:t,cellId:r,status:i}=n;let a;e[0]!==i?(a=$t(i),e[0]=i,e[1]=a):a=e[1];const c=a;let u;return e[2]!==r||e[3]!==c||e[4]!==t?(u=S.jsx(_t,{className:"contents",allowExpand:!1,output:t,cellId:r,stale:c,loading:c}),e[2]=r,e[3]=c,e[4]=t,e[5]=u):u=e[5],u});Ur.displayName="Slide";const qt=[Pr,{type:"slides",name:"Slides",validator:ce.object({}),deserializeLayout:(n,e)=>({}),serializeLayout:(n,e)=>({}),Component:n=>{const e=F.c(11),{cells:t,mode:r}=n,i=r==="read";let a,c;if(e[0]!==t||e[1]!==r){let f;e[3]!==r?(f=x=>x.output==null||x.output.data===""?null:S.jsx(Ur,{cellId:x.id,code:x.code,status:x.status,output:x.output,mode:r},x.id),e[3]=r,e[4]=f):f=e[4],a=t.map(f),e[0]=t,e[1]=r,e[2]=a}else a=e[2];e[5]!==a?(c=S.jsx(Ma,{forceKeyboardNavigation:!0,children:a}),e[5]=a,e[6]=c):c=e[6];const u=c;if(i){let f;return e[7]!==u?(f=S.jsx("div",{className:"p-4",children:u}),e[7]=u,e[8]=f):f=e[8],f}let h;return e[9]!==u?(h=S.jsx("div",{className:"pr-9",children:u}),e[9]=u,e[10]=h):h=e[10],h},getInitialLayout:()=>({})},Ea];function Ta(){return{selectedLayout:"vertical",layoutData:{}}}let Yr;({valueAtom:Nt,useActions:Yr}=Dt(Ta,{setLayoutView:(n,e)=>({...n,selectedLayout:e}),setLayoutData:(n,e)=>({...n,selectedLayout:e.layoutView,layoutData:{...n.layoutData,[e.layoutView]:e.data}}),setCurrentLayoutData:(n,e)=>({...n,layoutData:{...n.layoutData,[n.selectedLayout]:e}})})),wn=()=>ze(Nt),kt=()=>Yr(),qo=function(){const n=jt(),{layoutData:e,selectedLayout:t}=wo.get(Nt);if(t==="vertical"||e===void 0)return;const r=e[t],i=qt.find(a=>a.type===t);if(i!==void 0)return{type:t,data:i.serializeLayout(r,ti(n))};ve.error(`Unknown layout type: ${t}`)};let $r;To=["vertical","grid","slides"],$r=["slides"],un=te.memo(n=>{const e=F.c(8),{appConfig:t,mode:r,children:i}=n,{selectedLayout:a,layoutData:c}=wn(),u=ze(rn);if(r==="edit"&&!u)return i;let h;h=a;const f=new URLSearchParams(window.location.search);if(r==="read"&&f.has(dt.viewAs)){const o=f.get(dt.viewAs);$r.includes(o)&&(h=o)}let x;e[0]!==h?(x=qt.find(o=>o.type===h),e[0]=h,e[1]=x):x=e[1];const w=x;if(!w)return i;let s;return e[2]!==t||e[3]!==h||e[4]!==c||e[5]!==r||e[6]!==w?(s=S.jsx(za,{appConfig:t,mode:r,plugin:w,layoutData:c,finalLayout:h}),e[2]=t,e[3]=h,e[4]=c,e[5]=r,e[6]=w,e[7]=s):s=e[7],s}),un.displayName="CellsRenderer";const za=n=>{const e=F.c(18),{appConfig:t,mode:r,plugin:i,layoutData:a,finalLayout:c}=n,u=ni(),{setCurrentLayoutData:h}=kt();let f,x,w,s,o,l;if(e[0]!==t||e[1]!==c||e[2]!==a||e[3]!==r||e[4]!==u||e[5]!==i){const d=ri(u);f=i.Component,x=t,w=r,s=d,o=a[c]||i.getInitialLayout(d),e[0]=t,e[1]=c,e[2]=a,e[3]=r,e[4]=u,e[5]=i,e[6]=f,e[7]=x,e[8]=w,e[9]=s,e[10]=o}else f=e[6],x=e[7],w=e[8],s=e[9],o=e[10];return e[11]!==f||e[12]!==h||e[13]!==x||e[14]!==w||e[15]!==s||e[16]!==o?(l=S.jsx(f,{appConfig:x,mode:w,cells:s,layout:o,setLayout:h}),e[11]=f,e[12]=h,e[13]=x,e[14]=w,e[15]=s,e[16]=o,e[17]=l):l=e[17],l};function La(){const{cellRuntime:n}=wo.get(oi),e=Qt.entries(n).find(([t,r])=>r.status==="running");e&&ai(e[0],"focus")}const Ia=n=>{const e=F.c(22),{connection:t,isRunning:r}=n,{mode:i}=ze(si),a=t.state===Oe.CLOSED,c=t.state===Oe.OPEN;let u;e[0]!==t.canTakeover||e[1]!==a?(u=a&&!t.canTakeover&&S.jsx(qa,{}),e[0]=t.canTakeover,e[1]=a,e[2]=u):u=e[2];const h=i==="read"?"fixed":"absolute";let f,x,w,s,o,l;return e[3]!==h?(f=ee("z-50 top-4 left-4",h),e[3]=h,e[4]=f):f=e[4],e[5]!==c||e[6]!==r?(x=c&&r&&S.jsx(Aa,{}),e[5]=c,e[6]=r,e[7]=x):x=e[7],e[8]!==t.canTakeover||e[9]!==a?(w=a&&!t.canTakeover&&S.jsx(Ha,{}),e[8]=t.canTakeover,e[9]=a,e[10]=w):w=e[10],e[11]!==t.canTakeover||e[12]!==a?(s=a&&t.canTakeover&&S.jsx(Wa,{}),e[11]=t.canTakeover,e[12]=a,e[13]=s):s=e[13],e[14]!==f||e[15]!==x||e[16]!==w||e[17]!==s?(o=S.jsxs("div",{className:f,children:[x,w,s]}),e[14]=f,e[15]=x,e[16]=w,e[17]=s,e[18]=o):o=e[18],e[19]!==u||e[20]!==o?(l=S.jsxs(S.Fragment,{children:[u,o]}),e[19]=u,e[20]=o,e[21]=l):l=e[21],l},Bt="no-print pointer-events-auto hover:cursor-pointer",Ha=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Me,{content:"App disconnected",children:S.jsx("div",{className:Bt,children:S.jsx(Hn,{className:"w-[25px] h-[25px] text-[var(--red-11)]"})})}),n[0]=e):e=n[0],e},Wa=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Me,{content:"Notebook locked",children:S.jsx("div",{className:Bt,children:S.jsx(ho,{className:"w-[25px] h-[25px] text-[var(--blue-11)]"})})}),n[0]=e):e=n[0],e},Aa=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(Me,{content:"Jump to running cell",side:"right",children:S.jsx("div",{className:Bt,"data-testid":"loading-indicator",onClick:La,children:S.jsx(Pn,{className:"running-app-icon",size:30,strokeWidth:1})})}),n[0]=e):e=n[0],e},qa=()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"noise"}),S.jsx("div",{className:"disconnected-gradient"})]}),n[0]=e):e=n[0],e},Ba=hi,Fa=pi,Ga=ii(li),Xr=we.forwardRef((n,e)=>{const t=F.c(9);let r,i,a,c;return t[0]!==n?({className:r,...i}=n,t[0]=n,t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]!==r?(a=ee("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),t[3]=r,t[4]=a):a=t[4],t[5]!==i||t[6]!==e||t[7]!==a?(c=S.jsx(xo,{className:a,...i,ref:e}),t[5]=i,t[6]=e,t[7]=a,t[8]=c):c=t[8],c});Xr.displayName=xo.displayName;const Va=ci("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Kr=we.forwardRef((n,e)=>{const t=F.c(15);let r,i,a,c;t[0]!==n?({side:c,className:i,children:r,...a}=n,t[0]=n,t[1]=r,t[2]=i,t[3]=a,t[4]=c):(r=t[1],i=t[2],a=t[3],c=t[4]);const u=c===void 0?"right":c;let h,f,x,w;return t[5]===Symbol.for("react.memo_cache_sentinel")?(h=S.jsx(Xr,{}),t[5]=h):h=t[5],t[6]!==i||t[7]!==u?(f=ee(Va({side:u}),i),t[6]=i,t[7]=u,t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x=S.jsxs(di,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[S.jsx(fi,{className:"h-4 w-4"}),S.jsx("span",{className:"sr-only",children:"Close"})]}),t[9]=x):x=t[9],t[10]!==r||t[11]!==a||t[12]!==e||t[13]!==f?(w=S.jsx(Ga,{children:S.jsxs(ui,{children:[h,S.jsxs(So,{ref:e,className:f,...a,children:[r,x]})]})}),t[10]=r,t[11]=a,t[12]=e,t[13]=f,t[14]=w):w=t[14],w});Kr.displayName=So.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,i,a,c;return t[0]!==n?({className:r,...i}=n,t[0]=n,t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]!==r?(a=ee("text-lg font-semibold text-foreground",r),t[3]=r,t[4]=a):a=t[4],t[5]!==i||t[6]!==e||t[7]!==a?(c=S.jsx(_o,{ref:e,className:a,...i}),t[5]=i,t[6]=e,t[7]=a,t[8]=c):c=t[8],c}).displayName=_o.displayName,we.forwardRef((n,e)=>{const t=F.c(9);let r,i,a,c;return t[0]!==n?({className:r,...i}=n,t[0]=n,t[1]=r,t[2]=i):(r=t[1],i=t[2]),t[3]!==r?(a=ee("text-sm text-muted-foreground",r),t[3]=r,t[4]=a):a=t[4],t[5]!==i||t[6]!==e||t[7]!==a?(c=S.jsx(jo,{ref:e,className:a,...i}),t[5]=i,t[6]=e,t[7]=a,t[8]=c):c=t[8],c}).displayName=jo.displayName;const Ft=te.memo(()=>{const n=F.c(1);let e;return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=S.jsx(mi,{name:Oo.SIDEBAR}),n[0]=e):e=n[0],e});Ft.displayName="SidebarSlot";const Ua=n=>{const e=F.c(6),{openWidth:t}=n;let r,i,a,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=S.jsx(Fa,{className:"lg:hidden",asChild:!0,children:S.jsx(Te,{variant:"ghost",className:"bg-background",children:S.jsx(mn,{className:"w-5 h-5"})})}),e[0]=r):r=e[0],e[1]!==t?(i={maxWidth:t},e[1]=t,e[2]=i):i=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(a=S.jsx(Ft,{}),e[3]=a):a=e[3],e[4]!==i?(c=S.jsxs(Ba,{children:[r,S.jsx(Kr,{className:"w-full px-3 h-full flex flex-col overflow-y-auto",style:i,side:"left",children:a})]}),e[4]=i,e[5]=c):c=e[5],c},Ya=n=>{const e=F.c(7),{isOpen:t,toggle:r}=n,i=t?"rotate-0":"rotate-180";let a,c,u;return e[0]!==i?(a=ee("h-5 w-5 transition-transform ease-in-out duration-700",i),e[0]=i,e[1]=a):a=e[1],e[2]!==a?(c=S.jsx(gi,{className:a}),e[2]=a,e[3]=c):c=e[3],e[4]!==c||e[5]!==r?(u=S.jsx("div",{className:"invisible lg:visible absolute top-[12px] right-[16px] z-20",children:S.jsx(Te,{onClick:r,className:"w-10 h-8",variant:"ghost",size:"icon",children:c})}),e[4]=c,e[5]=r,e[6]=u):u=e[6],u},$a=n=>{const e=F.c(11),{isOpen:t,toggle:r,width:i}=n,a=t?i:yi;let c,u,h,f,x;return e[0]!==a?(c={width:a},e[0]=a,e[1]=c):c=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(u=ee("app-sidebar auto-collapse-nav","top-0 left-0 z-20 h-full hidden lg:block relative transition-[width] ease-in-out duration-300"),e[2]=u):u=e[2],e[3]!==t||e[4]!==r?(h=S.jsx(Ya,{isOpen:t,toggle:r}),e[3]=t,e[4]=r,e[5]=h):h=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx("div",{className:"relative h-full flex flex-col px-3 pb-16 pt-14 overflow-y-auto shadow-sm border-l",children:S.jsx(Ft,{})}),e[6]=f):f=e[6],e[7]!==t||e[8]!==c||e[9]!==h?(x=S.jsxs("aside",{"data-expanded":t,style:c,className:u,children:[h,f]}),e[7]=t,e[8]=c,e[9]=h,e[10]=x):x=e[10],x},Xa=n=>{const e=F.c(15),{children:t}=n,[r,i]=Do(bi),{isOpen:a,width:c}=r;if(vi(Oo.SIDEBAR).length===0)return t;let u;e[0]!==c?(u=wi(c),e[0]=c,e[1]=u):u=e[1];const h=u;let f,x,w,s;return e[2]!==i||e[3]!==a?(f=()=>i({type:"toggle",isOpen:!a}),e[2]=i,e[3]=a,e[4]=f):f=e[4],e[5]!==a||e[6]!==h||e[7]!==f?(x=S.jsx($a,{isOpen:a,width:h,toggle:f}),e[5]=a,e[6]=h,e[7]=f,e[8]=x):x=e[8],e[9]!==h?(w=S.jsx("div",{className:"absolute top-3 left-4 flex items-center z-50",children:S.jsx(Ua,{openWidth:h})}),e[9]=h,e[10]=w):w=e[10],e[11]!==t||e[12]!==x||e[13]!==w?(s=S.jsxs("div",{className:"inset-0 absolute flex",children:[x,w,t]}),e[11]=t,e[12]=x,e[13]=w,e[14]=s):s=e[14],s},Ka=n=>{const e=F.c(10),{title:t}=n,[r,i]=te.useState(t),[a,c]=te.useState(!0);let u,h,f;e[0]!==r||e[1]!==t?(u=()=>{if(t!==r){c(!1);const o=setTimeout(()=>{i(t),c(!0)},300);return()=>clearTimeout(o)}},h=[t,r],e[0]=r,e[1]=t,e[2]=u,e[3]=h):(u=e[2],h=e[3]),te.useEffect(u,h),e[4]===Symbol.for("react.memo_cache_sentinel")?(f=S.jsx(xi,{className:"size-20 animate-spin text-primary","data-testid":"large-spinner",strokeWidth:1}),e[4]=f):f=e[4];const x=a?"opacity-100":"opacity-0";let w,s;return e[5]!==x?(w=ee("mt-2 text-muted-foreground font-semibold text-lg transition-opacity duration-300",x),e[5]=x,e[6]=w):w=e[6],e[7]!==r||e[8]!==w?(s=S.jsxs("div",{className:"flex flex-col h-full flex-1 items-center justify-center p-4",children:[f,S.jsx("div",{className:w,children:r})]}),e[7]=r,e[8]=w,e[9]=s):s=e[9],s},Qa=n=>{const e=F.c(2),{children:t}=n;if(!an())return t;let r;return e[0]!==t?(r=S.jsx(Za,{children:t}),e[0]=t,e[1]=r):r=e[1],r},Za=n=>{const e=F.c(3),{children:t}=n;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[0]=r):r=e[0];const{loading:i,error:a}=Si(Ja,r),c=ze(_i);if(i){let u;return e[1]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Qr,{}),e[1]=u):u=e[1],u}if(!c&&bo==="read"&&(ji(dt.showCode,"false")||!vo())){let u;return e[2]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx(Qr,{}),e[2]=u):u=e[2],u}if(a)throw a;return t},Qr=n=>{const e=F.c(2),t=ze(Oi);let r;return e[0]!==t?(r=S.jsx(Ka,{title:t}),e[0]=t,e[1]=r):r=e[1],r};async function Ja(){return await Eo.INSTANCE.initialized.promise,!0}const es={idle:"./favicon.ico",success:"./circle-check.ico",running:"./circle-play.ico",error:"./circle-x.ico"},Gt=new Map;async function ot(n){const e=Gt.get(n);if(e)return e;const t=await fetch(es[n]),r=await t.blob(),i=URL.createObjectURL(r);return Gt.set(n,i),i}const ts=n=>{const e=F.c(15),{isRunning:t}=n,r=Di();let i,a,c,u;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=document.querySelector("link[rel~='icon']"),i||(i=document.createElement("link"),i.rel="icon",document.getElementsByTagName("head")[0].append(i)),e[0]=i):i=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(a=[],e[1]=a):a=e[1],te.useEffect(os,a),e[2]!==r||e[3]!==t?(c=()=>{!t&&i.href.includes("favicon")||(async()=>{let s;if(s=t?"running":r.length===0?"success":"error",i.href=await ot(s),!document.hasFocus())return;const o=setTimeout(async()=>{i.href=await ot("idle")},3e3)})()},e[2]=r,e[3]=t,e[4]=c):c=e[4],e[5]!==r||e[6]!==t?(u=[t,r,i],e[5]=r,e[6]=t,e[7]=u):u=e[7],te.useEffect(c,u);const h=Ei(t)??t;let f,x,w;return e[8]!==r||e[9]!==t||e[10]!==h?(f=()=>{h&&!t&&function(s){if(document.visibilityState==="visible")return;const o=async()=>{s===0?new Notification("Execution completed",{body:"Your notebook run completed successfully.",icon:await ot("success")}):new Notification("Execution failed",{body:`Your notebook run encountered ${s} error(s).`,icon:await ot("error")})};"Notification"in window&&Notification.permission!=="denied"&&(Notification.permission==="granted"?o():Notification.permission==="default"&&Notification.requestPermission().then(l=>{l==="granted"&&o()}))}(r.length)},x=[r,h,t],e[8]=r,e[9]=t,e[10]=h,e[11]=f,e[12]=x):(f=e[11],x=e[12]),te.useEffect(f,x),e[13]!==t?(w=async s=>{t||(i.href=await ot("idle"))},e[13]=t,e[14]=w):w=e[14],Ci(window,"focus",w),null};function ns(n){return URL.revokeObjectURL(n)}function rs(){Gt.forEach(ns)}function os(){return rs}let Zr;Mo=n=>{const e=F.c(18),{width:t,connection:r,isRunning:i,children:a}=n,c=r.state;let u,h;e[0]!==i?(u=S.jsx(ts,{isRunning:i}),e[0]=i,e[1]=u):u=e[1],e[2]!==r||e[3]!==i?(h=S.jsx(Ia,{connection:r,isRunning:i}),e[2]=r,e[3]=i,e[4]=h):h=e[4];const f=c===Oe.CLOSED&&"disconnected",x=t==="full"&&"config-width-full",w=t==="columns"?"overflow-x-auto":"overflow-x-hidden";let s,o,l;return e[5]!==f||e[6]!==x||e[7]!==w?(s=ee("mathjax_ignore",f,"bg-background w-full h-full text-textColor","flex flex-col overflow-y-auto",x,w,"print:height-fit"),e[5]=f,e[6]=x,e[7]=w,e[8]=s):s=e[8],e[9]!==a||e[10]!==c||e[11]!==s||e[12]!==t?(o=S.jsx(Qa,{children:S.jsx(Xa,{children:S.jsx("div",{id:"App","data-config-width":t,"data-connection-state":c,className:s,children:a})})}),e[9]=a,e[10]=c,e[11]=s,e[12]=t,e[13]=o):o=e[13],e[14]!==u||e[15]!==h||e[16]!==o?(l=S.jsxs(S.Fragment,{children:[u,h,o]}),e[14]=u,e[15]=h,e[16]=o,e[17]=l):l=e[17],l},Zr=n=>{const e=F.c(10),{reason:t,canTakeover:r}=n,i=r!==void 0&&r,a=as;if(i){let u,h,f,x;return e[0]===Symbol.for("react.memo_cache_sentinel")?(u=S.jsx("div",{className:"flex justify-between",children:S.jsx("span",{className:"font-bold text-xl flex items-center mb-2",children:"Notebook already connected"})}),e[0]=u):u=e[0],e[1]!==t?(h=S.jsx("span",{children:t}),e[1]=t,e[2]=h):h=e[2],e[3]!==i?(f=i&&S.jsxs(Te,{onClick:a,variant:"outline","data-testid":"takeover-button",className:"flex-shrink-0",children:[S.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Take over session"]}),e[3]=i,e[4]=f):f=e[4],e[5]!==h||e[6]!==f?(x=S.jsx("div",{className:"flex justify-center",children:S.jsxs(ki,{kind:"info",className:"mt-10 flex flex-col rounded p-3 max-w-[800px] mx-4",children:[u,S.jsxs("div",{className:"flex justify-between items-end text-base gap-20",children:[h,f]})]})}),e[5]=h,e[6]=f,e[7]=x):x=e[7],x}let c;return e[8]!==t?(c=S.jsx("div",{className:"font-mono text-center text-base text-[var(--red-11)]",children:S.jsx("p",{children:t})}),e[8]=t,e[9]=c):c=e[9],c};async function as(){try{const n=new URL(window.location.href).searchParams;await Ni.post(`/kernel/takeover?${n.toString()}`,{}),Co()}catch(n){sn({title:"Failed to take over session",description:ko(n),variant:"danger"})}}Io=n=>{const e=F.c(8),{connection:t,className:r,children:i}=n;let a,c;return e[0]!==t.canTakeover||e[1]!==t.reason||e[2]!==t.state?(a=t.state===Oe.CLOSED&&S.jsx(Zr,{reason:t.reason,canTakeover:t.canTakeover}),e[0]=t.canTakeover,e[1]=t.reason,e[2]=t.state,e[3]=a):a=e[3],e[4]!==i||e[5]!==r||e[6]!==a?(c=S.jsxs("div",{className:r,children:[i,a]}),e[4]=i,e[5]=r,e[6]=a,e[7]=c):c=e[7],c},globalThis.EventTarget&&globalThis.Event||console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var Jr,eo=class extends Event{constructor(e,t){super("error",t);ne(this,"message");ne(this,"error");this.message=e.message,this.error=e}},to=class extends Event{constructor(e=1e3,t="",r){super("close",r);ne(this,"code");ne(this,"reason");ne(this,"wasClean",!0);this.code=e,this.reason=t}},no=eo,ss=to;let at,We,Vt;at=typeof process<"u"&&((Jr=process.versions)==null?void 0:Jr.node)!==void 0&&typeof document>"u"?function(n){return"data"in n?new MessageEvent(n.type,n):"code"in n||"reason"in n?new to(n.code||1999,n.reason||"unknown reason",n):"error"in n?new eo(n.error,n):new Event(n.type,n)}:function(n){return new n.constructor(n.type,n)},We={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+4e3*Math.random(),minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:Number.POSITIVE_INFINITY,maxEnqueuedMessages:Number.POSITIVE_INFINITY},Vt=!1,_n=class Ge extends EventTarget{constructor(t,r,i={}){super();ne(this,"_ws");ne(this,"_retryCount",-1);ne(this,"_uptimeTimeout");ne(this,"_connectTimeout");ne(this,"_shouldReconnect",!0);ne(this,"_connectLock",!1);ne(this,"_binaryType","blob");ne(this,"_closeCalled",!1);ne(this,"_messageQueue",[]);ne(this,"_debugLogger",console.log.bind(console));ne(this,"_url");ne(this,"_protocols");ne(this,"_options");ne(this,"onclose",null);ne(this,"onerror",null);ne(this,"onmessage",null);ne(this,"onopen",null);ne(this,"_handleOpen",t=>{this._debug("open event");const{minUptime:r=We.minUptime}=this._options;clearTimeout(this._connectTimeout),this._uptimeTimeout=setTimeout(()=>this._acceptOpen(),r),function(i,a){if(!i)throw new Error(a)}(this._ws,"WebSocket is not defined"),this._ws.binaryType=this._binaryType,this._messageQueue.forEach(i=>{var a;return(a=this._ws)==null?void 0:a.send(i)}),this._messageQueue=[],this.onopen&&this.onopen(t),this.dispatchEvent(at(t))});ne(this,"_handleMessage",t=>{this._debug("message event"),this.onmessage&&this.onmessage(t),this.dispatchEvent(at(t))});ne(this,"_handleError",t=>{this._debug("error event",t.message),this._disconnect(void 0,t.message==="TIMEOUT"?"timeout":void 0),this.onerror&&this.onerror(t),this._debug("exec error listeners"),this.dispatchEvent(at(t)),this._connect()});ne(this,"_handleClose",t=>{this._debug("close event"),this._clearTimeouts(),this._shouldReconnect&&this._connect(),this.onclose&&this.onclose(t),this.dispatchEvent(at(t))});this._url=t,this._protocols=r,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._options.debugLogger&&(this._debugLogger=this._options.debugLogger),this._connect()}static get CONNECTING(){return 0}static get OPEN(){return 1}static get CLOSING(){return 2}static get CLOSED(){return 3}get CONNECTING(){return Ge.CONNECTING}get OPEN(){return Ge.OPEN}get CLOSING(){return Ge.CLOSING}get CLOSED(){return Ge.CLOSED}get binaryType(){return this._ws?this._ws.binaryType:this._binaryType}set binaryType(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)}get retryCount(){return Math.max(this._retryCount,0)}get bufferedAmount(){return this._messageQueue.reduce((t,r)=>(typeof r=="string"?t+=r.length:r instanceof Blob?t+=r.size:t+=r.byteLength,t),0)+(this._ws?this._ws.bufferedAmount:0)}get extensions(){return this._ws?this._ws.extensions:""}get protocol(){return this._ws?this._ws.protocol:""}get readyState(){return this._ws?this._ws.readyState:this._options.startClosed?Ge.CLOSED:Ge.CONNECTING}get url(){return this._ws?this._ws.url:""}get shouldReconnect(){return this._shouldReconnect}close(t=1e3,r){this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),this._ws?this._ws.readyState!==this.CLOSED?this._ws.close(t,r):this._debug("close: already closed"):this._debug("close enqueued: no ws instance")}reconnect(t,r){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,this._ws&&this._ws.readyState!==this.CLOSED?(this._disconnect(t,r),this._connect()):this._connect()}send(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{const{maxEnqueuedMessages:r=We.maxEnqueuedMessages}=this._options;this._messageQueue.length<r&&(this._debug("enqueue",t),this._messageQueue.push(t))}}_debug(...t){this._options.debug&&this._debugLogger("RWS>",...t)}_getNextDelay(){const{reconnectionDelayGrowFactor:t=We.reconnectionDelayGrowFactor,minReconnectionDelay:r=We.minReconnectionDelay,maxReconnectionDelay:i=We.maxReconnectionDelay}=this._options;let a=0;return this._retryCount>0&&(a=r*t**(this._retryCount-1),a>i&&(a=i)),this._debug("next delay",a),a}_wait(){return new Promise(t=>{setTimeout(t,this._getNextDelay())})}_getNextProtocols(t){if(!t)return Promise.resolve(null);if(typeof t=="string"||Array.isArray(t))return Promise.resolve(t);if(typeof t=="function"){const r=t();if(!r)return Promise.resolve(null);if(typeof r=="string"||Array.isArray(r))return Promise.resolve(r);if(r.then)return r}throw Error("Invalid protocols")}_getNextUrl(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){const r=t();if(typeof r=="string")return Promise.resolve(r);if(r.then)return r}throw Error("Invalid URL")}_connect(){if(this._connectLock||!this._shouldReconnect)return;this._connectLock=!0;const{maxRetries:t=We.maxRetries,connectionTimeout:r=We.connectionTimeout}=this._options;this._retryCount>=t?this._debug("max retries reached",this._retryCount,">=",t):(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),this._wait().then(()=>Promise.all([this._getNextUrl(this._url),this._getNextProtocols(this._protocols||null)])).then(([i,a])=>{if(this._closeCalled)return void(this._connectLock=!1);this._options.WebSocket||typeof WebSocket<"u"||Vt||(console.error(`\u203C\uFE0F No WebSocket implementation available. You should define options.WebSocket. 

For example, if you're using node.js, run \`npm install ws\`, and then in your code:

import PartySocket from 'partysocket';
import WS from 'ws';

const partysocket = new PartySocket({
  host: "127.0.0.1:1999",
  room: "test-room",
  WebSocket: WS
});

`),Vt=!0);const c=this._options.WebSocket||WebSocket;this._debug("connect",{url:i,protocols:a}),this._ws=a?new c(i,a):new c(i),this._ws.binaryType=this._binaryType,this._connectLock=!1,this._addListeners(),this._connectTimeout=setTimeout(()=>this._handleTimeout(),r)}).catch(i=>{this._connectLock=!1,this._handleError(new no(Error(i.message),this))}))}_handleTimeout(){this._debug("timeout event"),this._handleError(new no(Error("TIMEOUT"),this))}_disconnect(t=1e3,r){if(this._clearTimeouts(),this._ws){this._removeListeners();try{this._ws.readyState===this.OPEN&&this._ws.close(t,r),this._handleClose(new ss(t,r,this))}catch{}}}_acceptOpen(){this._debug("accept open"),this._retryCount=0}_removeListeners(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))}_addListeners(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))}_clearTimeouts(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)}};class is{constructor(){this.CONNECTING=WebSocket.CONNECTING,this.OPEN=WebSocket.OPEN,this.CLOSING=WebSocket.CLOSING,this.CLOSED=WebSocket.CLOSED,this.binaryType="blob",this.bufferedAmount=0,this.extensions="",this.protocol="",this.url="",this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this.readyState=WebSocket.OPEN,this.retryCount=0,this.shouldReconnect=!1}addEventListener(e,t,r){}removeEventListener(e,t,r){}dispatchEvent(e){return!1}reconnect(e,t){}send(e){}close(){}}let ro,oo;dn=new ln("sql-table-preview",async(n,e)=>{await Mi({requestId:n,...e})}),cn=new ln("sql-table-list-preview",async(n,e)=>{await Pi({requestId:n,...e})}),{valueAtom:ro,useActions:oo}=Dt(()=>({banners:[]}),{addBanner:(n,e)=>({...n,banners:[...n.banners,{...e,id:No()}]}),removeBanner:(n,e)=>({...n,banners:n.banners.filter(t=>t.id!==e)}),clearBanners:n=>({...n,banners:[]})}),Bo=()=>ze(ro),On=function(){return oo()},Vo=function(n){return n.kind==="missing"},Uo=function(n){return n.kind==="installing"};let ao,so;({valueAtom:ao,useActions:so}=Dt(()=>({packageAlert:null}),{addPackageAlert:(n,e)=>({...n,packageAlert:{id:No(),...e}}),clearPackageAlert:(n,e)=>n.packageAlert!==null&&n.packageAlert.id===e?{...n,packageAlert:null}:n})),Fo=()=>ze(ao),Dn=function(){return so()};function ls(n,e){const{autoInstantiate:t,setCells:r,setLayoutData:i,onError:a,setAppConfig:c,setCapabilities:u}=e,{codes:h,names:f,layout:x,configs:w,resumed:s,ui_values:o,cell_ids:l,last_executed_code:d,last_execution_time:y={},app_config:p,capabilities:v}=n,j=d||{},D=y||{},k=h.map((P,E)=>{const N=l[E];let C=!1;const z=j[N];return z&&(C=z!==P),Ti({id:N,code:P,edited:C,name:f[E],lastCodeRun:j[N]??null,lastExecutionTime:D[N]??null,config:w[E]})}),R={selectedLayout:"vertical",layoutData:{}};if(x){const P=x.type,E=function(N,C,z){const g=qt.find(b=>b.type===N);if(g===void 0)throw new Error(`Unknown layout type: ${N}`);return g.deserializeLayout(C,z)}(P,x.data,k);R.selectedLayout=P,R.layoutData[P]=E,i({layoutView:P,data:E})}r(k,R);const T=zi.safeParse(p);if(T.success&&c(T.data),u(v),s){for(const[P,E]of Qt.entries(o||{}))lt.set(P,E);return}const M=[],_=[];lt.entries.forEach((P,E)=>{M.push(E),_.push(P.value)}),Li({objectIds:M,values:_,autoRun:t}).catch(P=>{a(new Error("Failed to instantiate",{cause:P}))})}const cs=n=>{const e=new URL(window.location.href);e.searchParams.append(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},us=n=>{const e=new URL(window.location.href);Array.isArray(n.value)?(e.searchParams.delete(n.key),n.value.forEach(t=>e.searchParams.append(n.key,t))):e.searchParams.set(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},ds=n=>{const e=new URL(window.location.href);n.value==null?e.searchParams.delete(n.key):e.searchParams.delete(n.key,n.value),window.history.pushState({},"",`${e.pathname}${e.search}`)},fs=()=>{const n=new URL(window.location.href);n.search="",window.history.pushState({},"",`${n.pathname}${n.search}`)};let io;({valueAtom:Go,useActions:vn}=Dt(function(){return{runIds:[],runMap:new Map}},{addCellOperation:(n,e)=>{const{cellOperation:t,code:r}=e,i=t.run_id;if(!i)return n;const a=n.runMap.get(i);if(!a&&function(w){return w.startsWith("mo.md(")&&io.test(w)}(r))return n;const c=t.output&&(t.output.channel==="marimo-error"||t.output.channel==="stderr");let u=c?"error":t.status==="queued"?"queued":t.status==="running"?"running":"success";if(!a){const w={runId:i,cellRuns:new Map([[t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp}]]),runStartTime:t.timestamp},s=[i,...n.runIds],o=new Map(n.runMap);if(s.length>50){const l=s.pop();l&&o.delete(l)}return o.set(i,w),{runIds:s,runMap:o}}const h=new Map(a.cellRuns),f=h.get(t.cell_id);if(f&&!c&&t.status==="queued")return n;if(f){u=f.status==="error"||c?"error":u;const w=t.status==="running"?t.timestamp:f.startTime,s=u==="success"||u==="error"?t.timestamp-f.startTime:void 0;h.set(t.cell_id,{...f,startTime:w,elapsedTime:s,status:u})}else h.set(t.cell_id,{cellId:t.cell_id,code:r.slice(0,200),elapsedTime:0,status:u,startTime:t.timestamp});const x=new Map(n.runMap);return x.set(i,{...a,cellRuns:h}),{...n,runMap:x}},clearRuns:n=>({...n,runIds:[],runMap:new Map}),removeRun:(n,e)=>{const t=n.runIds.filter(i=>i!==e),r=new Map(n.runMap);return r.delete(e),{...n,runIds:t,runMap:r}}})),io=/mo\.md\(\s*r?('''|""")/,bn=new ln("secrets-result",async(n,e)=>{await Ii({requestId:n,...e})}),Yo=function(n){const e=F.c(25),t=te.useRef(!0),{autoInstantiate:r,sessionId:i,setCells:a}=n,{showBoundary:c}=Hi(),{handleCellMessage:u,setCellCodes:h,setCellIds:f}=go(),{addCellOperation:x}=vn(),w=Wi(),{setVariables:s,setMetadata:o}=Ai(),{addColumnPreview:l}=Ro(),{addDatasets:d,filterDatasetsFromVariables:y}=Ro(),{addDataSourceConnection:p,filterDataSourcesFromVariables:v}=qi(),{setLayoutData:j}=kt(),[D,k]=Do(Bi),{addBanner:R}=On(),{addPackageAlert:T}=Dn(),M=Po(rn),_=Po(Fi);let P;e[0]!==R||e[1]!==x||e[2]!==l||e[3]!==p||e[4]!==d||e[5]!==T||e[6]!==r||e[7]!==v||e[8]!==y||e[9]!==u||e[10]!==w||e[11]!==_||e[12]!==h||e[13]!==f||e[14]!==a||e[15]!==M||e[16]!==j||e[17]!==o||e[18]!==s||e[19]!==c?(P=b=>{const m=Vi(b.data);switch(m.op){case"reload":return void Co();case"kernel-ready":return ls(m.data,{autoInstantiate:r,setCells:a,setLayoutData:j,setAppConfig:w,setCapabilities:_,onError:c}),void M(m.data.kiosk);case"completed-run":case"interrupted":case"reconnected":return;case"send-ui-element-message":{const O=m.data.model_id,L=m.data.ui_element,I=m.data.message,H=m.data.buffers??[];return O&&Qi(I)&&Zi(O,I,H,Ji),void(L&&lt.broadcastMessage(L,m.data.message,H))}case"remove-ui-elements":return void function(O){const L=O.cell_id;lt.removeElementsByCell(L),Xe.INSTANCE.removeForCellId(L)}(m.data);case"completion-result":return void Ki.resolve(m.data.completion_id,m.data);case"function-call-result":return void Xi.resolve(m.data.function_call_id,m.data);case"cell-op":{(function(L,I){I(L),Xe.INSTANCE.track(L)})(m.data,u);const O=jt().cellData[m.data.cell_id];return O?void x({cellOperation:m.data,code:O.code}):void 0}case"variables":return s(m.data.variables.map(ys)),y(m.data.variables.map(gs)),void v(m.data.variables.map(ms));case"variable-values":return void o(m.data.variables.map(hs));case"alert":return void sn({title:m.data.title,description:$i({html:m.data.description}),variant:m.data.variant});case"banner":return void R(m.data);case"missing-package-alert":return void T({...m.data,kind:"missing"});case"installing-package-alert":return void T({...m.data,kind:"installing"});case"query-params-append":return void cs(m.data);case"query-params-set":return void us(m.data);case"query-params-delete":return void ds(m.data);case"query-params-clear":return void fs();case"datasets":return void d(m.data);case"data-column-preview":return void l(m.data);case"sql-table-preview":return void dn.resolve(m.data.request_id,m.data);case"sql-table-list-preview":return void cn.resolve(m.data.request_id,m.data);case"secret-keys-result":return void bn.resolve(m.data.request_id,m.data);case"data-source-connections":return void p({connections:m.data.connections.map(ps)});case"focus-cell":return void Yi(m.data.cell_id);case"update-cell-codes":return void h({codes:m.data.codes,ids:m.data.cell_ids,codeIsStale:m.data.code_is_stale});case"update-cell-ids":return void f({cellIds:m.data.cell_ids});default:Ui(m)}},e[0]=R,e[1]=x,e[2]=l,e[3]=p,e[4]=d,e[5]=T,e[6]=r,e[7]=v,e[8]=y,e[9]=u,e[10]=w,e[11]=_,e[12]=h,e[13]=f,e[14]=a,e[15]=M,e[16]=j,e[17]=o,e[18]=s,e[19]=c,e[20]=P):P=e[20];const E=P,N=(b,m)=>{t.current&&(t.current=!1,z.reconnect(b,m))};let C;e[21]!==E?(C=b=>{try{E(b)}catch(m){const O=m;ve.error("Failed to handle message",O),sn({title:"Failed to handle message",description:ko(O),variant:"danger"})}},e[21]=E,e[22]=C):C=e[22];const z=function(b){const{onOpen:m,onMessage:O,onClose:L,onError:I,...H}=b,[A]=te.useState(()=>{const G=an()?new Ri(Eo.INSTANCE):b.static?new is:new _n(H.url,void 0,{maxRetries:10,debug:!1,startClosed:!0,connectionTimeout:1e4});return m&&G.addEventListener("open",m),L&&G.addEventListener("close",L),I&&G.addEventListener("error",I),O&&G.addEventListener("message",O),G});return te.useEffect(()=>(A.readyState===WebSocket.CLOSED&&A.reconnect(),()=>{ve.warn("useWebSocket is unmounting. This likely means there is a bug."),A.close(),m&&A.removeEventListener("open",m),L&&A.removeEventListener("close",L),I&&A.removeEventListener("error",I),O&&A.removeEventListener("message",O)}),[A]),A}({static:on(),url:Gi(i),onOpen:()=>{t.current=!0,k({state:Oe.OPEN})},onMessage:C,onClose:b=>{switch(ve.warn("WebSocket closed",b.code,b.reason),b.reason){case"MARIMO_ALREADY_CONNECTED":return k({state:Oe.CLOSED,code:Et.ALREADY_RUNNING,reason:"another browser tab is already connected to the kernel",canTakeover:!0}),void z.close();case"MARIMO_WRONG_KERNEL_ID":case"MARIMO_NO_FILE_KEY":case"MARIMO_NO_SESSION_ID":case"MARIMO_NO_SESSION":case"MARIMO_SHUTDOWN":return k({state:Oe.CLOSED,code:Et.KERNEL_DISCONNECTED,reason:"kernel not found"}),void z.close();case"MARIMO_MALFORMED_QUERY":return void k({state:Oe.CLOSED,code:Et.MALFORMED_QUERY,reason:"the kernel did not recognize a request; please file a bug with marimo"});default:k({state:Oe.CONNECTING}),N(b.code,b.reason)}},onError:b=>{ve.warn("WebSocket error",b),k({state:Oe.CLOSED,code:Et.KERNEL_DISCONNECTED,reason:"kernel not found"}),N()}});let g;return e[23]!==D?(g={connection:D},e[23]=D,e[24]=g):g=e[24],g};function ps(n){return{...n,name:n.name}}function hs(n){return{name:n.name,dataType:n.datatype,value:n.value}}function ms(n){return n.name}function gs(n){return n.name}function ys(n){return{name:n.name,declaredBy:n.declared_by,usedBy:n.used_by}}ce.record(ce.tuple([ce.number(),ce.number()]));let Ut=null;Ho=function(n){return{getItem:e=>Ut||(Ut??null),setItem(e,t){Ut=t||null}}},Lo=n=>{const e=F.c(2),{children:t}=n;let r;return e[0]!==t?(r=S.jsx("div",{className:"flex flex-col flex-1 overflow-hidden absolute inset-0 print:relative",children:t}),e[0]=t,e[1]=r):r=e[1],r}});export{Mo as A,cn as B,un as C,dn as D,fn as E,pn as F,hn as I,To as L,mn as M,zo as N,gn as O,Lo as P,yn as R,bn as S,Ct as T,Xe as V,nl as __tla,Io as a,vn as b,Ho as c,wn as d,kt as e,xn as f,Wo as g,Ao as h,Sn as i,qo as j,_n as k,Nt as l,jn as m,Bo as n,On as o,Fo as p,Dn as q,Go as r,Vo as s,Uo as t,Yo as u,En as v,Cn as w,kn as x,Nn as y,Rn as z};
