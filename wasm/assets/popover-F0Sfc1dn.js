import{s as R}from"./chunk-DZLz74EQ.js";import{t as L}from"./react-BcIddLXZ.js";import{t as Q}from"./compiler-runtime-Cr9loedd.js";import{o as D,r as V}from"./useEventListener-D1FLsfmf.js";import{t as W}from"./jsx-runtime-mwDPpfh_.js";import{t as X}from"./cn-ZXtYmczU.js";import{C as Y,a as ee,c as oe,d as re,g as E,i as te,l as ne,o as ae,p as se,r as ie,s as le,t as de,u as pe,v as N,x as C,y as ue}from"./Combination-BjaZc6gK.js";import{a as ce,c as k,i as I,o as fe,s as ve}from"./dist-o-4-WxUj.js";var d=R(L(),1),l=R(W(),1),_="Popover",[M,Ue]=Y(_,[k]),O=k(),[he,f]=M(_),K=o=>{let{__scopePopover:i,children:e,open:n,defaultOpen:r,onOpenChange:t,modal:a=!1}=o,s=O(i),p=d.useRef(null),[v,c]=d.useState(!1),[m,u]=ue({prop:n,defaultProp:r??!1,onChange:t,caller:_});return(0,l.jsx)(ve,{...s,children:(0,l.jsx)(he,{scope:i,contentId:re(),triggerRef:p,open:m,onOpenChange:u,onOpenToggle:d.useCallback(()=>u(h=>!h),[u]),hasCustomAnchor:v,onCustomAnchorAdd:d.useCallback(()=>c(!0),[]),onCustomAnchorRemove:d.useCallback(()=>c(!1),[]),modal:a,children:e})})};K.displayName=_;var T="PopoverAnchor",S=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=f(T,e),t=O(e),{onCustomAnchorAdd:a,onCustomAnchorRemove:s}=r;return d.useEffect(()=>(a(),()=>s()),[a,s]),(0,l.jsx)(I,{...t,...n,ref:i})});S.displayName=T;var z="PopoverTrigger",H=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=f(z,e),t=O(e),a=D(i,r.triggerRef),s=(0,l.jsx)(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":B(r.open),...n,ref:a,onClick:C(o.onClick,r.onOpenToggle)});return r.hasCustomAnchor?s:(0,l.jsx)(I,{asChild:!0,...t,children:s})});H.displayName=z;var A="PopoverPortal",[me,ge]=M(A,{forceMount:void 0}),U=o=>{let{__scopePopover:i,forceMount:e,children:n,container:r}=o,t=f(A,i);return(0,l.jsx)(me,{scope:i,forceMount:e,children:(0,l.jsx)(N,{present:e||t.open,children:(0,l.jsx)(pe,{asChild:!0,container:r,children:n})})})};U.displayName=A;var P="PopoverContent",Z=d.forwardRef((o,i)=>{let e=ge(P,o.__scopePopover),{forceMount:n=e.forceMount,...r}=o,t=f(P,o.__scopePopover);return(0,l.jsx)(N,{present:n||t.open,children:t.modal?(0,l.jsx)(Pe,{...r,ref:i}):(0,l.jsx)(Ce,{...r,ref:i})})});Z.displayName=P;var xe=V("PopoverContent.RemoveScroll"),Pe=d.forwardRef((o,i)=>{let e=f(P,o.__scopePopover),n=d.useRef(null),r=D(i,n),t=d.useRef(!1);return d.useEffect(()=>{let a=n.current;if(a)return ie(a)},[]),(0,l.jsx)(de,{as:xe,allowPinchZoom:!0,children:(0,l.jsx)($,{...o,ref:r,trapFocus:e.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:C(o.onCloseAutoFocus,a=>{var s;a.preventDefault(),t.current||((s=e.triggerRef.current)==null||s.focus())}),onPointerDownOutside:C(o.onPointerDownOutside,a=>{let s=a.detail.originalEvent,p=s.button===0&&s.ctrlKey===!0;t.current=s.button===2||p},{checkForDefaultPrevented:!1}),onFocusOutside:C(o.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ce=d.forwardRef((o,i)=>{let e=f(P,o.__scopePopover),n=d.useRef(!1),r=d.useRef(!1);return(0,l.jsx)($,{...o,ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,s;(a=o.onCloseAutoFocus)==null||a.call(o,t),t.defaultPrevented||(n.current||((s=e.triggerRef.current)==null||s.focus()),t.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:t=>{var s,p;(s=o.onInteractOutside)==null||s.call(o,t),t.defaultPrevented||(n.current=!0,t.detail.originalEvent.type==="pointerdown"&&(r.current=!0));let a=t.target;(p=e.triggerRef.current)!=null&&p.contains(a)&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&r.current&&t.preventDefault()}})}),$=d.forwardRef((o,i)=>{let{__scopePopover:e,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:t,disableOutsidePointerEvents:a,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:c,...m}=o,u=f(P,e),h=O(e);return ee(),(0,l.jsx)(te,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:t,children:(0,l.jsx)(se,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:c,onEscapeKeyDown:s,onPointerDownOutside:p,onFocusOutside:v,onDismiss:()=>u.onOpenChange(!1),children:(0,l.jsx)(fe,{"data-state":B(u.open),role:"dialog",id:u.contentId,...h,...m,ref:i,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),q="PopoverClose",F=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=f(q,e);return(0,l.jsx)(E.button,{type:"button",...n,ref:i,onClick:C(o.onClick,()=>r.onOpenChange(!1))})});F.displayName=q;var Oe="PopoverArrow",we=d.forwardRef((o,i)=>{let{__scopePopover:e,...n}=o,r=O(e);return(0,l.jsx)(ce,{...r,...n,ref:i})});we.displayName=Oe;function B(o){return o?"open":"closed"}var be=K,ye=H,_e=U,G=Z,je=F,Re=R(Q(),1),Ae=be,Fe=ye,De=le(_e),Ee=je,Ne=oe(G),J=d.forwardRef((o,i)=>{let e=(0,Re.c)(22),n,r,t,a,s,p;e[0]===o?(n=e[1],r=e[2],t=e[3],a=e[4],s=e[5],p=e[6]):({className:n,align:t,sideOffset:a,portal:s,scrollable:p,...r}=o,e[0]=o,e[1]=n,e[2]=r,e[3]=t,e[4]=a,e[5]=s,e[6]=p);let v=t===void 0?"center":t,c=a===void 0?4:a,m=s===void 0?!0:s,u=p===void 0?!1:p,h=u&&"overflow-auto",g;e[7]!==n||e[8]!==h?(g=X("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n,h),e[7]=n,e[8]=h,e[9]=g):g=e[9];let j=u?`calc(var(--radix-popover-content-available-height) - ${ae}px)`:void 0,x;e[10]!==r.style||e[11]!==j?(x={...r.style,maxHeight:j},e[10]=r.style,e[11]=j,e[12]=x):x=e[12];let w;e[13]!==v||e[14]!==r||e[15]!==i||e[16]!==c||e[17]!==g||e[18]!==x?(w=(0,l.jsx)(ne,{children:(0,l.jsx)(Ne,{ref:i,align:v,sideOffset:c,className:g,style:x,...r})}),e[13]=v,e[14]=r,e[15]=i,e[16]=c,e[17]=g,e[18]=x,e[19]=w):w=e[19];let b=w;if(m){let y;return e[20]===b?y=e[21]:(y=(0,l.jsx)(De,{children:b}),e[20]=b,e[21]=y),y}return b});J.displayName=G.displayName;export{S as a,Fe as i,Ee as n,F as o,J as r,Ae as t};
