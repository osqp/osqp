var jn=Object.defineProperty;var Tn=(t,e,n)=>e in t?jn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var d=(t,e,n)=>Tn(t,typeof e!="symbol"?e+"":e,n);var ue;import{s as be}from"./chunk-DZLz74EQ.js";import{n as Ie,o as ae}from"./react-7g8sREeT.js";import{t as Hn}from"./react-BcIddLXZ.js";import{Cr as $n,Or as On,S as Un,kr as we,vr as Wn,x as Bn}from"./cells-Dd1FatlG.js";import{A as ve,C as gt,F as xe,L as Gn,O as Vn,P as Xn,V as Yn,w as yt,z as bt}from"./zod-BEi78Y5d.js";import{n as wt,t as Jn}from"./jsx-runtime-DvsdsEjx.js";import{t as Kn}from"./debounce-Bzqd6azt.js";import{r as Be,t as Qn}from"./invariant-91cSKJcr.js";import{t as Zn}from"./_baseSet-B-t_O9-N.js";import{r as O,t as V}from"./Logger-BkkOJyg0.js";import{x as er}from"./utils-DBmmAf_K.js";import{g as tr}from"./config-DXGmIv9f.js";import{i as nr}from"./useHotkey-DkiyGPLs.js";import{n as vt}from"./globals-BFoVgbHf.js";import{t as xt}from"./ErrorBoundary-CeiDOU5x.js";import{t as rr}from"./cn-Dr9kMPPj.js";import{t as ar}from"./button-Bxk0BtBn.js";import{z as ir}from"./columns-qXe5bccO.js";import{n as lr,r as St}from"./key-D4QiH_7H.js";import{t as Ge}from"./Deferred-Mppm0cvJ.js";import{t as or}from"./uuid-4lb_EYpq.js";import{t as sr}from"./use-toast-D6NNsC80.js";import{t as Et}from"./createLucideIcon-QLW8E4z5.js";import{h as ur}from"./select-DKRTzlUU.js";import{c as dr}from"./ansi_up-D_b0GS7N.js";import{n as cr}from"./useNonce-BbWkd3B4.js";import{t as Ct}from"./tooltip-ULHbIsj9.js";import{t as zt}from"./mode-DQPKc-Hp.js";import{n as fr,r as pr,t as mr}from"./share-Dcl7D_tA.js";import{t as hr}from"./dist-DcASoeRZ.js";import{t as kt}from"./toggle-BpFqu8FB.js";function gr(t,e,n){return t==null?t:Zn(t,e,n)}var Rt=gr,yr=Et("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),br=Et("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);function wr(t){return{all:t||(t=new Map),on:function(e,n){var r=t.get(e);r?r.push(n):t.set(e,[n])},off:function(e,n){var r=t.get(e);r&&(n?r.splice(r.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var r=t.get(e);r&&r.slice().map(function(i){i(n)}),(r=t.get("*"))&&r.slice().map(function(i){i(e,n)})}}}var u=be(Hn(),1),Ve=(0,u.createContext)(null),vr=t=>{let{controller:e}=(0,u.useContext)(Ve),n=u.useRef(Symbol("fill"));return(0,u.useEffect)(()=>(e.mount({name:t.name,ref:n.current,children:t.children}),()=>{e.unmount({name:t.name,ref:n.current})}),[]),(0,u.useEffect)(()=>{e.update({name:t.name,ref:n.current,children:t.children})}),null},xr=Object.defineProperty,Sr=(t,e,n)=>e in t?xr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,It=(t,e,n)=>(Sr(t,typeof e=="symbol"?e:e+"",n),n),Nt=console,Er=class{constructor(t){It(this,"_bus"),It(this,"_db"),this._bus=t,this.handleFillMount=this.handleFillMount.bind(this),this.handleFillUpdated=this.handleFillUpdated.bind(this),this.handleFillUnmount=this.handleFillUnmount.bind(this),this._db={byName:new Map,byFill:new Map}}mount(){this._bus.on("fill-mount",this.handleFillMount),this._bus.on("fill-updated",this.handleFillUpdated),this._bus.on("fill-unmount",this.handleFillUnmount)}unmount(){this._bus.off("fill-mount",this.handleFillMount),this._bus.off("fill-updated",this.handleFillUpdated),this._bus.off("fill-unmount",this.handleFillUnmount)}handleFillMount({fill:t}){let e=u.Children.toArray(t.children),n=t.name,r={fill:t,children:e,name:n},i=this._db.byName.get(n);i?(i.components.push(r),i.listeners.forEach(a=>a([...i.components]))):this._db.byName.set(n,{listeners:[],components:[r]}),this._db.byFill.set(t.ref,r)}handleFillUpdated({fill:t}){let e=this._db.byFill.get(t.ref),n=u.Children.toArray(t.children);if(e){e.children=n;let r=this._db.byName.get(e.name);if(r)r.listeners.forEach(i=>i([...r.components]));else throw Error("registration was expected to be defined")}else{Nt.error("[handleFillUpdated] component was expected to be defined");return}}handleFillUnmount({fill:t}){let e=this._db.byFill.get(t.ref);if(!e){Nt.error("[handleFillUnmount] component was expected to be defined");return}let n=e.name,r=this._db.byName.get(n);if(!r)throw Error("registration was expected to be defined");r.components=r.components.filter(i=>i!==e),this._db.byFill.delete(t.ref),r.listeners.length===0&&r.components.length===0?this._db.byName.delete(n):r.listeners.forEach(i=>i([...r.components]))}onComponentsChange(t,e){let n=this._db.byName.get(t);n?(n.listeners.push(e),e(n.components)):(this._db.byName.set(t,{listeners:[e],components:[]}),e([]))}getFillsByName(t){let e=this._db.byName.get(t);return e?e.components.map(n=>n.fill):[]}getChildrenByName(t){let e=this._db.byName.get(t);return e?e.components.map(n=>n.children).reduce((n,r)=>n.concat(r),[]):[]}removeOnComponentsChange(t,e){let n=this._db.byName.get(t);if(!n)throw Error("expected registration to be defined");let r=n.listeners;r.splice(r.indexOf(e),1)}},Cr=Object.defineProperty,zr=(t,e,n)=>e in t?Cr(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kr=(t,e,n)=>(zr(t,typeof e=="symbol"?e:e+"",n),n),Pt=class{constructor(){kr(this,"bus",wr())}mount(t){this.bus.emit("fill-mount",{fill:t})}unmount(t){this.bus.emit("fill-unmount",{fill:t})}update(t){this.bus.emit("fill-updated",{fill:t})}};function Rr(t){let e=t||new Pt;return{controller:e,manager:new Er(e.bus)}}var Ir=({controller:t,children:e})=>{let[n]=u.useState(()=>{let r=Rr(t);return r.manager.mount(),r});return u.useEffect(()=>()=>{n.manager.unmount()},[]),u.createElement(Ve.Provider,{value:n},e)};function Xe(t,e){let[n,r]=(0,u.useState)([]),{manager:i}=(0,u.useContext)(Ve);return(0,u.useEffect)(()=>(i.onComponentsChange(t,r),()=>{i.removeOnComponentsChange(t,r)}),[t]),n.flatMap((a,l)=>{let{children:o}=a;return o.map((s,m)=>{if(typeof s=="number"||typeof s=="string")throw Error("Only element children will work here");return u.cloneElement(s,{key:l.toString()+m.toString(),...e})})})}var At=t=>{let e=Xe(t.name,t.childProps);if(typeof t.children=="function"){let n=t.children(e);if(u.isValidElement(n)||n===null)return n;throw Error("Slot rendered with function must return a valid React Element.")}return e};const Nr=new Pt,Ne={SIDEBAR:"sidebar",CONTEXT_AWARE_PANEL:"context-aware-panel"};var Pr=1e10,Ar=1e3;function Pe(t,e){let n=t.map(r=>`"${r}"`).join(", ");return Error(`This RPC instance cannot ${e} because the transport did not provide one or more of these methods: ${n}`)}function _r(t={}){let e={};function n(c){e=c}let r={};function i(c){var x;r.unregisterHandler&&r.unregisterHandler(),r=c,(x=r.registerHandler)==null||x.call(r,M)}let a;function l(c){if(typeof c=="function"){a=c;return}a=(x,P)=>{let C=c[x];if(C)return C(P);let N=c._;if(!N)throw Error(`The requested method has no handler: ${x}`);return N(x,P)}}let{maxRequestTime:o=Ar}=t;t.transport&&i(t.transport),t.requestHandler&&l(t.requestHandler),t._debugHooks&&n(t._debugHooks);let s=0;function m(){return s<=Pr?++s:s=0}let z=new Map,f=new Map;function p(c,...x){let P=x[0];return new Promise((C,N)=>{var q;if(!r.send)throw Pe(["send"],"make requests");let F=m(),U={type:"request",id:F,method:c,params:P};z.set(F,{resolve:C,reject:N}),o!==1/0&&f.set(F,setTimeout(()=>{f.delete(F),N(Error("RPC request timed out."))},o)),(q=e.onSend)==null||q.call(e,U),r.send(U)})}let g=new Proxy(p,{get:(c,x,P)=>x in c?Reflect.get(c,x,P):C=>p(x,C)}),b=g;function R(c,...x){var N;let P=x[0];if(!r.send)throw Pe(["send"],"send messages");let C={type:"message",id:c,payload:P};(N=e.onSend)==null||N.call(e,C),r.send(C)}let y=new Proxy(R,{get:(c,x,P)=>x in c?Reflect.get(c,x,P):C=>R(x,C)}),v=y,A=new Map,_=new Set;function H(c,x){var P;if(!r.registerHandler)throw Pe(["registerHandler"],"register message listeners");if(c==="*"){_.add(x);return}A.has(c)||A.set(c,new Set),(P=A.get(c))==null||P.add(x)}function W(c,x){var P,C;if(c==="*"){_.delete(x);return}(P=A.get(c))==null||P.delete(x),((C=A.get(c))==null?void 0:C.size)===0&&A.delete(c)}async function M(c){var x,P;if((x=e.onReceive)==null||x.call(e,c),!("type"in c))throw Error("Message does not contain a type.");if(c.type==="request"){if(!r.send||!a)throw Pe(["send","requestHandler"],"handle requests");let{id:C,method:N,params:F}=c,U;try{U={type:"response",id:C,success:!0,payload:await a(N,F)}}catch(q){if(!(q instanceof Error))throw q;U={type:"response",id:C,success:!1,error:q.message}}(P=e.onSend)==null||P.call(e,U),r.send(U);return}if(c.type==="response"){let C=f.get(c.id);C!=null&&clearTimeout(C);let{resolve:N,reject:F}=z.get(c.id)??{};c.success?N==null||N(c.payload):F==null||F(Error(c.error));return}if(c.type==="message"){for(let N of _)N(c.id,c.payload);let C=A.get(c.id);if(!C)return;for(let N of C)N(c.payload);return}throw Error(`Unexpected RPC message type: ${c.type}`)}return{setTransport:i,setRequestHandler:l,request:g,requestProxy:b,send:y,sendProxy:v,addMessageListener:H,removeMessageListener:W,proxy:{send:v,request:b},_setDebugHooks:n}}function Mr(t){return _r(t)}var _t="[transport-id]";function Fr(t,e){let{transportId:n}=e;return n==null?t:{[_t]:n,data:t}}function Lr(t,e){let{transportId:n,filter:r}=e,i=r==null?void 0:r();if(n!=null&&i!=null)throw Error("Cannot use both `transportId` and `filter` at the same time");let a=t;if(n){if(t[_t]!==n)return[!0];a=t.data}return i===!1?[!0]:[!1,a]}function Dr(t,e={}){let{transportId:n,filter:r,remotePort:i}=e,a=t,l=i??t,o;return{send(s){l.postMessage(Fr(s,{transportId:n}))},registerHandler(s){o=m=>{let z=m.data,[f,p]=Lr(z,{transportId:n,filter:()=>r==null?void 0:r(m)});f||s(p)},a.addEventListener("message",o)},unregisterHandler(){o&&a.removeEventListener("message",o)}}}function qr(t,e){return Dr(t,e)}function Mt(t){return Mr({transport:qr(t,{transportId:"marimo-transport"}),maxRequestTime:2e4,_debugHooks:{onSend:e=>{V.debug("[rpc] Parent -> Worker",e)},onReceive:e=>{V.debug("[rpc] Worker -> Parent",e)}}})}const Ft=ae("Initializing..."),jr=ae(t=>{let e=t(Bn),n=Object.values(e.cellRuntime);return n.some(r=>!dr(r.output))?!0:n.every(r=>r.status==="idle")});var Lt=be(fr()),Dt="marimo:file",qt=new Wn(null);const Tr={saveFile(t){qt.set(Dt,t)},readFile(){return qt.get(Dt)}};var Hr={saveFile(t){we.setCodeForHash((0,Lt.compressToEncodedURIComponent)(t))},readFile(){let t=we.getCodeFromHash()||we.getCodeFromSearchParam();return t?(0,Lt.decompressFromEncodedURIComponent)(t):null}};const $r={saveFile(t){},readFile(){let t=document.querySelector("marimo-code");return t?decodeURIComponent(t.textContent||"").trim():null}};var Or={saveFile(t){},readFile(){if(window.location.hostname!=="marimo.app")return null;let t=new URL("files/wasm-intro.py",document.baseURI);return fetch(t.toString()).then(e=>e.ok?e.text():null).catch(()=>null)}},Ur={saveFile(t){},readFile(){return["import marimo","app = marimo.App()","","@app.cell","def __():","  return","",'if __name__ == "__main__":',"  app.run()"].join(`
`)}},jt=class{constructor(t){this.stores=t}insert(t,e){this.stores.splice(t,0,e)}saveFile(t){this.stores.forEach(e=>e.saveFile(t))}readFile(){for(let t of this.stores){let e=t.readFile();if(e)return e}return null}};const Ae=new jt([$r,Hr]),Ye=new jt([Tr,Or,Ur]);var Wr=class Fn{constructor(){d(this,"initialized",new Ge);d(this,"sendRename",async({filename:e})=>(e===null||(we.setFilename(e),await this.rpc.proxy.request.bridge({functionName:"rename_file",payload:e})),null));d(this,"sendSave",async e=>{if(!this.saveRpc)return V.warn("Save RPC not initialized"),null;await this.saveRpc.saveNotebook(e);let n=await this.readCode();return n.contents&&(Ae.saveFile(n.contents),Ye.saveFile(n.contents)),this.rpc.proxy.request.saveNotebook(e).catch(r=>{V.error(r)}),null});d(this,"sendCopy",async()=>{O()});d(this,"sendStdin",async e=>(await this.rpc.proxy.request.bridge({functionName:"put_input",payload:e.text}),null));d(this,"sendPdb",async()=>{O()});d(this,"sendRun",async e=>(await this.rpc.proxy.request.loadPackages(e.codes.join(`
`)),await this.putControlRequest(e),null));d(this,"sendRunScratchpad",async e=>(await this.rpc.proxy.request.loadPackages(e.code),await this.putControlRequest(e),null));d(this,"sendInterrupt",async()=>(this.interruptBuffer!==void 0&&(this.interruptBuffer[0]=2),null));d(this,"sendShutdown",async()=>(window.close(),null));d(this,"sendFormat",async e=>await this.rpc.proxy.request.bridge({functionName:"format",payload:e}));d(this,"sendDeleteCell",async e=>(await this.putControlRequest(e),null));d(this,"sendInstallMissingPackages",async e=>(this.putControlRequest(e),null));d(this,"sendCodeCompletionRequest",async e=>(Be.get(Un)||await this.rpc.proxy.request.bridge({functionName:"code_complete",payload:e}),null));d(this,"saveUserConfig",async e=>(await this.rpc.proxy.request.bridge({functionName:"save_user_config",payload:e}),nr.post("/kernel/save_user_config",e,{baseUrl:"/"}).catch(n=>(V.error(n),null))));d(this,"saveAppConfig",async e=>(await this.rpc.proxy.request.bridge({functionName:"save_app_config",payload:e}),null));d(this,"saveCellConfig",async e=>(await this.putControlRequest(e),null));d(this,"sendRestart",async()=>{let e=await this.readCode();return e.contents&&(Ae.saveFile(e.contents),Ye.saveFile(e.contents)),pr(),null});d(this,"readCode",async()=>this.saveRpc?{contents:await this.saveRpc.readNotebook()}:(V.warn("Save RPC not initialized"),{contents:""}));d(this,"readSnippets",async()=>await this.rpc.proxy.request.bridge({functionName:"read_snippets",payload:void 0}));d(this,"openFile",async({path:e})=>{let n=mr({code:null,baseUrl:window.location.origin});return window.open(n,"_blank"),null});d(this,"sendListFiles",async e=>await this.rpc.proxy.request.bridge({functionName:"list_files",payload:e}));d(this,"sendSearchFiles",async e=>await this.rpc.proxy.request.bridge({functionName:"search_files",payload:e}));d(this,"sendComponentValues",async e=>(await this.putControlRequest({...e,token:or()}),null));d(this,"sendInstantiate",async e=>null);d(this,"sendFunctionRequest",async e=>(await this.putControlRequest(e),null));d(this,"sendCreateFileOrFolder",async e=>await this.rpc.proxy.request.bridge({functionName:"create_file_or_directory",payload:e}));d(this,"sendDeleteFileOrFolder",async e=>await this.rpc.proxy.request.bridge({functionName:"delete_file_or_directory",payload:e}));d(this,"sendRenameFileOrFolder",async e=>await this.rpc.proxy.request.bridge({functionName:"move_file_or_directory",payload:e}));d(this,"sendUpdateFile",async e=>await this.rpc.proxy.request.bridge({functionName:"update_file",payload:e}));d(this,"sendFileDetails",async e=>await this.rpc.proxy.request.bridge({functionName:"file_details",payload:e}));d(this,"exportAsHTML",async e=>await this.rpc.proxy.request.bridge({functionName:"export_html",payload:e}));d(this,"exportAsMarkdown",async e=>await this.rpc.proxy.request.bridge({functionName:"export_markdown",payload:e}));d(this,"previewDatasetColumn",async e=>(await this.putControlRequest(e),null));d(this,"previewSQLTable",async e=>(await this.putControlRequest(e),null));d(this,"previewSQLTableList",async e=>(await this.putControlRequest(e),null));d(this,"previewDataSourceConnection",async e=>(await this.putControlRequest(e),null));d(this,"validateSQL",async e=>(await this.putControlRequest(e),null));d(this,"sendModelValue",async e=>(await this.putControlRequest(e),null));d(this,"syncCellIds",()=>Promise.resolve(null));d(this,"getUsageStats",O);d(this,"openTutorial",O);d(this,"getRecentFiles",O);d(this,"getWorkspaceFiles",O);d(this,"getRunningNotebooks",O);d(this,"shutdownSession",O);d(this,"autoExportAsHTML",O);d(this,"autoExportAsMarkdown",O);d(this,"autoExportAsIPYNB",O);d(this,"addPackage",async e=>this.rpc.proxy.request.addPackage(e));d(this,"removePackage",async e=>this.rpc.proxy.request.removePackage(e));d(this,"getPackageList",async()=>await this.rpc.proxy.request.listPackages());d(this,"getDependencyTree",async()=>({tree:{dependencies:[],name:"",tags:[],version:null}}));d(this,"listSecretKeys",async e=>(await this.putControlRequest(e),null));d(this,"writeSecret",async e=>(await this.putControlRequest(e),null));d(this,"invokeAiTool",O);if(!tr())return;let e=new Worker(new URL(""+new URL("worker-cJUfkx-o.js",import.meta.url).href,""+import.meta.url),{type:"module",name:vt()});this.rpc=Mt(e),this.rpc.addMessageListener("ready",()=>{this.startSession()}),this.rpc.addMessageListener("initialized",()=>{this.saveRpc=this.getSaveWorker(),this.setInterruptBuffer(),this.initialized.resolve()}),this.rpc.addMessageListener("initializingMessage",({message:n})=>{Be.set(Ft,n)}),this.rpc.addMessageListener("initializedError",({error:n})=>{this.initialized.status==="resolved"&&(V.error(n),sr({title:"Error initializing",description:n,variant:"danger"})),this.initialized.reject(Error(n))}),this.rpc.addMessageListener("kernelMessage",({message:n})=>{var r;(r=this.messageConsumer)==null||r.call(this,n)})}static get INSTANCE(){let e="_marimo_private_PyodideBridge";return window[e]||(window[e]=new Fn),window[e]}getSaveWorker(){if(zt()==="read")return V.debug("Skipping SaveWorker in read-mode"),{readFile:O,readNotebook:O,saveNotebook:O};let e=new Worker(new URL(""+new URL("save-worker-Dwy89xUm.js",import.meta.url).href,""+import.meta.url),{type:"module",name:vt()});return Mt(e).proxy.request}async startSession(){let e=await Ae.readFile(),n=await Ye.readFile(),r=we.getFilename(),i=Be.get(er),a={},l=new URLSearchParams(window.location.search);for(let o of l.keys()){let s=l.getAll(o);a[o]=s.length===1?s[0]:s}await this.rpc.proxy.request.startSession({queryParameters:a,code:e||n||"",filename:r,userConfig:{...i,runtime:{...i.runtime,auto_instantiate:zt()==="read"?!0:i.runtime.auto_instantiate}}})}setInterruptBuffer(){crossOriginIsolated?(this.interruptBuffer=new Uint8Array(new SharedArrayBuffer(1)),this.rpc.proxy.request.setInterruptBuffer(this.interruptBuffer)):V.warn("Not running in a secure context; interrupts are not available.")}consumeMessages(e){this.messageConsumer=e,this.rpc.proxy.send.consumerReady({})}async putControlRequest(e){await this.rpc.proxy.request.bridge({functionName:"put_control_request",payload:e})}},Br=class{constructor(t){d(this,"CONNECTING",WebSocket.CONNECTING);d(this,"OPEN",WebSocket.OPEN);d(this,"CLOSING",WebSocket.CLOSING);d(this,"CLOSED",WebSocket.CLOSED);d(this,"binaryType","blob");d(this,"bufferedAmount",0);d(this,"extensions","");d(this,"protocol","");d(this,"url","");d(this,"onclose",null);d(this,"onerror",null);d(this,"onmessage",null);d(this,"onopen",null);d(this,"openSubscriptions",new Set);d(this,"closeSubscriptions",new Set);d(this,"messageSubscriptions",new Set);d(this,"errorSubscriptions",new Set);d(this,"dispatchEvent",O);d(this,"reconnect",O);d(this,"send",O);d(this,"readyState",WebSocket.OPEN);d(this,"retryCount",0);d(this,"shouldReconnect",!1);this.bridge=t}consumeMessages(){this.bridge.consumeMessages(t=>{this.messageSubscriptions.forEach(e=>{e({data:t})})})}addEventListener(t,e,n){switch(t){case"open":this.openSubscriptions.add(e),e();break;case"close":this.closeSubscriptions.add(e);break;case"message":this.messageSubscriptions.add(e),this.consumeMessages();break;case"error":this.errorSubscriptions.add(e);break}}removeEventListener(t,e,n){switch(t){case"open":this.openSubscriptions.delete(e);break;case"close":this.closeSubscriptions.delete(e);break;case"message":this.messageSubscriptions.delete(e);break;case"error":this.errorSubscriptions.delete(e);break}}close(){}};function _e(t){return()=>({TYPE:t,is(e){return e.type===t},create(e){return new CustomEvent(t,e)}})}const Tt=_e("marimo-value-input")(),Ht=_e("marimo-value-update")(),$t=_e("marimo-value-ready")(),Ot=_e("marimo-incoming-message")();function Gr(t,e){return Tt.create({bubbles:!0,composed:!0,detail:{value:t,element:e}})}var Ut=class Ln{static get INSTANCE(){let e="_marimo_private_UIElementRegistry";return window[e]||(window[e]=new Ln),window[e]}constructor(){this.entries=new Map}has(e){return this.entries.has(e)}set(e,n){if(this.entries.has(e))throw Error(`UIElement ${e} already registered`);this.entries.set(e,{objectId:e,value:n,elements:new Set})}registerInstance(e,n){let r=this.entries.get(e);r===void 0?this.entries.set(e,{objectId:e,value:On(n,this),elements:new Set([n])}):r.elements.add(n)}removeInstance(e,n){let r=this.entries.get(e);r!=null&&r.elements.has(n)&&r.elements.delete(n)}removeElementsByCell(e){[...this.entries.keys()].filter(n=>n.startsWith(`${e}-`)).forEach(n=>{this.entries.delete(n)})}lookupValue(e){let n=this.entries.get(e);return n===void 0?void 0:n.value}broadcastMessage(e,n,r){let i=this.entries.get(e);i===void 0?V.warn("UIElementRegistry missing entry",e):i.elements.forEach(a=>{a.dispatchEvent(Ot.create({bubbles:!1,composed:!0,detail:{objectId:e,message:n,buffers:r}}))})}broadcastValueUpdate(e,n,r){let i=this.entries.get(n);i===void 0?V.warn("UIElementRegistry missing entry",n):(i.value=r,i.elements.forEach(a=>{a!==e&&a.dispatchEvent(Ht.create({bubbles:!1,composed:!0,detail:{value:r,element:a}}))}),document.dispatchEvent($t.create({bubbles:!0,composed:!0,detail:{objectId:n}})))}};const Vr=Ut.INSTANCE,Xr=new lr("function-call-result",async(t,e)=>{await St().sendFunctionRequest({functionCallId:t,...e})}),Yr="68px";var Jr="288px";const Kr=t=>t?/^\d+$/.test(t)?`${t}px`:t:Jr,Qr=$n({isOpen:!0},(t,e)=>{if(!e)return t;switch(e.type){case"toggle":return{...t,isOpen:e.isOpen??t.isOpen};case"setWidth":return{...t,width:e.width};default:return t}});function Zr(t,e,n){if(!e||e.length===0)return t;n&&Qn(n.length===e.length,"Buffers and buffer paths not the same length");let r=structuredClone(t);for(let[i,a]of e.entries()){let l=n[i];if(!l){V.warn("Could not find buffer at path",a);continue}r=Rt(r,a,l)}return r}const Wt=new class{constructor(t=1e4){d(this,"models",new Map);this.timeout=t}get(t){let e=this.models.get(t);return e||(e=new Ge,this.models.set(t,e),setTimeout(()=>{e.status==="pending"&&(e.reject(Error(`Model not found for key: ${t}`)),this.models.delete(t))},this.timeout)),e.promise}set(t,e){let n=this.models.get(t);n||(n=new Ge,this.models.set(t,n)),n.resolve(e)}delete(t){this.models.delete(t)}};var Bt=(ue=class{constructor(e,n,r,i){d(this,"ANY_CHANGE_EVENT","change");d(this,"listeners",{});d(this,"widget_manager",{async get_model(e){let n=await ue._modelManager.get(e);if(!n)throw Error(`Model not found with id: ${e}. This is likely because the model was not registered.`);return n}});d(this,"emitAnyChange",Kn(()=>{var e;(e=this.listeners[this.ANY_CHANGE_EVENT])==null||e.forEach(n=>n())},0));this.data=e,this.onChange=n,this.sendToWidget=r,this.dirtyFields=new Set(i)}off(e,n){var r;if(!e){this.listeners={};return}if(!n){this.listeners[e]=new Set;return}(r=this.listeners[e])==null||r.delete(n)}send(e,n,r){r&&V.warn("buffers not supported in marimo anywidget.send"),this.sendToWidget({content:e,buffers:r}).then(n)}get(e){return this.data[e]}set(e,n){this.data={...this.data,[e]:n},this.dirtyFields.add(e),this.emit(`change:${e}`,n),this.emitAnyChange()}save_changes(){if(this.dirtyFields.size===0)return;let e={};this.dirtyFields.forEach(n=>{e[n]=this.data[n]}),this.onChange(e)}updateAndEmitDiffs(e){Object.keys(e).forEach(n=>{let r=n;hr(this.data[r],e[r])||this.set(r,e[r])})}receiveCustomMessage(e,n=[]){var i;let r=Gt.safeParse(e);if(r.success){let a=r.data;switch(a.method){case"update":this.updateAndEmitDiffs(a.state);break;case"custom":(i=this.listeners["msg:custom"])==null||i.forEach(l=>l(a.content,n));break;case"open":this.updateAndEmitDiffs(a.state);break}}else V.error("Failed to parse message",r.error),V.error("Message",e)}on(e,n){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(n)}emit(e,n){this.listeners[e]&&this.listeners[e].forEach(r=>r(n))}},d(ue,"_modelManager",Wt),ue),Je=yt(yt(Yn([bt(),Xn()]))),Ke=Gn(bt(),gt()),Gt=Vn("method",[xe({method:ve("open"),state:Ke,buffer_paths:Je.optional()}),xe({method:ve("update"),state:Ke,buffer_paths:Je.optional()}),xe({method:ve("custom"),content:gt()}),xe({method:ve("echo_update"),buffer_paths:Je,state:Ke}),xe({method:ve("close")})]);function ea(t){return t==null?!1:Gt.safeParse(t).success}async function ta({modelId:t,msg:e,buffers:n,modelManager:r}){if(e.method==="echo_update")return;if(e.method==="custom"){(await r.get(t)).receiveCustomMessage(e);return}if(e.method==="close"){r.delete(t);return}let{method:i,state:a,buffer_paths:l=[]}=e,o=Zr(a,l,n);if(i==="open"){let s=new Bt(o,m=>{l&&V.warn("Changed data with buffer paths may not be supported",m),St().sendModelValue({modelId:t,message:{state:m,bufferPaths:[]},buffers:[]})},O,new Set);r.set(t,s);return}if(i==="update"){(await r.get(t)).updateAndEmitDiffs(o);return}cr(i)}const Vt=ae(null),na=ae(null),Xt=ae(!1),ra=ae(!1),Yt=ae(!1);var Me=(0,u.createContext)(null);Me.displayName="PanelGroupContext";var T={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Qe=10,ie=u.useLayoutEffect,Jt=u.useId,aa=typeof Jt=="function"?Jt:()=>null,ia=0;function Ze(t=null){let e=aa(),n=(0,u.useRef)(t||e||null);return n.current===null&&(n.current=""+ia++),t??n.current}function Kt({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:a,id:l,maxSize:o,minSize:s,onCollapse:m,onExpand:z,onResize:f,order:p,style:g,tagName:b="div",...R}){let y=(0,u.useContext)(Me);if(y===null)throw Error("Panel components must be rendered within a PanelGroup container");let{collapsePanel:v,expandPanel:A,getPanelSize:_,getPanelStyle:H,groupId:W,isPanelCollapsed:M,reevaluatePanelConstraints:c,registerPanel:x,resizePanel:P,unregisterPanel:C}=y,N=Ze(l),F=(0,u.useRef)({callbacks:{onCollapse:m,onExpand:z,onResize:f},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:o,minSize:s},id:N,idIsFromProps:l!==void 0,order:p});(0,u.useRef)({didLogMissingDefaultSizeWarning:!1}),ie(()=>{let{callbacks:q,constraints:G}=F.current,X={...G};F.current.id=N,F.current.idIsFromProps=l!==void 0,F.current.order=p,q.onCollapse=m,q.onExpand=z,q.onResize=f,G.collapsedSize=n,G.collapsible=r,G.defaultSize=i,G.maxSize=o,G.minSize=s,(X.collapsedSize!==G.collapsedSize||X.collapsible!==G.collapsible||X.maxSize!==G.maxSize||X.minSize!==G.minSize)&&c(F.current,X)}),ie(()=>{let q=F.current;return x(q),()=>{C(q)}},[p,N,x,C]),(0,u.useImperativeHandle)(a,()=>({collapse:()=>{v(F.current)},expand:q=>{A(F.current,q)},getId(){return N},getSize(){return _(F.current)},isCollapsed(){return M(F.current)},isExpanded(){return!M(F.current)},resize:q=>{P(F.current,q)}}),[v,A,_,M,N,P]);let U=H(F.current,i);return(0,u.createElement)(b,{...R,children:t,className:e,id:N,style:{...U,...g},[T.groupId]:W,[T.panel]:"",[T.panelCollapsible]:r||void 0,[T.panelId]:N,[T.panelSize]:parseFloat(""+U.flexGrow).toFixed(1)})}var et=(0,u.forwardRef)((t,e)=>(0,u.createElement)(Kt,{...t,forwardedRef:e}));Kt.displayName="Panel",et.displayName="forwardRef(Panel)";var la;function oa(){return la}var tt=null,sa=!0,Fe=-1,ee=null;function ua(t,e){if(e){let n=(e&ln)!==0,r=(e&on)!==0,i=(e&sn)!==0,a=(e&un)!==0;if(n)return i?"se-resize":a?"ne-resize":"e-resize";if(r)return i?"sw-resize":a?"nw-resize":"w-resize";if(i)return"s-resize";if(a)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function da(){ee!==null&&(document.head.removeChild(ee),tt=null,ee=null,Fe=-1)}function nt(t,e){var i;if(!sa)return;let n=ua(t,e);if(tt!==n){if(tt=n,ee===null){ee=document.createElement("style");let a=oa();a&&ee.setAttribute("nonce",a),document.head.appendChild(ee)}if(Fe>=0){var r;(r=ee.sheet)==null||r.removeRule(Fe)}Fe=((i=ee.sheet)==null?void 0:i.insertRule(`*{cursor: ${n} !important;}`))??-1}}function Qt(t){return t.type==="keydown"}function Zt(t){return t.type.startsWith("pointer")}function en(t){return t.type.startsWith("mouse")}function Le(t){if(Zt(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(en(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function ca(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function fa(t,e,n){return n?t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y:t.x<=e.x+e.width&&t.x+t.width>=e.x&&t.y<=e.y+e.height&&t.y+t.height>=e.y}function pa(t,e){if(t===e)throw Error("Cannot compare node with itself");let n={a:rn(t),b:rn(e)},r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;I(r,"Stacking order can only be calculated for elements with a common ancestor");let i={a:nn(tn(n.a)),b:nn(tn(n.b))};if(i.a===i.b){let a=r.childNodes,l={a:n.a.at(-1),b:n.b.at(-1)},o=a.length;for(;o--;){let s=a[o];if(s===l.a)return 1;if(s===l.b)return-1}}return Math.sign(i.a-i.b)}var ma=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function ha(t){let e=getComputedStyle(an(t)??t).display;return e==="flex"||e==="inline-flex"}function ga(t){let e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||ha(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||ma.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function tn(t){let e=t.length;for(;e--;){let n=t[e];if(I(n,"Missing node"),ga(n))return n}return null}function nn(t){return t&&Number(getComputedStyle(t).zIndex)||0}function rn(t){let e=[];for(;t;)e.push(t),t=an(t);return e}function an(t){let{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}var ln=1,on=2,sn=4,un=8,ya=ca()==="coarse",Z=[],ce=!1,le=new Map,De=new Map,Se=new Set;function ba(t,e,n,r,i){let{ownerDocument:a}=e,l={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},o=le.get(a)??0;return le.set(a,o+1),Se.add(l),qe(),function(){De.delete(t),Se.delete(l);let s=le.get(a)??1;if(le.set(a,s-1),qe(),s===1&&le.delete(a),Z.includes(l)){let m=Z.indexOf(l);m>=0&&Z.splice(m,1),ot(),i("up",!0,null)}}}function wa(t){let{target:e}=t,{x:n,y:r}=Le(t);ce=!0,it({target:e,x:n,y:r}),qe(),Z.length>0&&(je("down",t),t.preventDefault(),dn(e)||t.stopImmediatePropagation())}function rt(t){let{x:e,y:n}=Le(t);if(ce&&t.buttons===0&&(ce=!1,je("up",t)),!ce){let{target:r}=t;it({target:r,x:e,y:n})}je("move",t),ot(),Z.length>0&&t.preventDefault()}function at(t){let{target:e}=t,{x:n,y:r}=Le(t);De.clear(),ce=!1,Z.length>0&&(t.preventDefault(),dn(e)||t.stopImmediatePropagation()),je("up",t),it({target:e,x:n,y:r}),ot(),qe()}function dn(t){let e=t;for(;e;){if(e.hasAttribute(T.resizeHandle))return!0;e=e.parentElement}return!1}function it({target:t,x:e,y:n}){Z.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),Se.forEach(i=>{let{element:a,hitAreaMargins:l}=i,o=a.getBoundingClientRect(),{bottom:s,left:m,right:z,top:f}=o,p=ya?l.coarse:l.fine;if(e>=m-p&&e<=z+p&&n>=f-p&&n<=s+p){if(r!==null&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&pa(r,a)>0){let g=r,b=!1;for(;g&&!g.contains(a);){if(fa(g.getBoundingClientRect(),o,!0)){b=!0;break}g=g.parentElement}if(b)return}Z.push(i)}})}function lt(t,e){De.set(t,e)}function ot(){let t=!1,e=!1;Z.forEach(r=>{let{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;De.forEach(r=>{n|=r}),t&&e?nt("intersection",n):t?nt("horizontal",n):e?nt("vertical",n):da()}var st=new AbortController;function qe(){st.abort(),st=new AbortController;let t={capture:!0,signal:st.signal};Se.size&&(ce?(Z.length>0&&le.forEach((e,n)=>{let{body:r}=n;e>0&&(r.addEventListener("contextmenu",at,t),r.addEventListener("pointerleave",rt,t),r.addEventListener("pointermove",rt,t))}),window.addEventListener("pointerup",at,t),window.addEventListener("pointercancel",at,t)):le.forEach((e,n)=>{let{body:r}=n;e>0&&(r.addEventListener("pointerdown",wa,t),r.addEventListener("pointermove",rt,t))}))}function je(t,e){Se.forEach(n=>{let{setResizeHandlerState:r}=n,i=Z.includes(n);r(t,i,e)})}function va(){let[t,e]=(0,u.useState)(0);return(0,u.useCallback)(()=>e(n=>n+1),[])}function I(t,e){if(!t)throw console.error(e),Error(e)}function oe(t,e,n=Qe){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function te(t,e,n=Qe){return oe(t,e,n)===0}function K(t,e,n){return oe(t,e,n)===0}function xa(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],a=e[r];if(!K(i,a,n))return!1}return!0}function fe({panelConstraints:t,panelIndex:e,size:n}){let r=t[e];I(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:a,maxSize:l=100,minSize:o=0}=r;if(oe(n,o)<0)if(a){let s=(i+o)/2;n=oe(n,s)<0?i:o}else n=o;return n=Math.min(l,n),n=parseFloat(n.toFixed(Qe)),n}function Ee({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:a}){if(K(t,0))return e;let l=[...e],[o,s]=r;I(o!=null,"Invalid first pivot index"),I(s!=null,"Invalid second pivot index");let m=0;if(a==="keyboard"){{let f=t<0?s:o,p=n[f];I(p,`Panel constraints not found for index ${f}`);let{collapsedSize:g=0,collapsible:b,minSize:R=0}=p;if(b){let y=e[f];if(I(y!=null,`Previous layout not found for panel index ${f}`),K(y,g)){let v=R-y;oe(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}{let f=t<0?o:s,p=n[f];I(p,`No panel constraints found for index ${f}`);let{collapsedSize:g=0,collapsible:b,minSize:R=0}=p;if(b){let y=e[f];if(I(y!=null,`Previous layout not found for panel index ${f}`),K(y,R)){let v=y-g;oe(v,Math.abs(t))>0&&(t=t<0?0-v:v)}}}}{let f=t<0?1:-1,p=t<0?s:o,g=0;for(;;){let R=e[p];I(R!=null,`Previous layout not found for panel index ${p}`);let y=fe({panelConstraints:n,panelIndex:p,size:100})-R;if(g+=y,p+=f,p<0||p>=n.length)break}let b=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-b:b}{let f=t<0?o:s;for(;f>=0&&f<n.length;){let p=Math.abs(t)-Math.abs(m),g=e[f];I(g!=null,`Previous layout not found for panel index ${f}`);let b=g-p,R=fe({panelConstraints:n,panelIndex:f,size:b});if(!K(g,R)&&(m+=g-R,l[f]=R,m.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(xa(i,l))return i;{let f=t<0?s:o,p=e[f];I(p!=null,`Previous layout not found for panel index ${f}`);let g=p+m,b=fe({panelConstraints:n,panelIndex:f,size:g});if(l[f]=b,!K(b,g)){let R=g-b,y=t<0?s:o;for(;y>=0&&y<n.length;){let v=l[y];I(v!=null,`Previous layout not found for panel index ${y}`);let A=v+R,_=fe({panelConstraints:n,panelIndex:y,size:A});if(K(v,_)||(R-=_-v,l[y]=_),K(R,0))break;t>0?y--:y++}}}let z=l.reduce((f,p)=>p+f,0);return K(z,100)?l:i}function Sa({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,a=0,l=0,o=n[0];I(o!=null,"No pivot index found"),e.forEach((f,p)=>{let{constraints:g}=f,{maxSize:b=100,minSize:R=0}=g;p===o?(r=R,i=b):(a+=R,l+=b)});let s=Math.min(i,100-a),m=Math.max(r,100-l),z=t[o];return{valueMax:s,valueMin:m,valueNow:z}}function Ce(t,e=document){return Array.from(e.querySelectorAll(`[${T.resizeHandleId}][data-panel-group-id="${t}"]`))}function cn(t,e,n=document){return Ce(t,n).findIndex(r=>r.getAttribute(T.resizeHandleId)===e)??null}function fn(t,e,n){let r=cn(t,e,n);return r==null?[-1,-1]:[r,r+1]}function pn(t,e=document){var n;return e instanceof HTMLElement&&((n=e==null?void 0:e.dataset)==null?void 0:n.panelGroupId)==t?e:e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`)||null}function Te(t,e=document){return e.querySelector(`[${T.resizeHandleId}="${t}"]`)||null}function Ea(t,e,n,r=document){var m,z;let i=Te(e,r),a=Ce(t,r),l=i?a.indexOf(i):-1,o=((m=n[l])==null?void 0:m.id)??null,s=((z=n[l+1])==null?void 0:z.id)??null;return[o,s]}function Ca({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:a,setLayout:l}){(0,u.useRef)({didWarnAboutMissingResizeHandle:!1}),ie(()=>{if(!a)return;let o=Ce(n,a);for(let s=0;s<i.length-1;s++){let{valueMax:m,valueMin:z,valueNow:f}=Sa({layout:r,panelsArray:i,pivotIndices:[s,s+1]}),p=o[s];if(p!=null){let g=i[s];I(g,`No panel data found for index "${s}"`),p.setAttribute("aria-controls",g.id),p.setAttribute("aria-valuemax",""+Math.round(m)),p.setAttribute("aria-valuemin",""+Math.round(z)),p.setAttribute("aria-valuenow",f==null?"":""+Math.round(f))}}return()=>{o.forEach((s,m)=>{s.removeAttribute("aria-controls"),s.removeAttribute("aria-valuemax"),s.removeAttribute("aria-valuemin"),s.removeAttribute("aria-valuenow")})}},[n,r,i,a]),(0,u.useEffect)(()=>{if(!a)return;let o=e.current;I(o,"Eager values not found");let{panelDataArray:s}=o,m=pn(n,a);I(m!=null,`No group found for id "${n}"`);let z=Ce(n,a);I(z,`No resize handles found for group id "${n}"`);let f=z.map(p=>{let g=p.getAttribute(T.resizeHandleId);I(g,"Resize handle element has no handle id attribute");let[b,R]=Ea(n,g,s,a);if(b==null||R==null)return()=>{};let y=v=>{if(!v.defaultPrevented)switch(v.key){case"Enter":{v.preventDefault();let A=s.findIndex(_=>_.id===b);if(A>=0){let _=s[A];I(_,`No panel data found for index ${A}`);let H=r[A],{collapsedSize:W=0,collapsible:M,minSize:c=0}=_.constraints;if(H!=null&&M){let x=Ee({delta:K(H,W)?c-W:W-H,initialLayout:r,panelConstraints:s.map(P=>P.constraints),pivotIndices:fn(n,g,a),prevLayout:r,trigger:"keyboard"});r!==x&&l(x)}}break}}};return p.addEventListener("keydown",y),()=>{p.removeEventListener("keydown",y)}});return()=>{f.forEach(p=>p())}},[a,t,e,n,r,i,l])}function mn(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function hn(t,e){let n=t==="horizontal",{x:r,y:i}=Le(e);return n?r:i}function za(t,e,n,r,i){let a=n==="horizontal",l=Te(e,i);I(l,`No resize handle element found for id "${e}"`);let o=l.getAttribute(T.groupId);I(o,"Resize handle element has no group id attribute");let{initialCursorPosition:s}=r,m=hn(n,t),z=pn(o,i);I(z,`No group element found for id "${o}"`);let f=z.getBoundingClientRect(),p=a?f.width:f.height;return(m-s)/p*100}function ka(t,e,n,r,i,a){if(Qt(t)){let l=n==="horizontal",o=0;o=t.shiftKey?100:i??10;let s=0;switch(t.key){case"ArrowDown":s=l?0:o;break;case"ArrowLeft":s=l?-o:0;break;case"ArrowRight":s=l?o:0;break;case"ArrowUp":s=l?0:-o;break;case"End":s=100;break;case"Home":s=-100;break}return s}else return r==null?0:za(t,e,n,r,a)}function Ra({panelDataArray:t}){let e=Array(t.length),n=t.map(a=>a.constraints),r=0,i=100;for(let a=0;a<t.length;a++){let l=n[a];I(l,`Panel constraints not found for index ${a}`);let{defaultSize:o}=l;o!=null&&(r++,e[a]=o,i-=o)}for(let a=0;a<t.length;a++){let l=n[a];I(l,`Panel constraints not found for index ${a}`);let{defaultSize:o}=l;if(o!=null)continue;let s=t.length-r,m=i/s;r++,e[a]=m,i-=m}return e}function pe(t,e,n){e.forEach((r,i)=>{let a=t[i];I(a,`Panel data not found for index ${i}`);let{callbacks:l,constraints:o,id:s}=a,{collapsedSize:m=0,collapsible:z}=o,f=n[s];if(f==null||r!==f){n[s]=r;let{onCollapse:p,onExpand:g,onResize:b}=l;b&&b(r,f),z&&(p||g)&&(g&&(f==null||te(f,m))&&!te(r,m)&&g(),p&&(f==null||!te(f,m))&&te(r,m)&&p())}})}function He(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function Ia({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:a=3}){let l=n[i],o;return o=l==null?t==null?"1":t.toPrecision(a):r.length===1?"1":l.toPrecision(a),{flexBasis:0,flexGrow:o,flexShrink:1,overflow:"hidden",pointerEvents:e===null?void 0:"none"}}function Na(t,e=10){let n=null;return(...r)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...r)},e)}}function gn(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function yn(t){return`react-resizable-panels:${t}`}function bn(t){return t.map(e=>{let{constraints:n,id:r,idIsFromProps:i,order:a}=e;return i?r:a?`${a}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function wn(t,e){try{let n=yn(t),r=e.getItem(n);if(r){let i=JSON.parse(r);if(typeof i=="object"&&i)return i}}catch{}return null}function Pa(t,e,n){let r=wn(t,n)??{},i=bn(e);return r[i]??null}function Aa(t,e,n,r,i){let a=yn(t),l=bn(e),o=wn(t,i)??{};o[l]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(a,JSON.stringify(o))}catch(s){console.error(s)}}function vn({layout:t,panelConstraints:e}){let n=[...t],r=n.reduce((a,l)=>a+l,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(a=>`${a}%`).join(", ")}`);if(!K(r,100)&&n.length>0)for(let a=0;a<e.length;a++){let l=n[a];I(l!=null,`No layout data found for index ${a}`),n[a]=100/r*l}let i=0;for(let a=0;a<e.length;a++){let l=n[a];I(l!=null,`No layout data found for index ${a}`);let o=fe({panelConstraints:e,panelIndex:a,size:l});l!=o&&(i+=l-o,n[a]=o)}if(!K(i,0))for(let a=0;a<e.length;a++){let l=n[a];I(l!=null,`No layout data found for index ${a}`);let o=l+i,s=fe({panelConstraints:e,panelIndex:a,size:o});if(l!==s&&(i-=s-l,n[a]=s,K(i,0)))break}return n}var _a=100,ze={getItem:t=>(gn(ze),ze.getItem(t)),setItem:(t,e)=>{gn(ze),ze.setItem(t,e)}},xn={};function Sn({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:a=null,onLayout:l=null,keyboardResizeBy:o=null,storage:s=ze,style:m,tagName:z="div",...f}){let p=Ze(a),g=(0,u.useRef)(null),[b,R]=(0,u.useState)(null),[y,v]=(0,u.useState)([]),A=va(),_=(0,u.useRef)({}),H=(0,u.useRef)(new Map),W=(0,u.useRef)(0),M=(0,u.useRef)({autoSaveId:t,direction:r,dragState:b,id:p,keyboardResizeBy:o,onLayout:l,storage:s}),c=(0,u.useRef)({layout:y,panelDataArray:[],panelDataArrayChanged:!1});(0,u.useRef)({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),(0,u.useImperativeHandle)(i,()=>({getId:()=>M.current.id,getLayout:()=>{let{layout:h}=c.current;return h},setLayout:h=>{let{onLayout:w}=M.current,{layout:E,panelDataArray:S}=c.current,k=vn({layout:h,panelConstraints:S.map(L=>L.constraints)});mn(E,k)||(v(k),c.current.layout=k,w&&w(k),pe(S,k,_.current))}}),[]),ie(()=>{M.current.autoSaveId=t,M.current.direction=r,M.current.dragState=b,M.current.id=p,M.current.onLayout=l,M.current.storage=s}),Ca({committedValuesRef:M,eagerValuesRef:c,groupId:p,layout:y,panelDataArray:c.current.panelDataArray,setLayout:v,panelGroupElement:g.current}),(0,u.useEffect)(()=>{let{panelDataArray:h}=c.current;if(t){if(y.length===0||y.length!==h.length)return;let w=xn[t];w??(w=Na(Aa,_a),xn[t]=w);let E=[...h],S=new Map(H.current);w(t,E,S,y,s)}},[t,y,s]),(0,u.useEffect)(()=>{});let x=(0,u.useCallback)(h=>{let{onLayout:w}=M.current,{layout:E,panelDataArray:S}=c.current;if(h.constraints.collapsible){let k=S.map(Q=>Q.constraints),{collapsedSize:L=0,panelSize:j,pivotIndices:B}=se(S,h,E);if(I(j!=null,`Panel size not found for panel "${h.id}"`),!te(j,L)){H.current.set(h.id,j);let Q=me(S,h)===S.length-1?j-L:L-j,$=Ee({delta:Q,initialLayout:E,panelConstraints:k,pivotIndices:B,prevLayout:E,trigger:"imperative-api"});He(E,$)||(v($),c.current.layout=$,w&&w($),pe(S,$,_.current))}}},[]),P=(0,u.useCallback)((h,w)=>{let{onLayout:E}=M.current,{layout:S,panelDataArray:k}=c.current;if(h.constraints.collapsible){let L=k.map(ne=>ne.constraints),{collapsedSize:j=0,panelSize:B=0,minSize:Q=0,pivotIndices:$}=se(k,h,S),J=w??Q;if(te(B,j)){let ne=H.current.get(h.id),Re=ne!=null&&ne>=J?ne:J,We=me(k,h)===k.length-1?B-Re:Re-B,Y=Ee({delta:We,initialLayout:S,panelConstraints:L,pivotIndices:$,prevLayout:S,trigger:"imperative-api"});He(S,Y)||(v(Y),c.current.layout=Y,E&&E(Y),pe(k,Y,_.current))}}},[]),C=(0,u.useCallback)(h=>{let{layout:w,panelDataArray:E}=c.current,{panelSize:S}=se(E,h,w);return I(S!=null,`Panel size not found for panel "${h.id}"`),S},[]),N=(0,u.useCallback)((h,w)=>{let{panelDataArray:E}=c.current,S=me(E,h);return Ia({defaultSize:w,dragState:b,layout:y,panelData:E,panelIndex:S})},[b,y]),F=(0,u.useCallback)(h=>{let{layout:w,panelDataArray:E}=c.current,{collapsedSize:S=0,collapsible:k,panelSize:L}=se(E,h,w);return I(L!=null,`Panel size not found for panel "${h.id}"`),k===!0&&te(L,S)},[]),U=(0,u.useCallback)(h=>{let{layout:w,panelDataArray:E}=c.current,{collapsedSize:S=0,collapsible:k,panelSize:L}=se(E,h,w);return I(L!=null,`Panel size not found for panel "${h.id}"`),!k||oe(L,S)>0},[]),q=(0,u.useCallback)(h=>{let{panelDataArray:w}=c.current;w.push(h),w.sort((E,S)=>{let k=E.order,L=S.order;return k==null&&L==null?0:k==null?-1:L==null?1:k-L}),c.current.panelDataArrayChanged=!0,A()},[A]);ie(()=>{if(c.current.panelDataArrayChanged){c.current.panelDataArrayChanged=!1;let{autoSaveId:h,onLayout:w,storage:E}=M.current,{layout:S,panelDataArray:k}=c.current,L=null;if(h){let B=Pa(h,k,E);B&&(H.current=new Map(Object.entries(B.expandToSizes)),L=B.layout)}L??(L=Ra({panelDataArray:k}));let j=vn({layout:L,panelConstraints:k.map(B=>B.constraints)});mn(S,j)||(v(j),c.current.layout=j,w&&w(j),pe(k,j,_.current))}}),ie(()=>{let h=c.current;return()=>{h.layout=[]}},[]);let G=(0,u.useCallback)(h=>{let w=!1,E=g.current;return E&&window.getComputedStyle(E,null).getPropertyValue("direction")==="rtl"&&(w=!0),function(S){S.preventDefault();let k=g.current;if(!k)return()=>null;let{direction:L,dragState:j,id:B,keyboardResizeBy:Q,onLayout:$}=M.current,{layout:J,panelDataArray:ne}=c.current,{initialLayout:Re}=j??{},We=fn(B,h,k),Y=ka(S,h,L,j,Q,k),mt=L==="horizontal";mt&&w&&(Y=-Y);let Dn=ne.map(qn=>qn.constraints),ye=Ee({delta:Y,initialLayout:Re??J,panelConstraints:Dn,pivotIndices:We,prevLayout:J,trigger:Qt(S)?"keyboard":"mouse-or-touch"}),ht=!He(J,ye);(Zt(S)||en(S))&&W.current!=Y&&(W.current=Y,!ht&&Y!==0?mt?lt(h,Y<0?ln:on):lt(h,Y<0?sn:un):lt(h,0)),ht&&(v(ye),c.current.layout=ye,$&&$(ye),pe(ne,ye,_.current))}},[]),X=(0,u.useCallback)((h,w)=>{let{onLayout:E}=M.current,{layout:S,panelDataArray:k}=c.current,L=k.map(J=>J.constraints),{panelSize:j,pivotIndices:B}=se(k,h,S);I(j!=null,`Panel size not found for panel "${h.id}"`);let Q=me(k,h)===k.length-1?j-w:w-j,$=Ee({delta:Q,initialLayout:S,panelConstraints:L,pivotIndices:B,prevLayout:S,trigger:"imperative-api"});He(S,$)||(v($),c.current.layout=$,E&&E($),pe(k,$,_.current))},[]),ge=(0,u.useCallback)((h,w)=>{let{layout:E,panelDataArray:S}=c.current,{collapsedSize:k=0,collapsible:L}=w,{collapsedSize:j=0,collapsible:B,maxSize:Q=100,minSize:$=0}=h.constraints,{panelSize:J}=se(S,h,E);J!=null&&(L&&B&&te(J,k)?te(k,j)||X(h,j):J<$?X(h,$):J>Q&&X(h,Q))},[X]),ke=(0,u.useCallback)((h,w)=>{let{direction:E}=M.current,{layout:S}=c.current;if(!g.current)return;let k=Te(h,g.current);I(k,`Drag handle element not found for id "${h}"`);let L=hn(E,w);R({dragHandleId:h,dragHandleRect:k.getBoundingClientRect(),initialCursorPosition:L,initialLayout:S})},[]),re=(0,u.useCallback)(()=>{R(null)},[]),de=(0,u.useCallback)(h=>{let{panelDataArray:w}=c.current,E=me(w,h);E>=0&&(w.splice(E,1),delete _.current[h.id],c.current.panelDataArrayChanged=!0,A())},[A]),Oe=(0,u.useMemo)(()=>({collapsePanel:x,direction:r,dragState:b,expandPanel:P,getPanelSize:C,getPanelStyle:N,groupId:p,isPanelCollapsed:F,isPanelExpanded:U,reevaluatePanelConstraints:ge,registerPanel:q,registerResizeHandle:G,resizePanel:X,startDragging:ke,stopDragging:re,unregisterPanel:de,panelGroupElement:g.current}),[x,b,r,P,C,N,p,F,U,ge,q,G,X,ke,re,de]),Ue={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return(0,u.createElement)(Me.Provider,{value:Oe},(0,u.createElement)(z,{...f,children:e,className:n,id:a,ref:g,style:{...Ue,...m},[T.group]:"",[T.groupDirection]:r,[T.groupId]:p}))}var En=(0,u.forwardRef)((t,e)=>(0,u.createElement)(Sn,{...t,forwardedRef:e}));Sn.displayName="PanelGroup",En.displayName="forwardRef(PanelGroup)";function me(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function se(t,e,n){let r=me(t,e),i=r===t.length-1?[r-1,r]:[r,r+1],a=n[r];return{...e.constraints,panelSize:a,pivotIndices:i}}function Ma({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){(0,u.useEffect)(()=>{if(t||n==null||r==null)return;let i=Te(e,r);if(i==null)return;let a=l=>{if(!l.defaultPrevented)switch(l.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":l.preventDefault(),n(l);break;case"F6":{l.preventDefault();let o=i.getAttribute(T.groupId);I(o,`No group element found for id "${o}"`);let s=Ce(o,r),m=cn(o,e,r);I(m!==null,`No resize element found for id "${e}"`);let z=l.shiftKey?m>0?m-1:s.length-1:m+1<s.length?m+1:0;s[z].focus();break}}};return i.addEventListener("keydown",a),()=>{i.removeEventListener("keydown",a)}},[r,t,e,n])}function ut({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:a,onClick:l,onDragging:o,onFocus:s,onPointerDown:m,onPointerUp:z,style:f={},tabIndex:p=0,tagName:g="div",...b}){let R=(0,u.useRef)(null),y=(0,u.useRef)({onClick:l,onDragging:o,onPointerDown:m,onPointerUp:z});(0,u.useEffect)(()=>{y.current.onClick=l,y.current.onDragging=o,y.current.onPointerDown=m,y.current.onPointerUp=z});let v=(0,u.useContext)(Me);if(v===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");let{direction:A,groupId:_,registerResizeHandle:H,startDragging:W,stopDragging:M,panelGroupElement:c}=v,x=Ze(i),[P,C]=(0,u.useState)("inactive"),[N,F]=(0,u.useState)(!1),[U,q]=(0,u.useState)(null),G=(0,u.useRef)({state:P});ie(()=>{G.current.state=P}),(0,u.useEffect)(()=>{if(n)q(null);else{let re=H(x);q(()=>re)}},[n,x,H]);let X=(r==null?void 0:r.coarse)??15,ge=(r==null?void 0:r.fine)??5;(0,u.useEffect)(()=>{if(n||U==null)return;let re=R.current;I(re,"Element ref not attached");let de=!1;return ba(x,re,A,{coarse:X,fine:ge},(Oe,Ue,h)=>{if(!Ue){C("inactive");return}switch(Oe){case"down":{C("drag"),de=!1,I(h,'Expected event to be defined for "down" action'),W(x,h);let{onDragging:w,onPointerDown:E}=y.current;w==null||w(!0),E==null||E();break}case"move":{let{state:w}=G.current;de=!0,w!=="drag"&&C("hover"),I(h,'Expected event to be defined for "move" action'),U(h);break}case"up":{C("hover"),M();let{onClick:w,onDragging:E,onPointerUp:S}=y.current;E==null||E(!1),S==null||S(),de||(w==null||w());break}}})},[X,A,n,ge,H,x,U,W,M]),Ma({disabled:n,handleId:x,resizeHandler:U,panelGroupElement:c});let ke={touchAction:"none",userSelect:"none"};return(0,u.createElement)(g,{...b,children:t,className:e,id:i,onBlur:()=>{F(!1),a==null||a()},onFocus:()=>{F(!0),s==null||s()},ref:R,role:"separator",style:{...ke,...f},tabIndex:p,[T.groupDirection]:A,[T.groupId]:_,[T.resizeHandle]:"",[T.resizeHandleActive]:P==="drag"?"pointer":N?"keyboard":void 0,[T.resizeHandleEnabled]:!n,[T.resizeHandleId]:x,[T.resizeHandleState]:P})}ut.displayName="PanelResizeHandle";var Fa=be(wt());const Cn=t=>{let e=(0,Fa.c)(8),{onResize:n,startingWidth:r,minWidth:i,maxWidth:a}=t,l=(0,u.useRef)(null),o=(0,u.useRef)(null),s=(0,u.useRef)(null),m,z;e[0]!==a||e[1]!==i||e[2]!==n?(m=()=>{let b=l.current,R=o.current,y=s.current;if(!b||!R&&!y)return;let v=Number.parseInt(window.getComputedStyle(b).width,10),A=0,_=!1,H=null,W=C=>{if(!b||!_||!H)return;let N=C.clientX-A;A=C.clientX,v=H==="left"?v-N:v+N,i&&(v=Math.max(i,v)),a&&(v=Math.min(a,v)),b.style.width=`${v}px`},M=()=>{_&&(n==null||n(v),_=!1,H=null),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",M)},c=(C,N)=>{C.preventDefault(),_=!0,H=N,A=C.clientX,document.addEventListener("mousemove",W),document.addEventListener("mouseup",M)},x=C=>c(C,"left"),P=C=>c(C,"right");return R&&R.addEventListener("mousedown",x),y&&y.addEventListener("mousedown",P),()=>{R&&R.removeEventListener("mousedown",x),y&&y.removeEventListener("mousedown",P),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",M)}},z=[i,a,n],e[0]=a,e[1]=i,e[2]=n,e[3]=m,e[4]=z):(m=e[3],z=e[4]),(0,u.useEffect)(m,z);let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f={left:o,right:s},e[5]=f):f=e[5];let p=r==="contentWidth"?"var(--content-width-medium)":`${r}px`,g;return e[6]===p?g=e[7]:(g={resizableDivRef:l,handleRefs:f,style:{width:p}},e[6]=p,e[7]=g),g};function zn(t){t||window.dispatchEvent(new Event("resize"))}var kn=be(wt()),D=be(Jn());const La=()=>{let t=(0,kn.c)(16),[e,n]=Ie(Vt),[r,i]=Ie(Xt),[a,l]=Ie(ra),[o,s]=Ie(Yt),m;t[0]!==i||t[1]!==n?(m=()=>{n(null),i(!1)},t[0]=i,t[1]=n,t[2]=m):m=t[2];let z=m;if(Xe(Ne.CONTEXT_AWARE_PANEL).length===0||!e||!r)return null;let f;t[3]!==o||t[4]!==a||t[5]!==s||t[6]!==l?(f=()=>(0,D.jsxs)("div",{className:"flex flex-row items-center gap-3",children:[(0,D.jsx)(Ct,{content:a?"Unpin panel":"Pin panel",children:(0,D.jsx)(kt,{size:"xs",onPressedChange:()=>l(!a),pressed:a,"aria-label":a?"Unpin panel":"Pin panel",children:a?(0,D.jsx)(br,{className:"w-4 h-4"}):(0,D.jsx)(ir,{className:"w-4 h-4"})})}),(0,D.jsx)(Ct,{content:o?(0,D.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,D.jsx)("span",{children:"Follow focused table"}),(0,D.jsx)("span",{className:"text-xs text-muted-foreground w-64",children:"The panel updates as cells that output tables are focused. Click to fix to the current cell."})]}):(0,D.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,D.jsx)("span",{children:"Focus on current table"}),(0,D.jsx)("span",{className:"text-xs text-muted-foreground w-64",children:"The panel is focused on the current table. Click to update based on which cell is focused."})]}),children:(0,D.jsx)(kt,{size:"xs",onPressedChange:()=>s(!o),pressed:o,"aria-label":o?"Follow focused cell":"Fixed",children:(0,D.jsx)(yr,{className:rr("w-4 h-4",o&&"text-primary")})})})]}),t[3]=o,t[4]=a,t[5]=s,t[6]=l,t[7]=f):f=t[7];let p=f,g;t[8]!==z||t[9]!==p?(g=()=>(0,D.jsxs)("div",{className:"mt-2 pb-7 mb-4 h-full overflow-auto",children:[(0,D.jsxs)("div",{className:"flex flex-row justify-between items-center mx-2",children:[p(),(0,D.jsx)(ar,{variant:"linkDestructive",size:"icon",onClick:z,"aria-label":"Close selection panel",children:(0,D.jsx)(ur,{className:"w-4 h-4"})})]}),(0,D.jsx)(xt,{children:(0,D.jsx)(At,{name:Ne.CONTEXT_AWARE_PANEL})})]}),t[8]=z,t[9]=p,t[10]=g):g=t[10];let b=g;if(!a){let v;return t[11]===b?v=t[12]:(v=(0,D.jsx)(qa,{children:b()}),t[11]=b,t[12]=v),v}let R;t[13]===Symbol.for("react.memo_cache_sentinel")?(R=(0,D.jsx)(ut,{onDragging:zn,className:"resize-handle border-border z-20 no-print border-l"}),t[13]=R):R=t[13];let y;return t[14]===b?y=t[15]:(y=(0,D.jsxs)(D.Fragment,{children:[R,(0,D.jsx)(et,{defaultSize:20,minSize:15,maxSize:80,children:b()})]}),t[14]=b,t[15]=y),y},Da=t=>{let e=(0,kn.c)(2),{children:n}=t,r;return e[0]===n?r=e[1]:(r=(0,D.jsx)(xt,{children:(0,D.jsx)(vr,{name:Ne.CONTEXT_AWARE_PANEL,children:n})}),e[0]=n,e[1]=r),r};var qa=({children:t})=>{let{resizableDivRef:e,handleRefs:n,style:r}=Cn({startingWidth:400,minWidth:300,maxWidth:1500});return(0,D.jsxs)("div",{className:"absolute z-40 right-0 h-full bg-background flex flex-row",children:[(0,D.jsx)("div",{ref:n.left,className:"w-1 h-full cursor-col-resize border-l"}),(0,D.jsx)("div",{ref:e,style:r,children:t})]})};function ja(){var t=[...arguments];return(0,u.useMemo)(()=>e=>{t.forEach(n=>n(e))},t)}var Rn=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0;function $e(t){let e=Object.prototype.toString.call(t);return e==="[object Window]"||e==="[object global]"}function dt(t){return"nodeType"in t}function he(t){var e;return t?$e(t)?t:dt(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window:window}function In(t){let{Document:e}=he(t);return t instanceof e}function Nn(t){return $e(t)?!1:t instanceof he(t).HTMLElement}function Pn(t){return t instanceof he(t).SVGElement}function Ta(t){return t?$e(t)?t.document:dt(t)?In(t)?t:Nn(t)||Pn(t)?t.ownerDocument:document:document:document}var ct=Rn?u.useLayoutEffect:u.useEffect;function An(t){let e=(0,u.useRef)(t);return ct(()=>{e.current=t}),(0,u.useCallback)(function(){var n=[...arguments];return e.current==null?void 0:e.current(...n)},[])}function Ha(){let t=(0,u.useRef)(null),e=(0,u.useCallback)((r,i)=>{t.current=setInterval(r,i)},[]),n=(0,u.useCallback)(()=>{t.current!==null&&(clearInterval(t.current),t.current=null)},[]);return[e,n]}function $a(t,e){e===void 0&&(e=[t]);let n=(0,u.useRef)(t);return ct(()=>{n.current!==t&&(n.current=t)},e),n}function Oa(t,e){let n=(0,u.useRef)();return(0,u.useMemo)(()=>{let r=t(n.current);return n.current=r,r},[...e])}function Ua(t){let e=An(t),n=(0,u.useRef)(null),r=(0,u.useCallback)(i=>{i!==n.current&&(e==null||e(i,n.current)),n.current=i},[]);return[n,r]}function Wa(t){let e=(0,u.useRef)();return(0,u.useEffect)(()=>{e.current=t},[t]),e.current}var ft={};function Ba(t,e){return(0,u.useMemo)(()=>{if(e)return e;let n=ft[t]==null?0:ft[t]+1;return ft[t]=n,t+"-"+n},[t,e])}function _n(t){return function(e){return[...arguments].slice(1).reduce((n,r)=>{let i=Object.entries(r);for(let[a,l]of i){let o=n[a];o!=null&&(n[a]=o+t*l)}return n},{...e})}}var Ga=_n(1),Va=_n(-1);function Xa(t){return"clientX"in t&&"clientY"in t}function Ya(t){if(!t)return!1;let{KeyboardEvent:e}=he(t.target);return e&&t instanceof e}function Ja(t){if(!t)return!1;let{TouchEvent:e}=he(t.target);return e&&t instanceof e}function Ka(t){if(Ja(t)){if(t.touches&&t.touches.length){let{clientX:e,clientY:n}=t.touches[0];return{x:e,y:n}}else if(t.changedTouches&&t.changedTouches.length){let{clientX:e,clientY:n}=t.changedTouches[0];return{x:e,y:n}}}return Xa(t)?{x:t.clientX,y:t.clientY}:null}var pt=Object.freeze({Translate:{toString(t){if(!t)return;let{x:e,y:n}=t;return"translate3d("+(e?Math.round(e):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(t){if(!t)return;let{scaleX:e,scaleY:n}=t;return"scaleX("+e+") scaleY("+n+")"}},Transform:{toString(t){if(t)return[pt.Translate.toString(t),pt.Scale.toString(t)].join(" ")}},Transition:{toString(t){let{property:e,duration:n,easing:r}=t;return e+" "+n+"ms "+r}}}),Mn="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Qa(t){return t.matches(Mn)?t:t.querySelector(Mn)}export{jr as $,ut as A,Kr as B,Ba as C,Cn as D,zn as E,Wt as F,Ot as G,Xr as H,Bt as I,Ht as J,Tt as K,ta as L,Vt as M,na as N,et as O,Yt as P,Ae as Q,ea as R,Wa as S,Da as T,Ut as U,Qr as V,Vr as W,Wr as X,Gr as Y,Br as Z,Ha as _,Ka as a,Xe as at,Oa as b,In as c,dt as d,Ft as et,Pn as f,An as g,ja as h,Qa as i,At as it,Xt as j,En as k,Nn as l,Va as m,Ga as n,Nr as nt,Ta as o,Rt as ot,$e as p,$t as q,Rn as r,Ir as rt,he as s,pt as t,Ne as tt,Ya as u,ct as v,La as w,Ua as x,$a as y,Yr as z};
