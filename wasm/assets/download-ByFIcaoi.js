import{t as D}from"./chunk-DZLz74EQ.js";import{t as oe}from"./react-BcIddLXZ.js";import{t as le}from"./use-toast-midBZAtS.js";import{t as ce}from"./createLucideIcon-CNVopWor.js";import{t as se}from"./shim-Cc3VMan6.js";var ue=ce("chevron-left",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),U=e=>{let t,r=new Set,n=(l,c)=>{let u=typeof l=="function"?l(t):l;if(!Object.is(u,t)){let s=t;t=c??(typeof u!="object"||!u)?u:Object.assign({},t,u),r.forEach(f=>f(t,s))}},i=()=>t,a={setState:n,getState:i,getInitialState:()=>o,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{r.clear()}},o=t=e(n,i,a);return a},he=e=>e?U(e):U,fe=D((e=>{var t=oe(),r=se();function n(s,f){return s===f&&(s!==0||1/s==1/f)||s!==s&&f!==f}var i=typeof Object.is=="function"?Object.is:n,a=r.useSyncExternalStore,o=t.useRef,l=t.useEffect,c=t.useMemo,u=t.useDebugValue;e.useSyncExternalStoreWithSelector=function(s,f,E,N,v){var y=o(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function H(m){if(!V){if(V=!0,P=m,m=N(m),v!==void 0&&w.hasValue){var b=w.value;if(v(b,m))return C=b}return C=m}if(b=C,i(P,m))return b;var O=N(m);return v!==void 0&&v(b,O)?(P=m,b):(P=m,C=O)}var V=!1,P,C,F=E===void 0?null:E;return[function(){return H(f())},F===null?void 0:function(){return H(F())}]},[f,E,N,v]);var $=a(s,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=$},[$]),u($),$}})),de=D(((e,t)=>{t.exports=fe()}));function me(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;let r=document.implementation.createHTMLDocument(),n=r.createElement("base"),i=r.createElement("a");return r.head.appendChild(n),r.body.appendChild(i),t&&(n.href=t),i.href=e,i.href}const ge=(()=>{let e=0,t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function g(e){let t=[];for(let r=0,n=e.length;r<n;r++)t.push(e[r]);return t}var x=null;function q(e={}){return x||(e.includeStyleProperties?(x=e.includeStyleProperties,x):(x=g(window.getComputedStyle(document.documentElement)),x))}function R(e,t){let r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function pe(e){let t=R(e,"border-left-width"),r=R(e,"border-right-width");return e.clientWidth+t+r}function ye(e){let t=R(e,"border-top-width"),r=R(e,"border-bottom-width");return e.clientHeight+t+r}function W(e,t={}){return{width:t.width||pe(e),height:t.height||ye(e)}}function we(){let e,t;try{t=process}catch{}let r=t&&t.env?t.env.devicePixelRatio:null;return r&&(e=parseInt(r,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}var d=16384;function be(e){(e.width>d||e.height>d)&&(e.width>d&&e.height>d?e.width>e.height?(e.height*=d/e.width,e.width=d):(e.width*=d/e.height,e.height=d):e.width>d?(e.height*=d/e.width,e.width=d):(e.width*=d/e.height,e.height=d))}function T(e){return new Promise((t,r)=>{let n=new Image;n.onload=()=>{n.decode().then(()=>{requestAnimationFrame(()=>t(n))})},n.onerror=r,n.crossOrigin="anonymous",n.decoding="async",n.src=e})}async function Se(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Ee(e,t,r){let n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg"),a=document.createElementNS(n,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${r}`),i.setAttribute("viewBox",`0 0 ${t} ${r}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),Se(i)}const h=(e,t)=>{if(e instanceof t)return!0;let r=Object.getPrototypeOf(e);return r===null?!1:r.constructor.name===t.name||h(r,t)};function ve(e){let t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function xe(e,t){return q(t).map(r=>`${r}: ${e.getPropertyValue(r)}${e.getPropertyPriority(r)?" !important":""};`).join(" ")}function $e(e,t,r,n){let i=`.${e}:${t}`,a=r.cssText?ve(r):xe(r,n);return document.createTextNode(`${i}{${a}}`)}function z(e,t,r,n){let i=window.getComputedStyle(e,r),a=i.getPropertyValue("content");if(a===""||a==="none")return;let o=ge();try{t.className=`${t.className} ${o}`}catch{return}let l=document.createElement("style");l.appendChild($e(o,r,i,n)),t.appendChild(l)}function Pe(e,t,r){z(e,t,":before",r),z(e,t,":after",r)}var G="application/font-woff",B="image/jpeg",Ce={woff:G,woff2:G,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:B,jpeg:B,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Re(e){let t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function A(e){return Ce[Re(e).toLowerCase()]||""}function Te(e){return e.split(/,/)[1]}function k(e){return e.search(/^(data:)/)!==-1}function _(e,t){return`data:${t};base64,${e}`}async function Q(e,t,r){let n=await fetch(e,t);if(n.status===404)throw Error(`Resource "${n.url}" not found`);let i=await n.blob();return new Promise((a,o)=>{let l=new FileReader;l.onerror=o,l.onloadend=()=>{try{a(r({res:n,result:l.result}))}catch(c){o(c)}},l.readAsDataURL(i)})}var I={};function Le(e,t,r){let n=e.replace(/\?.*/,"");return r&&(n=e),/ttf|otf|eot|woff2?/i.test(n)&&(n=n.replace(/.*\//,"")),t?`[${t}]${n}`:n}async function M(e,t,r){let n=Le(e,t,r.includeQueryParams);if(I[n]!=null)return I[n];r.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{i=_(await Q(e,r.fetchRequestInit,({res:a,result:o})=>(t||(t=a.headers.get("Content-Type")||""),Te(o))),t)}catch(a){i=r.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;a&&(o=typeof a=="string"?a:a.message),o&&console.warn(o)}return I[n]=i,i}async function Ne(e){let t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):T(t)}async function Ae(e,t){if(e.currentSrc){let n=document.createElement("canvas"),i=n.getContext("2d");return n.width=e.clientWidth,n.height=e.clientHeight,i==null||i.drawImage(e,0,0,n.width,n.height),T(n.toDataURL())}let r=e.poster;return T(await M(r,A(r),t))}async function ke(e,t){var r;try{if((r=e==null?void 0:e.contentDocument)!=null&&r.body)return await L(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Ie(e,t){return h(e,HTMLCanvasElement)?Ne(e):h(e,HTMLVideoElement)?Ae(e,t):h(e,HTMLIFrameElement)?ke(e,t):e.cloneNode(X(e))}var Me=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",X=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function je(e,t,r){var i;if(X(t))return t;let n=[];return n=Me(e)&&e.assignedNodes?g(e.assignedNodes()):h(e,HTMLIFrameElement)&&((i=e.contentDocument)!=null&&i.body)?g(e.contentDocument.body.childNodes):g((e.shadowRoot??e).childNodes),n.length===0||h(e,HTMLVideoElement)||await n.reduce((a,o)=>a.then(()=>L(o,r)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function He(e,t,r){let n=t.style;if(!n)return;let i=window.getComputedStyle(e);i.cssText?(n.cssText=i.cssText,n.transformOrigin=i.transformOrigin):q(r).forEach(a=>{let o=i.getPropertyValue(a);a==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),h(e,HTMLIFrameElement)&&a==="display"&&o==="inline"&&(o="block"),a==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),n.setProperty(a,o,i.getPropertyPriority(a))})}function Ve(e,t){h(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),h(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Fe(e,t){if(h(e,HTMLSelectElement)){let r=t,n=Array.from(r.children).find(i=>e.value===i.getAttribute("value"));n&&n.setAttribute("selected","")}}function Oe(e,t,r){return h(t,Element)&&(He(e,t,r),Pe(e,t,r),Ve(e,t),Fe(e,t)),t}async function De(e,t){let r=e.querySelectorAll?e.querySelectorAll("use"):[];if(r.length===0)return e;let n={};for(let a=0;a<r.length;a++){let o=r[a].getAttribute("xlink:href");if(o){let l=e.querySelector(o),c=document.querySelector(o);!l&&c&&!n[o]&&(n[o]=await L(c,t,!0))}}let i=Object.values(n);if(i.length){let a="http://www.w3.org/1999/xhtml",o=document.createElementNS(a,"svg");o.setAttribute("xmlns",a),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";let l=document.createElementNS(a,"defs");o.appendChild(l);for(let c=0;c<i.length;c++)l.appendChild(i[c]);e.appendChild(o)}return e}async function L(e,t,r){return!r&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(n=>Ie(n,t)).then(n=>je(e,n,t)).then(n=>Oe(e,n,t)).then(n=>De(n,t))}var Y=/url\((['"]?)([^'"]+?)\1\)/g,Ue=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,qe=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function We(e){let t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function ze(e){let t=[];return e.replace(Y,(r,n,i)=>(t.push(i),r)),t.filter(r=>!k(r))}async function Ge(e,t,r,n,i){try{let a=r?me(t,r):t,o=A(t),l;return l=i?_(await i(a),o):await M(a,o,n),e.replace(We(t),`$1${l}$3`)}catch{}return e}function Be(e,{preferredFontFormat:t}){return t?e.replace(qe,r=>{for(;;){let[n,,i]=Ue.exec(r)||[];if(!i)return"";if(i===t)return`src: ${n};`}}):e}function J(e){return e.search(Y)!==-1}async function K(e,t,r){if(!J(e))return e;let n=Be(e,r);return ze(n).reduce((i,a)=>i.then(o=>Ge(o,a,t,r)),Promise.resolve(n))}async function S(e,t,r){var i;let n=(i=t.style)==null?void 0:i.getPropertyValue(e);if(n){let a=await K(n,null,r);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function _e(e,t){await S("background",e,t)||await S("background-image",e,t),await S("mask",e,t)||await S("-webkit-mask",e,t)||await S("mask-image",e,t)||await S("-webkit-mask-image",e,t)}async function Qe(e,t){let r=h(e,HTMLImageElement);if(!(r&&!k(e.src))&&!(h(e,SVGImageElement)&&!k(e.href.baseVal)))return;let n=r?e.src:e.href.baseVal,i=await M(n,A(n),t);await new Promise((a,o)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...c)=>{try{a(t.onImageErrorHandler(...c))}catch(u){o(u)}}:o;let l=e;l.decode&&(l.decode=a),l.loading==="lazy"&&(l.loading="eager"),r?(e.srcset="",e.src=i):e.href.baseVal=i})}async function Xe(e,t){let r=g(e.childNodes).map(n=>Z(n,t));await Promise.all(r).then(()=>e)}async function Z(e,t){h(e,Element)&&(await _e(e,t),await Qe(e,t),await Xe(e,t))}function Ye(e,t){let{style:r}=e;t.backgroundColor&&(r.backgroundColor=t.backgroundColor),t.width&&(r.width=`${t.width}px`),t.height&&(r.height=`${t.height}px`);let n=t.style;return n!=null&&Object.keys(n).forEach(i=>{r[i]=n[i]}),e}var ee={};async function te(e){let t=ee[e];return t??(t={url:e,cssText:await(await fetch(e)).text()},ee[e]=t,t)}async function re(e,t){let r=e.cssText,n=/url\(["']?([^"')]+)["']?\)/g,i=(r.match(/url\([^)]+\)/g)||[]).map(async a=>{let o=a.replace(n,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),Q(o,t.fetchRequestInit,({result:l})=>(r=r.replace(a,`url(${l})`),[a,l]))});return Promise.all(i).then(()=>r)}function ne(e){if(e==null)return[];let t=[],r=e.replace(/(\/\*[\s\S]*?\*\/)/gi,""),n=RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){let o=n.exec(r);if(o===null)break;t.push(o[0])}r=r.replace(n,"");let i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,a=RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");for(;;){let o=i.exec(r);if(o===null){if(o=a.exec(r),o===null)break;i.lastIndex=a.lastIndex}else a.lastIndex=i.lastIndex;t.push(o[0])}return t}async function Je(e,t){let r=[],n=[];return e.forEach(i=>{if("cssRules"in i)try{g(i.cssRules||[]).forEach((a,o)=>{if(a.type===CSSRule.IMPORT_RULE){let l=o+1,c=a.href,u=te(c).then(s=>re(s,t)).then(s=>ne(s).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?l+=1:i.cssRules.length)}catch(E){console.error("Error inserting rule from remote css",{rule:f,error:E})}})).catch(s=>{console.error("Error loading remote css",s.toString())});n.push(u)}})}catch(a){let o=e.find(l=>l.href==null)||document.styleSheets[0];i.href!=null&&n.push(te(i.href).then(l=>re(l,t)).then(l=>ne(l).forEach(c=>{o.insertRule(c,o.cssRules.length)})).catch(l=>{console.error("Error loading remote stylesheet",l)})),console.error("Error inlining remote css file",a)}}),Promise.all(n).then(()=>(e.forEach(i=>{if("cssRules"in i)try{g(i.cssRules||[]).forEach(a=>{r.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),r))}function Ke(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>J(t.style.getPropertyValue("src")))}async function Ze(e,t){if(e.ownerDocument==null)throw Error("Provided element is not within a Document");return Ke(await Je(g(e.ownerDocument.styleSheets),t))}function ie(e){return e.trim().replace(/["']/g,"")}function et(e){let t=new Set;function r(n){(n.style.fontFamily||getComputedStyle(n).fontFamily).split(",").forEach(i=>{t.add(ie(i))}),Array.from(n.children).forEach(i=>{i instanceof HTMLElement&&r(i)})}return r(e),t}async function tt(e,t){let r=await Ze(e,t),n=et(e);return(await Promise.all(r.filter(i=>n.has(ie(i.style.fontFamily))).map(i=>{let a=i.parentStyleSheet?i.parentStyleSheet.href:null;return K(i.cssText,a,t)}))).join(`
`)}async function rt(e,t){let r=t.fontEmbedCSS==null?t.skipFonts?null:await tt(e,t):t.fontEmbedCSS;if(r){let n=document.createElement("style"),i=document.createTextNode(r);n.appendChild(i),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)}}async function nt(e,t={}){let{width:r,height:n}=W(e,t),i=await L(e,t,!0);return await rt(i,t),await Z(i,t),Ye(i,t),await Ee(i,r,n)}async function it(e,t={}){let{width:r,height:n}=W(e,t),i=await T(await nt(e,t)),a=document.createElement("canvas"),o=a.getContext("2d"),l=t.pixelRatio||we(),c=t.canvasWidth||r,u=t.canvasHeight||n;return a.width=c*l,a.height=u*l,t.skipAutoScale||be(a),a.style.width=`${c}`,a.style.height=`${u}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,a.width,a.height)),o.drawImage(i,0,0,a.width,a.height),a}async function ae(e,t={}){return(await it(e,t)).toDataURL()}const p={toMarkdown:e=>p.replace(e,"md"),toHTML:e=>p.replace(e,"html"),toPNG:e=>p.replace(e,"png"),toPY:e=>p.replace(e,"py"),withoutExtension:e=>{let t=e.split(".");return t.length===1?e:t.slice(0,-1).join(".")},replace:(e,t)=>e.endsWith(`.${t}`)?e:`${p.withoutExtension(e)}.${t}`};async function at(e,t){let r=document.getElementById("App"),n=(r==null?void 0:r.scrollTop)??0;document.body.classList.add("printing");try{j(await ae(e),p.toPNG(t))}catch{le({title:"Error",description:"Failed to download as PNG.",variant:"danger"})}finally{document.body.classList.remove("printing"),requestAnimationFrame(()=>{r==null||r.scrollTo(0,n)})}}function j(e,t){let r=document.createElement("a");r.href=e,r.download=t,r.click(),r.remove()}function ot(e,t){let r=URL.createObjectURL(e);j(r,t),URL.revokeObjectURL(r)}export{ae as a,ue as c,p as i,j as n,de as o,at as r,he as s,ot as t};
