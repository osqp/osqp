.. _matlab_interface:

Migration guide from v0.6.x
===========================

This is a migration document that lists the changes required to migrate from V0.6 to V1.0 of the OSQP API.


API changes
^^^^^^^^^^^
In this section, we describe the changes done to the API. These include new functions, modified functions and structures, etc.

+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Action                               | What to look for                                                                                                                                                                                                                               |
+======================================+================================================================================================================================================================================================================================================+
| :code:`OSQPInfo`                     | The fields of :code:`OSQPInfo` were changed.                                                                                                                                                                                                   |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`OSQPSettings`                 | The fields of :code:`OSQPSettings` were changed.                                                                                                                                                                                               |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`OSQPSolver`                   | :code:`OSQPSolver` now holds all the information previously stored at :code:`OSQPWorkspace` (:code:`OSQPInfo*`, :code:`OSQPSettings*`, :code:`OSQPInformation*`, and :code:`OSQPWorkspace*`).                                                  |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`osqp_cleanup`                 | :code:`osqp_cleanup` now gets :code:`OSQPSolver*` instead of :code:`OSQPWorkspace*`.                                                                                                                                                           |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`OSQPCscMatrix`                | CSC matrices are stored in :code:`OSQPCscMatrix`, and are updated with :code:`csc_set_data`.                                                                                                                                                   |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`osqp_setup`                   | The function :code:`osqp_setup` and its signature changed.                                                                                                                                                                                     |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`l,u,q`                        | The vectors :code:`l,u,q` are updated via :code:`osqp_update_vec` (which replaces :code:`osqp_update_lin_cost` and :code:`osqp_update_bounds`).                                                                                                |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`osqp_update_data_mat`         | All of the fields of a data matrix are updated with :code:`osqp_update_data_mat` (which replaces :code:`osqp_update_lower_bound`, :code:`osqp_update_upper_bound`, :code:`osqp_update_P_A`, :code:`osqp_update_P`, and :code:`osqp_update_A`). |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`osqp_warm_start`              | The function :code:`osqp_warm_start` replaces :code:`osqp_warm_start_x` and :code:`osqp_warm_start_y`.                                                                                                                                         |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`osqp_solve`                   | :code:`osqp_solve` now gets :code:`OSQPSolver*`.                                                                                                                                                                                               |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


Renaming
^^^^^^^^
The following types and variables were renamed.

+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Action                               | What to look for                                                                                                                                                                                                                               |
+======================================+================================================================================================================================================================================================================================================+
| :code:`polishing`                    | Changed :code:`polish` to :code:`polishing` in :code:`OSQPSettings`.                                                                                                                                                                           |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`warm_starting`                | Changed :code:`warm_start` to :code:`warm_starting` in :code:`OSQPSettings`.                                                                                                                                                                   |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`OSQPInt`                      | :code:`OSQPInt` replaces :code:`c_int`.                                                                                                                                                                                                        |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`OSQPFloat`                    | :code:`OSQPFloat` replaces :code:`c_float`.                                                                                                                                                                                                    |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


Value changes
^^^^^^^^^^^^^
The following values were changed.

+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Action                               | What to look for                                                                                                                                                                                                                               |
+======================================+================================================================================================================================================================================================================================================+
| :code:`OSQP_TIME_LIMIT`              | The default time of :code:`OSQP_TIME_LIMIT` is now 1e10.                                                                                                                                                                                       |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| :code:`enum osqp_linsys_solver_type` | The possbible values changed from :code:`QDLDL_SOLVER,MKL_PARDISO_SOLVER` to :code:`OSQP_UNKNOWN_SOLVER,OSQP_DIRECT_SOLVER,OSQP_INDIRECT_SOLVER`.                                                                                              |
+--------------------------------------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
